import{r as Sn,_ as Ct,a as lt,o as At,b as Zt,c as j,d as $,e as Rt,f as ft,m as Rn,u as xt,g as In,h as Z,w as Ce,v as wn,t as ut,F as It,i as Bt,j as tt,n as kt,k as Ln,l as Mt,p as ne,q as Ot,s as kn,x as bt,y as de,z as Xt,T as $t,A as _t,B as jt,C as Pn,D as _n,E as Xe,G as Dn}from"./framework.DYkcJDkc.js";const Vn="/assets/bgm.DuMj4eqY.mp3";var ze={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},ye={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Fn=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],te={CSS:{},springs:{}};function Dt(s,e,v){return Math.min(Math.max(s,e),v)}function Gt(s,e){return s.indexOf(e)>-1}function se(s,e){return s.apply(null,e)}var q={arr:function(s){return Array.isArray(s)},obj:function(s){return Gt(Object.prototype.toString.call(s),"Object")},pth:function(s){return q.obj(s)&&s.hasOwnProperty("totalLength")},svg:function(s){return s instanceof SVGElement},inp:function(s){return s instanceof HTMLInputElement},dom:function(s){return s.nodeType||q.svg(s)},str:function(s){return typeof s=="string"},fnc:function(s){return typeof s=="function"},und:function(s){return typeof s>"u"},nil:function(s){return q.und(s)||s===null},hex:function(s){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s)},rgb:function(s){return/^rgb/.test(s)},hsl:function(s){return/^hsl/.test(s)},col:function(s){return q.hex(s)||q.rgb(s)||q.hsl(s)},key:function(s){return!ze.hasOwnProperty(s)&&!ye.hasOwnProperty(s)&&s!=="targets"&&s!=="keyframes"}};function je(s){var e=/\(([^)]+)\)/.exec(s);return e?e[1].split(",").map(function(v){return parseFloat(v)}):[]}function qe(s,e){var v=je(s),a=Dt(q.und(v[0])?1:v[0],.1,100),t=Dt(q.und(v[1])?100:v[1],.1,100),r=Dt(q.und(v[2])?10:v[2],.1,100),n=Dt(q.und(v[3])?0:v[3],.1,100),i=Math.sqrt(t/a),u=r/(2*Math.sqrt(t*a)),h=u<1?i*Math.sqrt(1-u*u):0,f=1,c=u<1?(u*i+-n)/h:-n+i;function o(p){var d=e?e*p/1e3:p;return u<1?d=Math.exp(-d*u*i)*(f*Math.cos(h*d)+c*Math.sin(h*d)):d=(f+c*d)*Math.exp(-d*i),p===0||p===1?p:1-d}function l(){var p=te.springs[s];if(p)return p;for(var d=1/6,m=0,g=0;;)if(m+=d,o(m)===1){if(g++,g>=16)break}else g=0;var y=m*d*1e3;return te.springs[s]=y,y}return e?o:l}function On(s){return s===void 0&&(s=10),function(e){return Math.ceil(Dt(e,1e-6,1)*s)*(1/s)}}var Bn=function(){var s=11,e=1/(s-1);function v(f,c){return 1-3*c+3*f}function a(f,c){return 3*c-6*f}function t(f){return 3*f}function r(f,c,o){return((v(c,o)*f+a(c,o))*f+t(c))*f}function n(f,c,o){return 3*v(c,o)*f*f+2*a(c,o)*f+t(c)}function i(f,c,o,l,p){var d,m,g=0;do m=c+(o-c)/2,d=r(m,l,p)-f,d>0?o=m:c=m;while(Math.abs(d)>1e-7&&++g<10);return m}function u(f,c,o,l){for(var p=0;p<4;++p){var d=n(c,o,l);if(d===0)return c;var m=r(c,o,l)-f;c-=m/d}return c}function h(f,c,o,l){if(!(0<=f&&f<=1&&0<=o&&o<=1))return;var p=new Float32Array(s);if(f!==c||o!==l)for(var d=0;d<s;++d)p[d]=r(d*e,f,o);function m(g){for(var y=0,k=1,S=s-1;k!==S&&p[k]<=g;++k)y+=e;--k;var T=(g-p[k])/(p[k+1]-p[k]),x=y+T*e,M=n(x,f,o);return M>=.001?u(g,x,f,o):M===0?x:i(g,y,y+e,f,o)}return function(g){return f===c&&o===l||g===0||g===1?g:r(m(g),c,l)}}return h}(),Je=function(){var s={linear:function(){return function(a){return a}}},e={Sine:function(){return function(a){return 1-Math.cos(a*Math.PI/2)}},Expo:function(){return function(a){return a?Math.pow(2,10*a-10):0}},Circ:function(){return function(a){return 1-Math.sqrt(1-a*a)}},Back:function(){return function(a){return a*a*(3*a-2)}},Bounce:function(){return function(a){for(var t,r=4;a<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((t*3-2)/22-a,2)}},Elastic:function(a,t){a===void 0&&(a=1),t===void 0&&(t=.5);var r=Dt(a,1,10),n=Dt(t,.1,2);return function(i){return i===0||i===1?i:-r*Math.pow(2,10*(i-1))*Math.sin((i-1-n/(Math.PI*2)*Math.asin(1/r))*(Math.PI*2)/n)}}},v=["Quad","Cubic","Quart","Quint"];return v.forEach(function(a,t){e[a]=function(){return function(r){return Math.pow(r,t+2)}}}),Object.keys(e).forEach(function(a){var t=e[a];s["easeIn"+a]=t,s["easeOut"+a]=function(r,n){return function(i){return 1-t(r,n)(1-i)}},s["easeInOut"+a]=function(r,n){return function(i){return i<.5?t(r,n)(i*2)/2:1-t(r,n)(i*-2+2)/2}},s["easeOutIn"+a]=function(r,n){return function(i){return i<.5?(1-t(r,n)(1-i*2))/2:(t(r,n)(i*2-1)+1)/2}}}),s}();function xe(s,e){if(q.fnc(s))return s;var v=s.split("(")[0],a=Je[v],t=je(s);switch(v){case"spring":return qe(s,e);case"cubicBezier":return se(Bn,t);case"steps":return se(On,t);default:return se(a,t)}}function Qe(s){try{var e=document.querySelectorAll(s);return e}catch{return}}function re(s,e){for(var v=s.length,a=arguments.length>=2?arguments[1]:void 0,t=[],r=0;r<v;r++)if(r in s){var n=s[r];e.call(a,n,r,s)&&t.push(n)}return t}function ie(s){return s.reduce(function(e,v){return e.concat(q.arr(v)?ie(v):v)},[])}function Ve(s){return q.arr(s)?s:(q.str(s)&&(s=Qe(s)||s),s instanceof NodeList||s instanceof HTMLCollection?[].slice.call(s):[s])}function Ae(s,e){return s.some(function(v){return v===e})}function Ee(s){var e={};for(var v in s)e[v]=s[v];return e}function fe(s,e){var v=Ee(s);for(var a in s)v[a]=e.hasOwnProperty(a)?e[a]:s[a];return v}function ae(s,e){var v=Ee(s);for(var a in e)v[a]=q.und(s[a])?e[a]:s[a];return v}function Nn(s){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(s);return e?"rgba("+e[1]+",1)":s}function Un(s){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,v=s.replace(e,function(i,u,h,f){return u+u+h+h+f+f}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(v),t=parseInt(a[1],16),r=parseInt(a[2],16),n=parseInt(a[3],16);return"rgba("+t+","+r+","+n+",1)"}function Yn(s){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(s),v=parseInt(e[1],10)/360,a=parseInt(e[2],10)/100,t=parseInt(e[3],10)/100,r=e[4]||1;function n(o,l,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?o+(l-o)*6*p:p<1/2?l:p<2/3?o+(l-o)*(2/3-p)*6:o}var i,u,h;if(a==0)i=u=h=t;else{var f=t<.5?t*(1+a):t+a-t*a,c=2*t-f;i=n(c,f,v+1/3),u=n(c,f,v),h=n(c,f,v-1/3)}return"rgba("+i*255+","+u*255+","+h*255+","+r+")"}function bn(s){if(q.rgb(s))return Nn(s);if(q.hex(s))return Un(s);if(q.hsl(s))return Yn(s)}function Nt(s){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(s);if(e)return e[1]}function Wn(s){if(Gt(s,"translate")||s==="perspective")return"px";if(Gt(s,"rotate")||Gt(s,"skew"))return"deg"}function ve(s,e){return q.fnc(s)?s(e.target,e.id,e.total):s}function Vt(s,e){return s.getAttribute(e)}function Te(s,e,v){var a=Nt(e);if(Ae([v,"deg","rad","turn"],a))return e;var t=te.CSS[e+v];if(!q.und(t))return t;var r=100,n=document.createElement(s.tagName),i=s.parentNode&&s.parentNode!==document?s.parentNode:document.body;i.appendChild(n),n.style.position="absolute",n.style.width=r+v;var u=r/n.offsetWidth;i.removeChild(n);var h=u*parseFloat(e);return te.CSS[e+v]=h,h}function Ke(s,e,v){if(e in s.style){var a=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t=s.style[e]||getComputedStyle(s).getPropertyValue(a)||"0";return v?Te(s,t,v):t}}function Se(s,e){if(q.dom(s)&&!q.inp(s)&&(!q.nil(Vt(s,e))||q.svg(s)&&s[e]))return"attribute";if(q.dom(s)&&Ae(Fn,e))return"transform";if(q.dom(s)&&e!=="transform"&&Ke(s,e))return"css";if(s[e]!=null)return"object"}function $e(s){if(q.dom(s)){for(var e=s.style.transform||"",v=/(\w+)\(([^)]*)\)/g,a=new Map,t;t=v.exec(e);)a.set(t[1],t[2]);return a}}function Hn(s,e,v,a){var t=Gt(e,"scale")?1:0+Wn(e),r=$e(s).get(e)||t;return v&&(v.transforms.list.set(e,r),v.transforms.last=e),a?Te(s,r,a):r}function Re(s,e,v,a){switch(Se(s,e)){case"transform":return Hn(s,e,a,v);case"css":return Ke(s,e,v);case"attribute":return Vt(s,e);default:return s[e]||0}}function Ie(s,e){var v=/^(\*=|\+=|-=)/.exec(s);if(!v)return s;var a=Nt(s)||0,t=parseFloat(e),r=parseFloat(s.replace(v[0],""));switch(v[0][0]){case"+":return t+r+a;case"-":return t-r+a;case"*":return t*r+a}}function tn(s,e){if(q.col(s))return bn(s);if(/\s/g.test(s))return s;var v=Nt(s),a=v?s.substr(0,s.length-v.length):s;return e?a+e:a}function we(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function Zn(s){return Math.PI*2*Vt(s,"r")}function Gn(s){return Vt(s,"width")*2+Vt(s,"height")*2}function Xn(s){return we({x:Vt(s,"x1"),y:Vt(s,"y1")},{x:Vt(s,"x2"),y:Vt(s,"y2")})}function en(s){for(var e=s.points,v=0,a,t=0;t<e.numberOfItems;t++){var r=e.getItem(t);t>0&&(v+=we(a,r)),a=r}return v}function zn(s){var e=s.points;return en(s)+we(e.getItem(e.numberOfItems-1),e.getItem(0))}function nn(s){if(s.getTotalLength)return s.getTotalLength();switch(s.tagName.toLowerCase()){case"circle":return Zn(s);case"rect":return Gn(s);case"line":return Xn(s);case"polyline":return en(s);case"polygon":return zn(s)}}function jn(s){var e=nn(s);return s.setAttribute("stroke-dasharray",e),e}function qn(s){for(var e=s.parentNode;q.svg(e)&&q.svg(e.parentNode);)e=e.parentNode;return e}function rn(s,e){var v=e||{},a=v.el||qn(s),t=a.getBoundingClientRect(),r=Vt(a,"viewBox"),n=t.width,i=t.height,u=v.viewBox||(r?r.split(" "):[0,0,n,i]);return{el:a,viewBox:u,x:u[0]/1,y:u[1]/1,w:n,h:i,vW:u[2],vH:u[3]}}function Jn(s,e){var v=q.str(s)?Qe(s)[0]:s,a=e||100;return function(t){return{property:t,el:v,svg:rn(v),totalLength:nn(v)*(a/100)}}}function Qn(s,e,v){function a(f){f===void 0&&(f=0);var c=e+f>=1?e+f:0;return s.el.getPointAtLength(c)}var t=rn(s.el,s.svg),r=a(),n=a(-1),i=a(1),u=v?1:t.w/t.vW,h=v?1:t.h/t.vH;switch(s.property){case"x":return(r.x-t.x)*u;case"y":return(r.y-t.y)*h;case"angle":return Math.atan2(i.y-n.y,i.x-n.x)*180/Math.PI}}function Fe(s,e){var v=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,a=tn(q.pth(s)?s.totalLength:s,e)+"";return{original:a,numbers:a.match(v)?a.match(v).map(Number):[0],strings:q.str(s)||e?a.split(v):[]}}function Le(s){var e=s?ie(q.arr(s)?s.map(Ve):Ve(s)):[];return re(e,function(v,a,t){return t.indexOf(v)===a})}function an(s){var e=Le(s);return e.map(function(v,a){return{target:v,id:a,total:e.length,transforms:{list:$e(v)}}})}function Kn(s,e){var v=Ee(e);if(/^spring/.test(v.easing)&&(v.duration=qe(v.easing)),q.arr(s)){var a=s.length,t=a===2&&!q.obj(s[0]);t?s={value:s}:q.fnc(e.duration)||(v.duration=e.duration/a)}var r=q.arr(s)?s:[s];return r.map(function(n,i){var u=q.obj(n)&&!q.pth(n)?n:{value:n};return q.und(u.delay)&&(u.delay=i?0:e.delay),q.und(u.endDelay)&&(u.endDelay=i===r.length-1?e.endDelay:0),u}).map(function(n){return ae(n,v)})}function $n(s){for(var e=re(ie(s.map(function(r){return Object.keys(r)})),function(r){return q.key(r)}).reduce(function(r,n){return r.indexOf(n)<0&&r.push(n),r},[]),v={},a=function(r){var n=e[r];v[n]=s.map(function(i){var u={};for(var h in i)q.key(h)?h==n&&(u.value=i[h]):u[h]=i[h];return u})},t=0;t<e.length;t++)a(t);return v}function tr(s,e){var v=[],a=e.keyframes;a&&(e=ae($n(a),e));for(var t in e)q.key(t)&&v.push({name:t,tweens:Kn(e[t],s)});return v}function er(s,e){var v={};for(var a in s){var t=ve(s[a],e);q.arr(t)&&(t=t.map(function(r){return ve(r,e)}),t.length===1&&(t=t[0])),v[a]=t}return v.duration=parseFloat(v.duration),v.delay=parseFloat(v.delay),v}function nr(s,e){var v;return s.tweens.map(function(a){var t=er(a,e),r=t.value,n=q.arr(r)?r[1]:r,i=Nt(n),u=Re(e.target,s.name,i,e),h=v?v.to.original:u,f=q.arr(r)?r[0]:h,c=Nt(f)||Nt(u),o=i||c;return q.und(n)&&(n=h),t.from=Fe(f,o),t.to=Fe(Ie(n,f),o),t.start=v?v.end:0,t.end=t.start+t.delay+t.duration+t.endDelay,t.easing=xe(t.easing,t.duration),t.isPath=q.pth(r),t.isPathTargetInsideSVG=t.isPath&&q.svg(e.target),t.isColor=q.col(t.from.original),t.isColor&&(t.round=1),v=t,t})}var sn={css:function(s,e,v){return s.style[e]=v},attribute:function(s,e,v){return s.setAttribute(e,v)},object:function(s,e,v){return s[e]=v},transform:function(s,e,v,a,t){if(a.list.set(e,v),e===a.last||t){var r="";a.list.forEach(function(n,i){r+=i+"("+n+") "}),s.style.transform=r}}};function on(s,e){var v=an(s);v.forEach(function(a){for(var t in e){var r=ve(e[t],a),n=a.target,i=Nt(r),u=Re(n,t,i,a),h=i||Nt(u),f=Ie(tn(r,h),u),c=Se(n,t);sn[c](n,t,f,a.transforms,!0)}})}function rr(s,e){var v=Se(s.target,e.name);if(v){var a=nr(e,s),t=a[a.length-1];return{type:v,property:e.name,animatable:s,tweens:a,duration:t.end,delay:a[0].delay,endDelay:t.endDelay}}}function ir(s,e){return re(ie(s.map(function(v){return e.map(function(a){return rr(v,a)})})),function(v){return!q.und(v)})}function hn(s,e){var v=s.length,a=function(r){return r.timelineOffset?r.timelineOffset:0},t={};return t.duration=v?Math.max.apply(Math,s.map(function(r){return a(r)+r.duration})):e.duration,t.delay=v?Math.min.apply(Math,s.map(function(r){return a(r)+r.delay})):e.delay,t.endDelay=v?t.duration-Math.max.apply(Math,s.map(function(r){return a(r)+r.duration-r.endDelay})):e.endDelay,t}var Oe=0;function ar(s){var e=fe(ze,s),v=fe(ye,s),a=tr(v,s),t=an(s.targets),r=ir(t,a),n=hn(r,v),i=Oe;return Oe++,ae(e,{id:i,children:[],animatables:t,animations:r,duration:n.duration,delay:n.delay,endDelay:n.endDelay})}var Pt=[],ln=function(){var s;function e(){!s&&(!Be()||!et.suspendWhenDocumentHidden)&&Pt.length>0&&(s=requestAnimationFrame(v))}function v(t){for(var r=Pt.length,n=0;n<r;){var i=Pt[n];i.paused?(Pt.splice(n,1),r--):(i.tick(t),n++)}s=n>0?requestAnimationFrame(v):void 0}function a(){et.suspendWhenDocumentHidden&&(Be()?s=cancelAnimationFrame(s):(Pt.forEach(function(t){return t._onDocumentVisibility()}),ln()))}return typeof document<"u"&&document.addEventListener("visibilitychange",a),e}();function Be(){return!!document&&document.hidden}function et(s){s===void 0&&(s={});var e=0,v=0,a=0,t,r=0,n=null;function i(y){var k=window.Promise&&new Promise(function(S){return n=S});return y.finished=k,k}var u=ar(s);i(u);function h(){var y=u.direction;y!=="alternate"&&(u.direction=y!=="normal"?"normal":"reverse"),u.reversed=!u.reversed,t.forEach(function(k){return k.reversed=u.reversed})}function f(y){return u.reversed?u.duration-y:y}function c(){e=0,v=f(u.currentTime)*(1/et.speed)}function o(y,k){k&&k.seek(y-k.timelineOffset)}function l(y){if(u.reversePlayback)for(var S=r;S--;)o(y,t[S]);else for(var k=0;k<r;k++)o(y,t[k])}function p(y){for(var k=0,S=u.animations,T=S.length;k<T;){var x=S[k],M=x.animatable,A=x.tweens,L=A.length-1,R=A[L];L&&(R=re(A,function(P){return y<P.end})[0]||R);for(var F=Dt(y-R.start-R.delay,0,R.duration)/R.duration,I=isNaN(F)?1:R.easing(F),_=R.to.strings,N=R.round,w=[],C=R.to.numbers.length,E=void 0,V=0;V<C;V++){var D=void 0,H=R.to.numbers[V],Y=R.from.numbers[V]||0;R.isPath?D=Qn(R.value,I*H,R.isPathTargetInsideSVG):D=Y+I*(H-Y),N&&(R.isColor&&V>2||(D=Math.round(D*N)/N)),w.push(D)}var W=_.length;if(!W)E=w[0];else{E=_[0];for(var b=0;b<W;b++){_[b];var U=_[b+1],O=w[b];isNaN(O)||(U?E+=O+U:E+=O+" ")}}sn[x.type](M.target,x.property,E,M.transforms),x.currentValue=E,k++}}function d(y){u[y]&&!u.passThrough&&u[y](u)}function m(){u.remaining&&u.remaining!==!0&&u.remaining--}function g(y){var k=u.duration,S=u.delay,T=k-u.endDelay,x=f(y);u.progress=Dt(x/k*100,0,100),u.reversePlayback=x<u.currentTime,t&&l(x),!u.began&&u.currentTime>0&&(u.began=!0,d("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,d("loopBegin")),x<=S&&u.currentTime!==0&&p(0),(x>=T&&u.currentTime!==k||!k)&&p(k),x>S&&x<T?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,d("changeBegin")),d("change"),p(x)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,d("changeComplete")),u.currentTime=Dt(x,0,k),u.began&&d("update"),y>=k&&(v=0,m(),u.remaining?(e=a,d("loopComplete"),u.loopBegan=!1,u.direction==="alternate"&&h()):(u.paused=!0,u.completed||(u.completed=!0,d("loopComplete"),d("complete"),!u.passThrough&&"Promise"in window&&(n(),i(u)))))}return u.reset=function(){var y=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed=y==="reverse",u.remaining=u.loop,t=u.children,r=t.length;for(var k=r;k--;)u.children[k].reset();(u.reversed&&u.loop!==!0||y==="alternate"&&u.loop===1)&&u.remaining++,p(u.reversed?u.duration:0)},u._onDocumentVisibility=c,u.set=function(y,k){return on(y,k),u},u.tick=function(y){a=y,e||(e=a),g((a+(v-e))*et.speed)},u.seek=function(y){g(f(y))},u.pause=function(){u.paused=!0,c()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,Pt.push(u),c(),ln())},u.reverse=function(){h(),u.completed=!u.reversed,c()},u.restart=function(){u.reset(),u.play()},u.remove=function(y){var k=Le(y);un(k,u)},u.reset(),u.autoplay&&u.play(),u}function Ne(s,e){for(var v=e.length;v--;)Ae(s,e[v].animatable.target)&&e.splice(v,1)}function un(s,e){var v=e.animations,a=e.children;Ne(s,v);for(var t=a.length;t--;){var r=a[t],n=r.animations;Ne(s,n),!n.length&&!r.children.length&&a.splice(t,1)}!v.length&&!a.length&&e.pause()}function sr(s){for(var e=Le(s),v=Pt.length;v--;){var a=Pt[v];un(e,a)}}function or(s,e){e===void 0&&(e={});var v=e.direction||"normal",a=e.easing?xe(e.easing):null,t=e.grid,r=e.axis,n=e.from||0,i=n==="first",u=n==="center",h=n==="last",f=q.arr(s),c=parseFloat(f?s[0]:s),o=f?parseFloat(s[1]):0,l=Nt(f?s[1]:s)||0,p=e.start||0+(f?c:0),d=[],m=0;return function(g,y,k){if(i&&(n=0),u&&(n=(k-1)/2),h&&(n=k-1),!d.length){for(var S=0;S<k;S++){if(!t)d.push(Math.abs(n-S));else{var T=u?(t[0]-1)/2:n%t[0],x=u?(t[1]-1)/2:Math.floor(n/t[0]),M=S%t[0],A=Math.floor(S/t[0]),L=T-M,R=x-A,F=Math.sqrt(L*L+R*R);r==="x"&&(F=-L),r==="y"&&(F=-R),d.push(F)}m=Math.max.apply(Math,d)}a&&(d=d.map(function(_){return a(_/m)*m})),v==="reverse"&&(d=d.map(function(_){return r?_<0?_*-1:-_:Math.abs(m-_)}))}var I=f?(o-c)/m:c;return p+I*(Math.round(d[y]*100)/100)+l}}function hr(s){s===void 0&&(s={});var e=et(s);return e.duration=0,e.add=function(v,a){var t=Pt.indexOf(e),r=e.children;t>-1&&Pt.splice(t,1);function n(o){o.passThrough=!0}for(var i=0;i<r.length;i++)n(r[i]);var u=ae(v,fe(ye,s));u.targets=u.targets||s.targets;var h=e.duration;u.autoplay=!1,u.direction=e.direction,u.timelineOffset=q.und(a)?h:Ie(a,h),n(e),e.seek(u.timelineOffset);var f=et(u);n(f),r.push(f);var c=hn(r,s);return e.delay=c.delay,e.endDelay=c.endDelay,e.duration=c.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}et.version="3.2.1";et.speed=1;et.suspendWhenDocumentHidden=!0;et.running=Pt;et.remove=sr;et.get=Re;et.set=on;et.convertPx=Te;et.path=Jn;et.setDashoffset=jn;et.stagger=or;et.timeline=hr;et.easing=xe;et.penner=Je;et.random=function(s,e){return Math.floor(Math.random()*(e-s+1))+s};const lr=Sn({selectedPosts:[],currTag:"",currPost:{id:0,title:"",content:"",href:"",create:0,update:0,tags:[],wordCount:0,cover:"",excerpt:"",pinned:!1},currPage:1,searchDialog:!1,splashLoading:!0,fireworksEnabled:!0,SpinePlayerEnabled:!0,showDropdownMenu:!1,darkMode:"system"});function wt(){return{state:lr}}const ur=["innerHTML"],cr={__name:"Splash",setup(s){const e=lt(`<svg viewBox="0 0 1728 1117" preserveAspectRatio="xMinYMin slice" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_2_5)">
<g class="triangle-group">
<path d="M606 -123L1061 666H151L606 -123Z"/>
<path d="M190.15 144L67.3 -68.94L313 -68.94L190.15 144Z"/>
<path d="M1424.17 339L1249.35 35.97L1599 35.97L1424.17 339Z"/>
<path d="M-96.7 513.333L-216.4 305.853H23L-96.7 513.333Z"/>
<path d="M502.825 603.83L391 410L614.65 410L502.825 603.83Z"/>
<path d="M1228.45 648.333L1048.9 337.113L1408 337.113L1228.45 648.333Z"/>
<path d="M246.375 925.667L96.75 666.317H396L246.375 925.667Z"/>
<path d="M606.375 1048.45L504 871L708.75 871L606.375 1048.45Z"/>
<path d="M1376.5 960L1219 687H1534L1376.5 960Z"/>
<path d="M365.395 170L503.791 409.885H227L365.395 170Z"/>
<path d="M1049.36 337L1198.71 595.886H900L1049.36 337Z"/>
<path d="M1248.81 36L1340.61 195.132H1157L1248.81 36Z"/>
<path d="M503.99 680.333L614.981 872.716H393L503.99 680.333Z"/>
<path d="M870.433 698.333L997.866 919.218H743L870.433 698.333Z"/>
<path d="M1419.1 487L1534.2 686.508H1304L1419.1 487Z"/>
<path d="M312.914 809L445.828 1039.38H180L312.914 809Z"/>
<path d="M1225.51 1053.67L1368.01 1300.68H1083L1225.51 1053.67Z"/>
<path d="M1550.51 792L1693.01 1039.01H1408L1550.51 792Z"/>
</g>
<g id="breathingParts">
<path class="circle-path" fill-rule="evenodd" clip-rule="evenodd" d="M864 769C979.98 769 1074 674.98 1074 559C1074 443.02 979.98 349 864 349C748.02 349 654 443.02 654 559C654 674.98 748.02 769 864 769ZM864 749.909C969.436 749.909 1054.91 664.436 1054.91 559C1054.91 453.564 969.436 368.091 864 368.091C758.564 368.091 673.091 453.564 673.091 559C673.091 664.436 758.564 749.909 864 749.909Z"/>
<path class="led-path" class="led-path" d="M934.636 392.273H792.727L757.091 447H970.909L934.636 392.273Z"/>
<path class="led-path" d="M969.636 450.182H897.727L934.636 504.273L969.636 450.182Z"/>
<path class="led-path" d="M792.091 500.455L828.364 447L900.909 555.182L863.364 609.273L792.091 500.455Z"/>
<path class="led-path" d="M900.909 667.182L865.909 612.455L903.5 558.364L973.455 667.182L937.818 721.909H796.545L760.273 667.182L796.545 612.455L832.818 667.182H900.909Z"/>
</g>
<defs>
  <filter id="glow">
    <feGaussianBlur stdDeviation="4" result="blur"/>
    <feFlood class="glow-color" flood-opacity="2.5"/>
    <feComposite in2="blur" operator="in"/>
    <feComposite in="SourceGraphic"/>
  </filter>
</defs>
</svg>
`),v=lt(!0),{state:a}=wt(),t=()=>{et({targets:"#breathingParts",opacity:[.3,1],easing:"easeInOutSine",duration:500,direction:"alternate",loop:!0})},r=()=>{et({targets:".splash-container",opacity:0,duration:500,easing:"easeInOutQuad",complete:()=>{v.value=!1}}),a.splashLoading=!1},n=i=>{i.preventDefault()};return At(()=>{t(),window.addEventListener("wheel",n,{passive:!1}),setTimeout(()=>{r(),window.removeEventListener("wheel",n)},Math.floor(Math.random()*300)+1200)}),Zt(()=>{window.removeEventListener("wheel",n)}),(i,u)=>v.value?(j(),$("div",{key:0,class:"splash-container",innerHTML:e.value},null,8,ur)):Rt("",!0)}},dr=Ct(cr,[["__scopeId","data-v-0f16c3a5"]]),fr="data:image/svg+xml,%3csvg%20width='96'%20height='97'%20viewBox='0%200%2096%2097'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%203L10%2013L17%2019.5L39.5%2042L28.5%2057.5L22.5%2066.5L3.5%2096.5L28%2071L35%2063.5L48.5%2048.5L74%2068L81%2072.5L95.5%2081L83.5%2069L78%2063.5L53.5%2041L64.5%2025L69.5%2017.5L79.5%200L65%2014L58.5%2020.5L46%2034L19.5%2015.5L12%2010.5L0%203Z'%20fill='%23128AFA'/%3e%3cpath%20d='M57.5%2081.5C68.7%2081.5%2075%2078.5%2081%2072.5L74%2068C61.3607%2079.6749%2043%2068.5%2035%2063.5L28%2071C37%2078.5%2051.3333%2081.5%2057.5%2081.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M87.5%2053.5C87.5%2036%2075%2022.5%2069.5%2017.5L64.5%2025C83.7%2043.8%2081.6667%2058.3333%2078%2063.5L83.5%2069C87%2064.5%2087.5%2056%2087.5%2053.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M34%202.5C21%202.5%2015%207.5%2012%2010.5L19.5%2015.5C33.5%204.3%2051.6667%2014.3333%2058.5%2020.5L65%2014C57%208.5%2047%202.5%2034%202.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M5%2030.5C5%2048.9%2017.5%2061.5%2022.5%2066.5L28.5%2057.5C24%2052.5%2011.5%2040%2017%2019.5L10%2013C6%2018.6%204.66667%2027.5%205%2030.5Z'%20fill='%232B2B2B'/%3e%3c/svg%3e",zt=JSON.parse('[{"id":8,"title":"HelloWorld","content":"\\n只是一个 HelloWorld\\n\\n---\\n\\n# Markdown Extension Examples\\n\\nThis page demonstrates some of the built-in markdown extensions provided by VitePress.\\n\\n## Syntax Highlighting\\n\\nVitePress provides Syntax Highlighting powered by [Shiki](https://github.com/shikijs/shiki), with additional features like line-highlighting:\\n\\n**Input**\\n\\n````md\\n```js{4}\\nexport default {\\n  data () {\\n    return {\\n      msg: \'Highlighted!\'\\n    }\\n  }\\n}\\n```\\n````\\n\\n**Output**\\n\\n```js{4}\\nexport default {\\n  data () {\\n    return {\\n      msg: \'Highlighted!\'\\n    }\\n  }\\n}\\n```\\n\\n## Custom Containers\\n\\n**Input**\\n\\n```md\\n::: info\\nThis is an info box.\\n:::\\n\\n::: tip\\nThis is a tip.\\n:::\\n\\n::: warning\\nThis is a warning.\\n:::\\n\\n::: danger\\nThis is a dangerous warning.\\n:::\\n\\n::: details\\nThis is a details block.\\n:::\\n```\\n\\n**Output**\\n\\n::: info\\nThis is an info box.\\n:::\\n\\n::: tip\\nThis is a tip.\\n:::\\n\\n::: warning\\nThis is a warning.\\n:::\\n\\n::: danger\\nThis is a dangerous warning.\\n:::\\n\\n::: details\\nThis is a details block.\\n:::\\n\\n## More\\n\\nCheck out the documentation for the [full list of markdown extensions](https://vitepress.dev/guide/markdown).\\n","href":"posts/hello-world.html","create":1713225600000,"update":1756180325648,"tags":["HelloWorld","vue","vitepress"],"wordCount":136,"excerpt":"\\n只是一个 HelloWorld\\n\\n","pinned":true},{"id":3,"title":"Cover test 1","content":"This is a cover test post.\\n\\n---\\n","href":"posts/cover-test-norm.html","create":1746892800000,"update":1756180325648,"tags":["image"],"wordCount":6,"cover":"/wallpaper-2572384.webp","excerpt":"This is a cover test post.\\n\\n","pinned":false},{"id":5,"title":"Cover test 2","content":"This is a cover test post.\\n\\n---\\n","href":"posts/cover-test-wide.html","create":1746806400000,"update":1756180325648,"tags":["image"],"wordCount":6,"cover":"/wallpaper-878514.webp","excerpt":"This is a cover test post.\\n\\n","pinned":false},{"id":4,"title":"Cover test 3","content":"This is a cover test post.\\n\\n---\\n","href":"posts/cover-test-vert.html","create":1746720000000,"update":1756180325648,"tags":["image"],"wordCount":6,"cover":"/wallpaper-2311325.webp","excerpt":"This is a cover test post.\\n\\n","pinned":false},{"id":11,"title":"Latex公式测试","content":"\\nLatex 公式测试\\n\\n---\\n\\nWhen $a \\\\ne 0$, there are two solutions to $(ax^2 + bx + c = 0)$ and they are\\n$$ x = {-b \\\\pm \\\\sqrt{b^2-4ac} \\\\over 2a} $$\\n\\n**Maxwell\'s equations:**\\n\\n| equation                                                                                                                                                                  | description                                                                            |\\n| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------- |\\n| $\\\\nabla \\\\cdot \\\\vec{\\\\mathbf{B}}  = 0$                                                                                                                                      | divergence of $\\\\vec{\\\\mathbf{B}}$ is zero                                               |\\n| $\\\\nabla \\\\times \\\\vec{\\\\mathbf{E}}\\\\, +\\\\, \\\\frac1c\\\\, \\\\frac{\\\\partial\\\\vec{\\\\mathbf{B}}}{\\\\partial t}  = \\\\vec{\\\\mathbf{0}}$                                                          | curl of $\\\\vec{\\\\mathbf{E}}$ is proportional to the rate of change of $\\\\vec{\\\\mathbf{B}}$ |\\n| $\\\\nabla \\\\times \\\\vec{\\\\mathbf{B}} -\\\\, \\\\frac1c\\\\, \\\\frac{\\\\partial\\\\vec{\\\\mathbf{E}}}{\\\\partial t} = \\\\frac{4\\\\pi}{c}\\\\vec{\\\\mathbf{j}}    \\\\nabla \\\\cdot \\\\vec{\\\\mathbf{E}} = 4 \\\\pi \\\\rho$ | _wha?_                                                                                 |\\n","href":"posts/latex-test.html","create":1577836800000,"update":1756180325648,"tags":["Latex","test"],"wordCount":104,"excerpt":"\\nLatex 公式测试\\n\\n","pinned":false},{"id":2,"title":"Code Highlight Style test","content":"\\nMake sure all the code blocks highlighted correctly. All the code samples are come from the demo of https://highlightjs.org\\n\\n---\\n\\n```plain\\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.\\n```\\n\\n```rust\\n#[derive(Debug)]\\npub enum State {\\n    Start,\\n    Transient,\\n    Closed,\\n}\\n\\nimpl From<&\'a str> for State {\\n    fn from(s: &\'a str) -> Self {\\n        match s {\\n            \\"start\\" => State::Start,\\n            \\"closed\\" => State::Closed,\\n            _ => unreachable!(),\\n        }\\n    }\\n}\\n```\\n\\n```json\\n[\\n  {\\n    \\"title\\": \\"apples\\",\\n    \\"count\\": [12000, 20000],\\n    \\"description\\": { \\"text\\": \\"...\\", \\"sensitive\\": false }\\n  },\\n  {\\n    \\"title\\": \\"oranges\\",\\n    \\"count\\": [17500, null],\\n    \\"description\\": { \\"text\\": \\"...\\", \\"sensitive\\": false }\\n  }\\n]\\n```\\n\\n```python\\n@requires_authorization\\ndef somefunc(param1=\'\', param2=0):\\n    r\'\'\'A docstring\'\'\'\\n    if param1 > param2: # interesting\\n        print \'Gre\\\\\'ater\'\\n    return (param2 - param1 + 1 + 0b10l) or None\\n\\nclass SomeClass:\\n    pass\\n\\n>>> message = \'\'\'interpreter\\n... prompt\'\'\'\\n```\\n\\n```html\\n<!DOCTYPE html>\\n<title>Title</title>\\n\\n<style>\\n  body {\\n    width: 500px;\\n  }\\n</style>\\n\\n<script type=\\"application/javascript\\">\\n  function $init() {\\n    return true\\n  }\\n<\/script>\\n\\n<body>\\n  <p checked class=\\"title\\" id=\\"title\\">Title</p>\\n  <!-- here goes the rest of the page -->\\n</body>\\n```\\n\\n```javascript\\nfunction $initHighlight(block, cls) {\\n  try {\\n    if (cls.search(/\\\\bno\\\\-highlight\\\\b/) != -1)\\n      return process(block, true, 0x0F) +\\n             ` class=\\"${cls}\\"`;\\n  } catch (e) {\\n    /* handle exception */\\n  }\\n  for (var i = 0 / 2; i < classes.length; i++) {\\n    if (checkCondition(classes[i]) === undefined)\\n      console.log(\'undefined\');\\n  }\\n\\n  return (\\n    <div>\\n      <web-component>{block}</web-component>\\n    </div>\\n  )\\n}\\n\\nexport $initHighlight;\\n```\\n\\n```cpp\\n#include <iostream>\\n\\nint main(int argc, char *argv[]) {\\n\\n  /* An annoying \\"Hello World\\" example */\\n  for (auto i = 0; i < 0xFFFF; i++)\\n    cout << \\"Hello, World!\\" << endl;\\n\\n  char c = \'\\\\n\';\\n  unordered_map <string, vector<string> > m;\\n  m[\\"key\\"] = \\"\\\\\\\\\\\\\\\\\\"; // this is an error\\n\\n  return -2e3 + 12l;\\n}\\n```\\n\\n```sql\\nCREATE TABLE \\"topic\\" (\\n    \\"id\\" serial NOT NULL PRIMARY KEY,\\n    \\"forum_id\\" integer NOT NULL,\\n    \\"subject\\" varchar(255) NOT NULL\\n);\\nALTER TABLE \\"topic\\"\\nADD CONSTRAINT forum_id FOREIGN KEY (\\"forum_id\\")\\nREFERENCES \\"forum\\" (\\"id\\");\\n\\n-- Initials\\ninsert into \\"topic\\" (\\"forum_id\\", \\"subject\\")\\nvalues (2, \'D\'\'artagnian\');\\n```\\n\\n```java\\n/**\\n * @author John Smith <john.smith@example.com>\\n*/\\npackage l2f.gameserver.model;\\n\\npublic abstract class L2Char extends L2Object {\\n  public static final Short ERROR = 0x0001;\\n\\n  public void moveTo(int x, int y, int z) {\\n    _ai = null;\\n    log(\\"Should not be called\\");\\n    if (1 > 5) { // wtf!?\\n      return;\\n    }\\n  }\\n}\\n```\\n\\n```swift\\nimport Foundation\\n\\n@objc class Person: Entity {\\n  var name: String!\\n  var age:  Int!\\n\\n  init(name: String, age: Int) {\\n    /* /* ... */ */\\n  }\\n\\n  // Return a descriptive string for this person\\n  func description(offset: Int = 0) -> String {\\n    return \\"\\\\(name) is \\\\(age + offset) years old\\"\\n  }\\n}\\n```\\n\\n```css\\n@font-face {\\n  font-family: Chunkfive;\\n  src: url(\'Chunkfive.otf\');\\n}\\n\\nbody,\\n.usertext {\\n  color: #f0f0f0;\\n  background: #600;\\n  font-family: Chunkfive, sans;\\n}\\n\\n@import url(print.css);\\n@media print {\\n  a[href^=\'http\']::after {\\n    content: attr(href);\\n  }\\n}\\n```\\n\\n```ruby\\n# The Greeter class\\nclass Greeter\\n  def initialize(name)\\n    @name = name.capitalize\\n  end\\n\\n  def salute\\n    puts \\"Hello #{@name}!\\"\\n  end\\nend\\n\\ng = Greeter.new(\\"world\\")\\ng.salute\\n```\\n\\n```makefile\\n# Makefile\\n\\nBUILDDIR      = _build\\nEXTRAS       ?= $(BUILDDIR)/extras\\n\\n.PHONY: main clean\\n\\nmain:\\n\\t@echo \\"Building main facility...\\"\\n\\tbuild_main $(BUILDDIR)\\n\\nclean:\\n\\trm -rf $(BUILDDIR)/*\\n```\\n\\n```go\\npackage main\\n\\nimport \\"fmt\\"\\n\\nfunc main() {\\n    ch := make(chan float64)\\n    ch <- 1.0e10    // magic number\\n    x, ok := <- ch\\n    defer fmt.Println(`exitting now\\\\`)\\n    go println(len(\\"hello world!\\"))\\n    return\\n}\\n```\\n\\n```bash\\n#!/bin/bash\\n\\n###### CONFIG\\nACCEPTED_HOSTS=\\"/root/.hag_accepted.conf\\"\\nBE_VERBOSE=false\\n\\nif [ \\"$UID\\" -ne 0 ]\\nthen\\n  echo \\"Superuser rights required\\"\\n  exit 2\\nfi\\n\\ngenApacheConf(){\\n  echo -e \\"# Host ${HOME_DIR}$1/$2 :\\"\\n}\\n```\\n\\n```ini\\n; boilerplate\\n[package]\\nname = \\"some_name\\"\\nauthors = [\\"Author\\"]\\ndescription = \\"This is \\\\\\na description\\"\\n\\n[[lib]]\\nname = ${NAME}\\ndefault = True\\nauto = no\\ncounter = 1_000\\n```\\n","href":"posts/code-highlight.html","create":1564012800000,"update":1756180325648,"tags":["rust","json","python","html","javascript","cpp","sql","objectivec","java","swift","css","ruby","makefile","go","bash","ini"],"wordCount":557,"excerpt":"\\nMake sure all the code blocks highlighted correctly. All the code samples are come from the demo of https://highlightjs.org\\n\\n","pinned":false},{"id":12,"title":"Markdown Style test","content":"\\nThis post is originated from https://gist.github.com/apackeer/4159268 and is used for testing markdown style. This post contains nearly every markdown usage. Make sure all the markdown elements below show up correctly.\\n\\n---\\n\\n## Headers\\n\\n```markdown\\n# H1\\n\\n## H2\\n\\n### H3\\n\\n#### H4\\n\\n##### H5\\n\\n###### H6\\n\\nAlternatively, for H1 and H2, an underline-ish style:\\n\\n# Alt-H1\\n\\n## Alt-H2\\n```\\n\\n# H1\\n\\n## H2\\n\\n### H3\\n\\n#### H4\\n\\n##### H5\\n\\n###### H6\\n\\nAlternatively, for H1 and H2, an underline-ish style:\\n\\n# Alt-H1\\n\\n## Alt-H2\\n\\n## Emphasis\\n\\n```markdown\\nEmphasis, aka italics, with _asterisks_ or _underscores_.\\n\\nStrong emphasis, aka bold, with **asterisks** or **underscores**.\\n\\nCombined emphasis with **asterisks and _underscores_**.\\n\\nStrikethrough uses two tildes. ~~Scratch this.~~\\n```\\n\\nEmphasis, aka italics, with _asterisks_ or _underscores_.\\n\\nStrong emphasis, aka bold, with **asterisks** or **underscores**.\\n\\nCombined emphasis with **asterisks and _underscores_**.\\n\\nStrikethrough uses two tildes. ~~Scratch this.~~\\n\\n## Lists\\n\\n```markdown\\n1. First ordered list item\\n2. Another item\\n\\n- Unordered sub-list.\\n\\n1. Actual numbers don\'t matter, just that it\'s a number\\n1. Ordered sub-list\\n1. And another item.\\n\\n   You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we\'ll use three here to also align the raw Markdown).\\n\\n   To have a line break without a paragraph, you will need to use two trailing spaces.\\n   Note that this line is separate, but within the same paragraph.\\n   (This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)\\n\\n- Unordered list can use asterisks\\n\\n* Or minuses\\n\\n- Or pluses\\n\\n* Paragraph In unordered list\\n\\n  For example like this.\\n\\nCommon Paragraph with some text.\\nAnd more text.\\n```\\n\\n1. First ordered list item\\n2. Another item\\n\\n- Unordered sub-list.\\n\\n1. Actual numbers don\'t matter, just that it\'s a number\\n1. Ordered sub-list\\n1. And another item.\\n\\n   You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we\'ll use three here to also align the raw Markdown).\\n\\n   To have a line break without a paragraph, you will need to use two trailing spaces.\\n   Note that this line is separate, but within the same paragraph.\\n   (This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)\\n\\n- Unordered list can use asterisks\\n\\n* Or minuses\\n\\n- Or pluses\\n\\n* Paragraph In unordered list\\n\\n  For example like this.\\n\\nCommon Paragraph with some text.\\nAnd more text.\\n\\n## Inline HTML\\n\\n```markdown\\n<p>To reboot your computer, press <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>del</kbd>.</p>\\n```\\n\\n<p>To reboot your computer, press <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>del</kbd>.</p>\\n\\n```markdown\\n<dl>\\n    <dt>Definition list</dt>\\n    <dd>Is something people use sometimes.</dd>\\n\\n    <dt>Markdown in HTML</dt>\\n    <dd>Does *not* work **very** well. Use HTML <em>tags</em>.</dd>\\n\\n</dl>\\n```\\n\\n<dl>\\n    <dt>Definition list</dt>\\n    <dd>Is something people use sometimes.</dd>\\n    <dt>Markdown in HTML</dt>\\n    <dd>Does *not* work **very** well. Use HTML <em>tags</em>.</dd>\\n</dl>\\n\\n## Links\\n\\n```markdown\\n[I\'m an inline-style link](https://www.google.com)\\n\\n[I\'m an inline-style link with title](https://www.google.com \\"Google\'s Homepage\\")\\n\\n[I\'m a reference-style link][Arbitrary case-insensitive reference text]\\n\\n[I\'m a relative reference to a repository file](../blob/master/LICENSE)\\n\\n[You can use numbers for reference-style link definitions][1]\\n\\nOr leave it empty and use the [link text itself]\\n\\nSome text to show that the reference links can follow later.\\n\\n[arbitrary case-insensitive reference text]: https://hexo.io\\n[1]: https://hexo.io/docs/\\n[link text itself]: https://hexo.io/api/\\n```\\n\\n[I\'m an inline-style link](https://www.google.com)\\n\\n[I\'m an inline-style link with title](https://www.google.com \\"Google\'s Homepage\\")\\n\\n[I\'m a reference-style link][Arbitrary case-insensitive reference text]\\n\\n[I\'m a relative reference to a repository file](../blob/master/LICENSE)\\n\\n[You can use numbers for reference-style link definitions][1]\\n\\nOr leave it empty and use the [link text itself]\\n\\nSome text to show that the reference links can follow later.\\n\\n[arbitrary case-insensitive reference text]: https://hexo.io\\n[1]: https://hexo.io/docs/\\n[link text itself]: https://hexo.io/api/\\n\\n## Images\\n\\n```markdown\\nhover to see the title text:\\n\\nInline-style:\\n\\n![alt text](https://hexo.io/icon/favicon-196x196.png \'Logo Title Text 1\')\\n\\nReference-style:\\n![alt text][logo]\\n\\n[logo]: https://hexo.io/icon/favicon-196x196.png \'Logo Title Text 2\'\\n```\\n\\nhover to see the title text:\\n\\nInline-style:\\n\\n![alt text](https://hexo.io/icon/favicon-196x196.png \'Logo Title Text 1\')\\n\\nReference-style:\\n![alt text][logo]\\n\\n[logo]: https://hexo.io/icon/favicon-196x196.png \'Logo Title Text 2\'\\n\\n## Code and Syntax Highlighting\\n\\nInline `code` has `back-ticks around` it.\\n\\n```javascript\\nvar s = \'JavaScript syntax highlighting\'\\nalert(s)\\n```\\n\\n```python\\ns = \\"Python syntax highlighting\\"\\nprint s\\n```\\n\\n```\\nNo language indicated, so no syntax highlighting.\\nBut let\'s throw in a <b>tag</b>.\\n```\\n\\n## Tables\\n\\n```markdown\\n|                  | ASCII                           | HTML                          |\\n| ---------------- | ------------------------------- | ----------------------------- |\\n| Single backticks | `\'Isn\'t this fun?\'`             | \'Isn\'t this fun?\'             |\\n| Quotes           | `\\"Isn\'t this fun?\\"`             | \\"Isn\'t this fun?\\"             |\\n| Dashes           | `-- is en-dash, --- is em-dash` | -- is en-dash, --- is em-dash |\\n```\\n\\n|                  | ASCII                           | HTML                          |\\n| ---------------- | ------------------------------- | ----------------------------- |\\n| Single backticks | `\'Isn\'t this fun?\'`             | \'Isn\'t this fun?\'             |\\n| Quotes           | `\\"Isn\'t this fun?\\"`             | \\"Isn\'t this fun?\\"             |\\n| Dashes           | `-- is en-dash, --- is em-dash` | -- is en-dash, --- is em-dash |\\n\\nColons can be used to align columns.\\n\\n```markdown\\n| Tables        |      Are      | Cool |\\n| ------------- | :-----------: | ---: |\\n| col 3 is      | right-aligned |      |\\n| col 2 is      |   centered    |      |\\n| zebra stripes |   are neat    |\\n```\\n\\n| Tables        |      Are      | Cool |\\n| ------------- | :-----------: | ---: |\\n| col 3 is      | right-aligned |      |\\n| col 2 is      |   centered    |      |\\n| zebra stripes |   are neat    |      |\\n\\nThe outer pipes (|) are optional, and you don\'t need to make the raw Markdown line up prettily. You can also use inline Markdown.\\n\\n```markdown\\n| Markdown | Less      | Pretty     |\\n| -------- | --------- | ---------- |\\n| _Still_  | `renders` | **nicely** |\\n| 1        | 2         | 3          |\\n```\\n\\n| Markdown | Less      | Pretty     |\\n| -------- | --------- | ---------- |\\n| _Still_  | `renders` | **nicely** |\\n| 1        | 2         | 3          |\\n\\n> You can find more information about **LaTeX** mathematical expressions [here](https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference).\\n\\n## Blockquotes\\n\\n> Blockquotes are very handy in email to emulate reply text.\\n> This line is part of the same quote.\\n\\nQuote break.\\n\\n> This is a very long line that will still be quoted properly when it wraps. Oh boy let\'s keep writing to make sure this is long enough to actually wrap for everyone. Oh, you can _put_ **Markdown** into a blockquote.\\n\\n## Horizontal Rule\\n\\nThree or more...\\n\\n```markdown\\n---\\nHyphens\\n---\\n\\nAsterisks\\n\\n---\\n\\nUnderscores\\n```\\n\\n---\\n\\nHyphens\\n\\n---\\n\\nAsterisks\\n\\n---\\n\\nUnderscores\\n\\n## Line Breaks\\n\\n```markdown\\nHere\'s a line for us to start with.\\n\\nThis line is separated from the one above by two newlines, so it will be a _separate paragraph_.\\n\\nThis line is also a separate paragraph, but...\\nThis line is only separated by a single newline, so it\'s a separate line in the _same paragraph_.\\n```\\n\\nHere\'s a line for us to start with.\\n\\nThis line is separated from the one above by two newlines, so it will be a _separate paragraph_.\\n\\nThis line is also a separate paragraph, but...\\nThis line is only separated by a single newline, so it\'s a separate line in the _same paragraph_.\\n\\n---\\n\\n```markdown\\nThis is a regular paragraph.\\n\\n<table>\\n    <tr>\\n        <td>Foo</td>\\n    </tr>\\n</table>\\n\\nThis is another regular paragraph.\\n```\\n\\nThis is a regular paragraph.\\n\\n<table>\\n    <tr>\\n        <td>Foo</td>\\n    </tr>\\n</table>\\n\\nThis is another regular paragraph.\\n\\n## Youtube videos\\n\\n```markdown\\n<a href=\\"https://www.youtube.com/watch?feature=player_embedded&v=ARted4RniaU\\n\\" target=\\"_blank\\"><img src=\\"https://img.youtube.com/vi/ARted4RniaU/0.jpg\\"\\nalt=\\"IMAGE ALT TEXT HERE\\" width=\\"240\\" height=\\"180\\" border=\\"10\\" /></a>\\n\\nPure markdown version:\\n\\n[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/ARted4RniaU/0.jpg)](https://www.youtube.com/watch?v=ARted4RniaU)\\n```\\n\\n<a href=\\"https://www.youtube.com/watch?feature=player_embedded&v=ARted4RniaU\\n\\" target=\\"_blank\\"><img src=\\"https://img.youtube.com/vi/ARted4RniaU/0.jpg\\"\\nalt=\\"IMAGE ALT TEXT HERE\\" width=\\"240\\" height=\\"180\\" border=\\"10\\" /></a>\\n\\nPure markdown version:\\n\\n[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/ARted4RniaU/0.jpg)](https://www.youtube.com/watch?v=ARted4RniaU)\\n","href":"posts/markdown.html","create":1532390400000,"update":1756180325648,"tags":["Foo","Bar"],"wordCount":1296,"excerpt":"\\nThis post is originated from https://gist.github.com/apackeer/4159268 and is used for testing markdown style. This post contains nearly every markdown usage. Make sure all the markdown elements below show up correctly.\\n\\n","pinned":false},{"id":9,"title":"Images","content":"\\nThis is a image test post.\\n\\n---\\n\\n::: tip\\nimg 标签的图片灯箱效果需要加入属性选择器：\\n\\n```md\\n<img src=\\"/wallpaper-2572384.webp\\" data-fancybox=\\"gallery\\"/>\\n```\\n\\n:::\\n\\n> `![](/wallpaper-2572384.webp)` ![](/wallpaper-2572384.webp) `<img src=\\"/wallpaper-2572384.webp\\" data-fancybox=\\"gallery\\"/>` <img src=\\"/wallpaper-2572384.webp\\" data-fancybox=\\"gallery\\"/>\\n\\n![Caption](/wallpaper-2311325.webp)\\n\\n![](/wallpaper-878514.webp)\\n","href":"posts/images.html","create":1388016000000,"update":1756180325648,"tags":["image"],"wordCount":57,"excerpt":"\\nThis is a image test post.\\n\\n","pinned":false},{"id":7,"title":"Excerpts","content":"\\nThe following contents should be invisible in home/archive page.\\n\\n---\\n\\n<!-- more -->\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce eget urna vitae velit eleifend interdum at ac nisi. In nec ligula lacus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Sed eu cursus erat, ut dapibus quam. Aliquam eleifend dolor vitae libero pharetra adipiscing. Etiam adipiscing dolor a quam tempor, eu convallis nulla varius. Aliquam sollicitudin risus a porta aliquam. Ut nec velit dolor. Proin eget leo lobortis, aliquam est sed, mollis mauris. Fusce vitae leo pretium massa accumsan condimentum. Fusce malesuada gravida lectus vel vulputate. Donec bibendum porta nibh ut aliquam.\\n\\nSed lorem felis, congue non fringilla eu, aliquam eu eros. Curabitur orci libero, mollis sed semper vitae, adipiscing in lectus. Aenean non egestas odio. Donec sollicitudin nisi quis lorem gravida, in pharetra mauris fringilla. Duis sit amet faucibus dolor, id aliquam neque. In egestas, odio gravida tempor dictum, mauris felis faucibus purus, sit amet commodo lacus diam vitae est. Ut ut quam eget massa semper sodales. Aenean non ipsum cursus, blandit lectus in, ornare odio. Curabitur ultrices porttitor vulputate.\\n","href":"posts/excerpts.html","create":1387929600000,"update":1756180325648,"tags":["Excerpts","test"],"wordCount":186,"excerpt":"\\nThe following contents should be invisible in home/archive page.\\n\\n","pinned":false},{"id":13,"title":"Tags","content":"\\nThis post contains 3 tags. Make sure your theme can display all of the tags.\\n\\n---\\n","href":"posts/tags.html","create":1387927793000,"update":1756180325649,"tags":["Foo","Bar","Baz"],"wordCount":14,"excerpt":"\\nThis post contains 3 tags. Make sure your theme can display all of the tags.\\n\\n","pinned":false},{"id":1,"title":"中文測試","content":"\\nThis is a Chinese test post.\\n\\n---\\n\\nThis is a Chinese test post.\\n\\n善我王上魚、產生資西員合兒臉趣論。畫衣生這著爸毛親可時，安程幾？合學作。觀經而作建。都非子作這！法如言子你關！手師也。\\n\\n以也座論頭室業放。要車時地變此親不老高小是統習直麼調未，行年香一？\\n\\n就竟在，是我童示讓利分和異種百路關母信過明驗有個歷洋中前合著區亮風值新底車有正結，進快保的行戰從：弟除文辦條國備當來際年每小腳識世可的的外的廣下歌洲保輪市果底天影；全氣具些回童但倒影發狀在示，數上學大法很，如要我……月品大供這起服滿老？應學傳者國：山式排只不之然清同關；細車是！停屋常間又，資畫領生，相們制在？公別的人寫教資夠。資再我我！只臉夫藝量不路政吃息緊回力之；兒足灣電空時局我怎初安。意今一子區首者微陸現際安除發連由子由而走學體區園我車當會，經時取頭，嚴了新科同？很夫營動通打，出和導一樂，查旅他。坐是收外子發物北看蘭戰坐車身做可來。道就學務。\\n\\n國新故。\\n\\n> 工步他始能詩的，裝進分星海演意學值例道……於財型目古香亮自和這乎？化經溫詩。只賽嚴大一主價世哥受的沒有中年即病行金拉麼河。主小路了種就小為廣不？\\n\\n_From [亂數假文產生器 - Chinese Lorem Ipsum](http://www.richyli.com/tool/loremipsum/)_\\n","href":"posts/cn-test.html","create":1387843200000,"update":1756180325648,"tags":["Chinese","test"],"wordCount":426,"excerpt":"\\nThis is a Chinese test post.\\n\\n","pinned":false},{"id":6,"title":"Elements","content":"\\nThe purpose of this post is to help you make sure all of HTML elements can display properly. If you use CSS reset, don\'t forget to redefine the style by yourself.\\n\\n---\\n\\n# Heading 1\\n\\n## Heading 2\\n\\n### Heading 3\\n\\n#### Heading 4\\n\\n##### Heading 5\\n\\n###### Heading 6\\n\\n---\\n\\n## Paragraph\\n\\nLorem ipsum dolor sit amet, [test link]() consectetur adipiscing elit. **Strong text** pellentesque ligula commodo viverra vehicula. _Italic text_ at ullamcorper enim. Morbi a euismod nibh. <u>Underline text</u> non elit nisl. ~~Deleted text~~ tristique, sem id condimentum tempus, metus lectus venenatis mauris, sit amet semper lorem felis a eros. Fusce egestas nibh at sagittis auctor. Sed ultricies ac arcu quis molestie. Donec dapibus nunc in nibh egestas, vitae volutpat sem iaculis. Curabitur sem tellus, elementum nec quam id, fermentum laoreet mi. Ut mollis ullamcorper turpis, vitae facilisis velit ultricies sit amet. Etiam laoreet dui odio, id tempus justo tincidunt id. Phasellus scelerisque nunc sed nunc ultricies accumsan.\\n\\nInterdum et malesuada fames ac ante ipsum primis in faucibus. `Sed erat diam`, blandit eget felis aliquam, rhoncus varius urna. Donec tellus sapien, sodales eget ante vitae, feugiat ullamcorper urna. Praesent auctor dui vitae dapibus eleifend. Proin viverra mollis neque, ut ullamcorper elit posuere eget.\\n\\n> Praesent diam elit, interdum ut pulvinar placerat, imperdiet at magna.\\n\\nMaecenas ornare arcu at mi suscipit, non molestie tortor ultrices. Aenean convallis, diam et congue ultricies, erat magna tincidunt orci, pulvinar posuere mi sapien ac magna. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Praesent vitae placerat mauris. Nullam laoreet ante posuere tortor blandit auctor. Sed id ligula volutpat leo consequat placerat. Mauris fermentum dolor sed augue malesuada sollicitudin. Vivamus ultrices nunc felis, quis viverra orci eleifend ut. Donec et quam id urna cursus posuere. Donec elementum scelerisque laoreet.\\n\\n## List Types\\n\\n### Definition List (dl)\\n\\n<dl><dt>Definition List Title</dt><dd>This is a definition list division.</dd></dl>\\n\\n### Ordered List (ol)\\n\\n1. List Item 1\\n2. List Item 2\\n3. List Item 3\\n\\n### Unordered List (ul)\\n\\n- List Item 1\\n- List Item 2\\n- List Item 3\\n\\n### Checkbox List (ul)\\n\\n- [ ] List Item 1 unchecked\\n- [x] List Item 2 checked\\n- [x] List Item 3 checked\\n\\n## Table\\n\\n| Table Header 1 | Table Header 2 | Table Header 3 |\\n| -------------- | -------------- | -------------- |\\n| Division 1     | Division 2     | Division 3     |\\n| Division 1     | Division 2     | Division 3     |\\n| Division 1     | Division 2     | Division 3     |\\n\\n## Misc Stuff - abbr, acronym, sub, sup, kbd, etc.\\n\\nLorem <sup>superscript</sup> dolor <sub>subscript</sub> amet, consectetuer adipiscing elit. Nullam dignissim convallis est. Quisque aliquam. <cite>cite</cite>. Nunc iaculis suscipit dui. Nam sit amet sem. Aliquam libero nisi, imperdiet at, tincidunt nec, gravida vehicula, nisl. Praesent mattis, massa quis luctus fermentum, turpis mi volutpat justo, eu volutpat enim diam eget metus. Maecenas ornare tortor. Donec sed tellus eget sapien fringilla nonummy. <acronym title=\\"National Basketball Association\\">NBA</acronym> Mauris a ante. Suspendisse quam sem, consequat at, commodo vitae, feugiat in, nunc. Morbi imperdiet augue quis tellus. <abbr title=\\"Avenue\\">AVE</abbr>. Use <kbd>Crtl</kbd> + <kbd>C</kbd> to stop.\\n","href":"posts/elements.html","create":1387843200000,"update":1756180325648,"tags":["elements","test"],"wordCount":467,"excerpt":"\\nThe purpose of this post is to help you make sure all of HTML elements can display properly. If you use CSS reset, don\'t forget to redefine the style by yourself.\\n\\n","pinned":false},{"id":10,"title":"日本語テスト","content":"\\nThis is a Japanese test post.\\n\\n---\\n\\nThis is a Japanese test post.\\n\\n私は昨日ついにその助力家というのの上よりするたなけれ。\\n\\n最も今をお話団はちょうどこの前後なかろでくらいに困りがいるたをは帰着考えたなかって、そうにもするでうたらない。\\n\\nがたを知っないはずも同時に九月をいよいよたありた。\\n\\nもっと槙さんにぼんやり金少し説明にえた自分大した人私か影響にというお関係たうませないが、この次第も私か兄具合に使うて、槙さんののに当人のあなたにさぞご意味と行くて私個人が小尊敬を聴いように同時に同反抗に集っだうて、いよいよまず相当へあっうからいだ事をしでなけれ。\\n\\n> それでそれでもご時日をしはずはたったいやと突き抜けるますて、その元がは行ったてという獄を尽すていけですた。\\n\\nこの中道具の日その学校はあなたごろがすまなりかとネルソンさんの考えるですん、辺の事実ないというご盲従ありたですと、爺さんのためが薬缶が結果までの箸の当時してならて、多少の十月にためからそういう上からとにかくしましないと触れべきものたで、ないうですと多少お人達したのでたた。\\n\\n_From [すぐ使えるダミーテキスト - 日本語 Lorem ipsum](https://lipsum.sugutsukaeru.jp/index.cgi)_\\n","href":"posts/jp-test.html","create":1387843200000,"update":1756180325648,"tags":["Japanese","test"],"wordCount":128,"excerpt":"\\nThis is a Japanese test post.\\n\\n","pinned":false}]');function Kt(s,e,v,a){function t(r){return r instanceof v?r:new v(function(n){n(r)})}return new(v||(v=Promise))(function(r,n){function i(f){try{h(a.next(f))}catch(c){n(c)}}function u(f){try{h(a.throw(f))}catch(c){n(c)}}function h(f){f.done?r(f.value):t(f.value).then(i,u)}h((a=a.apply(s,[])).next())})}const vr="ENTRIES",cn="KEYS",dn="VALUES",gt="";class oe{constructor(e,v){const a=e._tree,t=Array.from(a.keys());this.set=e,this._type=v,this._path=t.length>0?[{node:a,keys:t}]:[]}next(){const e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:e,keys:v}=Wt(this._path);if(Wt(v)===gt)return{done:!1,value:this.result()};const a=e.get(Wt(v));return this._path.push({node:a,keys:Array.from(a.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const e=Wt(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>Wt(e)).filter(e=>e!==gt).join("")}value(){return Wt(this._path).node.get(gt)}result(){switch(this._type){case dn:return this.value();case cn:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const Wt=s=>s[s.length-1],pr=(s,e,v)=>{const a=new Map;if(e===void 0)return a;const t=e.length+1,r=t+v,n=new Uint8Array(r*t).fill(v+1);for(let i=0;i<t;++i)n[i]=i;for(let i=1;i<r;++i)n[i*t]=i;return fn(s,e,v,a,n,1,t,""),a},fn=(s,e,v,a,t,r,n,i)=>{const u=r*n;t:for(const h of s.keys())if(h===gt){const f=t[u-1];f<=v&&a.set(i,[s.get(h),f])}else{let f=r;for(let c=0;c<h.length;++c,++f){const o=h[c],l=n*f,p=l-n;let d=t[l];const m=Math.max(0,f-v-1),g=Math.min(n-1,f+v);for(let y=m;y<g;++y){const k=o!==e[y],S=t[p+y]+ +k,T=t[p+y+1]+1,x=t[l+y]+1,M=t[l+y+1]=Math.min(S,T,x);M<d&&(d=M)}if(d>v)continue t}fn(s.get(h),e,v,a,t,f,n,i+h)}};class Yt{constructor(e=new Map,v=""){this._size=void 0,this._tree=e,this._prefix=v}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");const[v,a]=ee(this._tree,e.slice(this._prefix.length));if(v===void 0){const[t,r]=ke(a);for(const n of t.keys())if(n!==gt&&n.startsWith(r)){const i=new Map;return i.set(n.slice(r.length),t.get(n)),new Yt(i,e)}}return new Yt(v,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,mr(this._tree,e)}entries(){return new oe(this,vr)}forEach(e){for(const[v,a]of this)e(v,a,this)}fuzzyGet(e,v){return pr(this._tree,e,v)}get(e){const v=pe(this._tree,e);return v!==void 0?v.get(gt):void 0}has(e){const v=pe(this._tree,e);return v!==void 0&&v.has(gt)}keys(){return new oe(this,cn)}set(e,v){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,he(this._tree,e).set(gt,v),this}get size(){if(this._size)return this._size;this._size=0;const e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,v){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const a=he(this._tree,e);return a.set(gt,v(a.get(gt))),this}fetch(e,v){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const a=he(this._tree,e);let t=a.get(gt);return t===void 0&&a.set(gt,t=v()),t}values(){return new oe(this,dn)}[Symbol.iterator](){return this.entries()}static from(e){const v=new Yt;for(const[a,t]of e)v.set(a,t);return v}static fromObject(e){return Yt.from(Object.entries(e))}}const ee=(s,e,v=[])=>{if(e.length===0||s==null)return[s,v];for(const a of s.keys())if(a!==gt&&e.startsWith(a))return v.push([s,a]),ee(s.get(a),e.slice(a.length),v);return v.push([s,e]),ee(void 0,"",v)},pe=(s,e)=>{if(e.length===0||s==null)return s;for(const v of s.keys())if(v!==gt&&e.startsWith(v))return pe(s.get(v),e.slice(v.length))},he=(s,e)=>{const v=e.length;t:for(let a=0;s&&a<v;){for(const r of s.keys())if(r!==gt&&e[a]===r[0]){const n=Math.min(v-a,r.length);let i=1;for(;i<n&&e[a+i]===r[i];)++i;const u=s.get(r);if(i===r.length)s=u;else{const h=new Map;h.set(r.slice(i),u),s.set(e.slice(a,a+i),h),s.delete(r),s=h}a+=i;continue t}const t=new Map;return s.set(e.slice(a),t),t}return s},mr=(s,e)=>{const[v,a]=ee(s,e);if(v!==void 0){if(v.delete(gt),v.size===0)vn(a);else if(v.size===1){const[t,r]=v.entries().next().value;pn(a,t,r)}}},vn=s=>{if(s.length===0)return;const[e,v]=ke(s);if(e.delete(v),e.size===0)vn(s.slice(0,-1));else if(e.size===1){const[a,t]=e.entries().next().value;a!==gt&&pn(s.slice(0,-1),a,t)}},pn=(s,e,v)=>{if(s.length===0)return;const[a,t]=ke(s);a.set(t+e,v),a.delete(t)},ke=s=>s[s.length-1],Pe="or",mn="and",Mr="and_not";class Ht{constructor(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');const v=e.autoVacuum==null||e.autoVacuum===!0?ce:e.autoVacuum;this._options=Object.assign(Object.assign(Object.assign({},ue),e),{autoVacuum:v,searchOptions:Object.assign(Object.assign({},Ue),e.searchOptions||{}),autoSuggestOptions:Object.assign(Object.assign({},Ar),e.autoSuggestOptions||{})}),this._index=new Yt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Me,this.addFields(this._options.fields)}add(e){const{extractField:v,tokenize:a,processTerm:t,fields:r,idField:n}=this._options,i=v(e,n);if(i==null)throw new Error(`MiniSearch: document does not have ID field "${n}"`);if(this._idToShortId.has(i))throw new Error(`MiniSearch: duplicate ID ${i}`);const u=this.addDocumentId(i);this.saveStoredFields(u,e);for(const h of r){const f=v(e,h);if(f==null)continue;const c=a(f.toString(),h),o=this._fieldIds[h],l=new Set(c).size;this.addFieldLength(u,o,this._documentCount-1,l);for(const p of c){const d=t(p,h);if(Array.isArray(d))for(const m of d)this.addTerm(o,u,m);else d&&this.addTerm(o,u,d)}}}addAll(e){for(const v of e)this.add(v)}addAllAsync(e,v={}){const{chunkSize:a=10}=v,t={chunk:[],promise:Promise.resolve()},{chunk:r,promise:n}=e.reduce(({chunk:i,promise:u},h,f)=>(i.push(h),(f+1)%a===0?{chunk:[],promise:u.then(()=>new Promise(c=>setTimeout(c,0))).then(()=>this.addAll(i))}:{chunk:i,promise:u}),t);return n.then(()=>this.addAll(r))}remove(e){const{tokenize:v,processTerm:a,extractField:t,fields:r,idField:n}=this._options,i=t(e,n);if(i==null)throw new Error(`MiniSearch: document does not have ID field "${n}"`);const u=this._idToShortId.get(i);if(u==null)throw new Error(`MiniSearch: cannot remove document with ID ${i}: it is not in the index`);for(const h of r){const f=t(e,h);if(f==null)continue;const c=v(f.toString(),h),o=this._fieldIds[h],l=new Set(c).size;this.removeFieldLength(u,o,this._documentCount,l);for(const p of c){const d=a(p,h);if(Array.isArray(d))for(const m of d)this.removeTerm(o,u,m);else d&&this.removeTerm(o,u,d)}}this._storedFields.delete(u),this._documentIds.delete(u),this._idToShortId.delete(i),this._fieldLength.delete(u),this._documentCount-=1}removeAll(e){if(e)for(const v of e)this.remove(v);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new Yt,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){const v=this._idToShortId.get(e);if(v==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(v),this._storedFields.delete(v),(this._fieldLength.get(v)||[]).forEach((a,t)=>{this.removeFieldLength(v,t,this._documentCount,a)}),this._fieldLength.delete(v),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:e,minDirtCount:v,batchSize:a,batchWait:t}=this._options.autoVacuum;this.conditionalVacuum({batchSize:a,batchWait:t},{minDirtCount:v,minDirtFactor:e})}discardAll(e){const v=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const a of e)this.discard(a)}finally{this._options.autoVacuum=v}this.maybeAutoVacuum()}replace(e){const{idField:v,extractField:a}=this._options,t=a(e,v);this.discard(t),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,v){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&v,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const a=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Me,this.performVacuuming(e,a)}),this._enqueuedVacuum)):this.vacuumConditionsMet(v)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}performVacuuming(e,v){return Kt(this,void 0,void 0,function*(){const a=this._dirtCount;if(this.vacuumConditionsMet(v)){const t=e.batchSize||me.batchSize,r=e.batchWait||me.batchWait;let n=1;for(const[i,u]of this._index){for(const[h,f]of u)for(const[c]of f)this._documentIds.has(c)||(f.size<=1?u.delete(h):f.delete(c));this._index.get(i).size===0&&this._index.delete(i),n%t===0&&(yield new Promise(h=>setTimeout(h,r))),n+=1}this._dirtCount-=a}yield null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null})}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:v,minDirtFactor:a}=e;return v=v||ce.minDirtCount,a=a||ce.minDirtFactor,this.dirtCount>=v&&this.dirtFactor>=a}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){const v=this._idToShortId.get(e);if(v!=null)return this._storedFields.get(v)}search(e,v={}){const{searchOptions:a}=this._options,t=Object.assign(Object.assign({},a),v),r=this.executeQuery(e,v),n=[];for(const[i,{score:u,terms:h,match:f}]of r){const c=h.length||1,o={id:this._documentIds.get(i),score:u*c,terms:Object.keys(f),queryTerms:h,match:f};Object.assign(o,this._storedFields.get(i)),(t.filter==null||t.filter(o))&&n.push(o)}return e===Ht.wildcard&&t.boostDocument==null||n.sort(be),n}autoSuggest(e,v={}){v=Object.assign(Object.assign({},this._options.autoSuggestOptions),v);const a=new Map;for(const{score:r,terms:n}of this.search(e,v)){const i=n.join(" "),u=a.get(i);u!=null?(u.score+=r,u.count+=1):a.set(i,{score:r,terms:n,count:1})}const t=[];for(const[r,{score:n,terms:i,count:u}]of a)t.push({suggestion:r,terms:i,score:n/u});return t.sort(be),t}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,v){if(v==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),v)}static loadJSONAsync(e,v){return Kt(this,void 0,void 0,function*(){if(v==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),v)})}static getDefault(e){if(ue.hasOwnProperty(e))return le(ue,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,v){const{index:a,documentIds:t,fieldLength:r,storedFields:n,serializationVersion:i}=e,u=this.instantiateMiniSearch(e,v);u._documentIds=qt(t),u._fieldLength=qt(r),u._storedFields=qt(n);for(const[h,f]of u._documentIds)u._idToShortId.set(f,h);for(const[h,f]of a){const c=new Map;for(const o of Object.keys(f)){let l=f[o];i===1&&(l=l.ds),c.set(parseInt(o,10),qt(l))}u._index.set(h,c)}return u}static loadJSAsync(e,v){return Kt(this,void 0,void 0,function*(){const{index:a,documentIds:t,fieldLength:r,storedFields:n,serializationVersion:i}=e,u=this.instantiateMiniSearch(e,v);u._documentIds=yield Jt(t),u._fieldLength=yield Jt(r),u._storedFields=yield Jt(n);for(const[f,c]of u._documentIds)u._idToShortId.set(c,f);let h=0;for(const[f,c]of a){const o=new Map;for(const l of Object.keys(c)){let p=c[l];i===1&&(p=p.ds),o.set(parseInt(l,10),yield Jt(p))}++h%1e3===0&&(yield Mn(0)),u._index.set(f,o)}return u})}static instantiateMiniSearch(e,v){const{documentCount:a,nextId:t,fieldIds:r,averageFieldLength:n,dirtCount:i,serializationVersion:u}=e;if(u!==1&&u!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const h=new Ht(v);return h._documentCount=a,h._nextId=t,h._idToShortId=new Map,h._fieldIds=r,h._avgFieldLength=n,h._dirtCount=i||0,h._index=new Yt,h}executeQuery(e,v={}){if(e===Ht.wildcard)return this.executeWildcardQuery(v);if(typeof e!="string"){const o=Object.assign(Object.assign(Object.assign({},v),e),{queries:void 0}),l=e.queries.map(p=>this.executeQuery(p,o));return this.combineResults(l,o.combineWith)}const{tokenize:a,processTerm:t,searchOptions:r}=this._options,n=Object.assign(Object.assign({tokenize:a,processTerm:t},r),v),{tokenize:i,processTerm:u}=n,c=i(e).flatMap(o=>u(o)).filter(o=>!!o).map(xr(n)).map(o=>this.executeQuerySpec(o,n));return this.combineResults(c,n.combineWith)}executeQuerySpec(e,v){const a=Object.assign(Object.assign({},this._options.searchOptions),v),t=(a.fields||this._options.fields).reduce((d,m)=>Object.assign(Object.assign({},d),{[m]:le(a.boost,m)||1}),{}),{boostDocument:r,weights:n,maxFuzzy:i,bm25:u}=a,{fuzzy:h,prefix:f}=Object.assign(Object.assign({},Ue.weights),n),c=this._index.get(e.term),o=this.termResults(e.term,e.term,1,e.termBoost,c,t,r,u);let l,p;if(e.prefix&&(l=this._index.atPrefix(e.term)),e.fuzzy){const d=e.fuzzy===!0?.2:e.fuzzy,m=d<1?Math.min(i,Math.round(e.term.length*d)):d;m&&(p=this._index.fuzzyGet(e.term,m))}if(l)for(const[d,m]of l){const g=d.length-e.term.length;if(!g)continue;p==null||p.delete(d);const y=f*d.length/(d.length+.3*g);this.termResults(e.term,d,y,e.termBoost,m,t,r,u,o)}if(p)for(const d of p.keys()){const[m,g]=p.get(d);if(!g)continue;const y=h*d.length/(d.length+g);this.termResults(e.term,d,y,e.termBoost,m,t,r,u,o)}return o}executeWildcardQuery(e){const v=new Map,a=Object.assign(Object.assign({},this._options.searchOptions),e);for(const[t,r]of this._documentIds){const n=a.boostDocument?a.boostDocument(r,"",this._storedFields.get(t)):1;v.set(t,{score:n,terms:[],match:{}})}return v}combineResults(e,v=Pe){if(e.length===0)return new Map;const a=v.toLowerCase(),t=gr[a];if(!t)throw new Error(`Invalid combination operator: ${v}`);return e.reduce(t)||new Map}toJSON(){const e=[];for(const[v,a]of this._index){const t={};for(const[r,n]of a)t[r]=Object.fromEntries(n);e.push([v,t])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,v,a,t,r,n,i,u,h=new Map){if(r==null)return h;for(const f of Object.keys(n)){const c=n[f],o=this._fieldIds[f],l=r.get(o);if(l==null)continue;let p=l.size;const d=this._avgFieldLength[o];for(const m of l.keys()){if(!this._documentIds.has(m)){this.removeTerm(o,m,v),p-=1;continue}const g=i?i(this._documentIds.get(m),v,this._storedFields.get(m)):1;if(!g)continue;const y=l.get(m),k=this._fieldLength.get(m)[o],S=yr(y,p,this._documentCount,k,d,u),T=a*t*c*g*S,x=h.get(m);if(x){x.score+=T,Er(x.terms,e);const M=le(x.match,v);M?M.push(f):x.match[v]=[f]}else h.set(m,{score:T,terms:[e],match:{[v]:[f]}})}}return h}addTerm(e,v,a){const t=this._index.fetch(a,We);let r=t.get(e);if(r==null)r=new Map,r.set(v,1),t.set(e,r);else{const n=r.get(v);r.set(v,(n||0)+1)}}removeTerm(e,v,a){if(!this._index.has(a)){this.warnDocumentChanged(v,e,a);return}const t=this._index.fetch(a,We),r=t.get(e);r==null||r.get(v)==null?this.warnDocumentChanged(v,e,a):r.get(v)<=1?r.size<=1?t.delete(e):r.delete(v):r.set(v,r.get(v)-1),this._index.get(a).size===0&&this._index.delete(a)}warnDocumentChanged(e,v,a){for(const t of Object.keys(this._fieldIds))if(this._fieldIds[t]===v){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${a}" was not present in field "${t}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){const v=this._nextId;return this._idToShortId.set(e,v),this._documentIds.set(v,e),this._documentCount+=1,this._nextId+=1,v}addFields(e){for(let v=0;v<e.length;v++)this._fieldIds[e[v]]=v}addFieldLength(e,v,a,t){let r=this._fieldLength.get(e);r==null&&this._fieldLength.set(e,r=[]),r[v]=t;const i=(this._avgFieldLength[v]||0)*a+t;this._avgFieldLength[v]=i/(a+1)}removeFieldLength(e,v,a,t){if(a===1){this._avgFieldLength[v]=0;return}const r=this._avgFieldLength[v]*a-t;this._avgFieldLength[v]=r/(a-1)}saveStoredFields(e,v){const{storeFields:a,extractField:t}=this._options;if(a==null||a.length===0)return;let r=this._storedFields.get(e);r==null&&this._storedFields.set(e,r={});for(const n of a){const i=t(v,n);i!==void 0&&(r[n]=i)}}}Ht.wildcard=Symbol("*");const le=(s,e)=>Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0,gr={[Pe]:(s,e)=>{for(const v of e.keys()){const a=s.get(v);if(a==null)s.set(v,e.get(v));else{const{score:t,terms:r,match:n}=e.get(v);a.score=a.score+t,a.match=Object.assign(a.match,n),Ye(a.terms,r)}}return s},[mn]:(s,e)=>{const v=new Map;for(const a of e.keys()){const t=s.get(a);if(t==null)continue;const{score:r,terms:n,match:i}=e.get(a);Ye(t.terms,n),v.set(a,{score:t.score+r,terms:t.terms,match:Object.assign(t.match,i)})}return v},[Mr]:(s,e)=>{for(const v of e.keys())s.delete(v);return s}},Cr={k:1.2,b:.7,d:.5},yr=(s,e,v,a,t,r)=>{const{k:n,b:i,d:u}=r;return Math.log(1+(v-e+.5)/(e+.5))*(u+s*(n+1)/(s+n*(1-i+i*a/t)))},xr=s=>(e,v,a)=>{const t=typeof s.fuzzy=="function"?s.fuzzy(e,v,a):s.fuzzy||!1,r=typeof s.prefix=="function"?s.prefix(e,v,a):s.prefix===!0,n=typeof s.boostTerm=="function"?s.boostTerm(e,v,a):1;return{term:e,fuzzy:t,prefix:r,termBoost:n}},ue={idField:"id",extractField:(s,e)=>s[e],tokenize:s=>s.split(Tr),processTerm:s=>s.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(s,e)=>{typeof(console==null?void 0:console[s])=="function"&&console[s](e)},autoVacuum:!0},Ue={combineWith:Pe,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:Cr},Ar={combineWith:mn,prefix:(s,e,v)=>e===v.length-1},me={batchSize:1e3,batchWait:10},Me={minDirtFactor:.1,minDirtCount:20},ce=Object.assign(Object.assign({},me),Me),Er=(s,e)=>{s.includes(e)||s.push(e)},Ye=(s,e)=>{for(const v of e)s.includes(v)||s.push(v)},be=({score:s},{score:e})=>e-s,We=()=>new Map,qt=s=>{const e=new Map;for(const v of Object.keys(s))e.set(parseInt(v,10),s[v]);return e},Jt=s=>Kt(void 0,void 0,void 0,function*(){const e=new Map;let v=0;for(const a of Object.keys(s))e.set(parseInt(a,10),s[a]),++v%1e3===0&&(yield Mn(0));return e}),Mn=s=>new Promise(e=>setTimeout(e,s)),Tr=/[\n\r\p{Z}\p{P}]+/u,Sr={class:"search-dialog"},Rr={class:"dialog-content"},Ir={class:"search-list"},wr=["href"],Lr=ft({__name:"Search-Dialog",props:{modelValue:{},modelModifiers:{}},emits:Rn(["closeDialog"],["update:modelValue"]),setup(s,{emit:e}){const v=e,a=()=>{const c=document.querySelector(".search-dialog");c&&(c.classList.add("hide-dialog"),setTimeout(()=>{v("closeDialog")},200))},t=xt().site.value.base,r=new Ht({fields:["title","content"],storeFields:["title","href"],searchOptions:{fuzzy:.3}});r.addAll(zt);const n=In(s,"modelValue"),i=lt([]),u=lt("这里空空的");let h=null;function f(){u.value="搜索中……",h&&clearTimeout(h),h=setTimeout(()=>{i.value=r.search(n.value||"").slice(0,5),i.value.length?u.value="搜到了~":u.value="这里空空的"},500)}return At(()=>{const c=document.querySelector(".search-dialog");c&&c.classList.add("show-dialog")}),(c,o)=>(j(),$("div",Sr,[Z("div",{class:"dialog-cover",onClick:a}),Z("div",Rr,[Z("button",{type:"button",class:"close-btn",onClick:a},"×"),o[1]||(o[1]=Z("span",{class:"title"},"搜索",-1)),Ce(Z("input",{type:"text",name:"",id:"search-input",placeholder:"请输入关键字","onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l),onInput:f},null,544),[[wn,n.value]]),Z("ul",Ir,[Z("span",null,ut(u.value),1),(j(!0),$(It,null,Bt(i.value,l=>(j(),$("li",{onClick:a},[Z("a",{href:tt(t)+l.href},ut(l.title),9,wr)]))),256))])])]))}}),kr=Ct(Lr,[["__scopeId","data-v-a7758603"]]),Pr=ft({__name:"Music-Control",setup(s){const e=lt(!1),v=lt(null),a=()=>{v.value&&(e.value?v.value.pause():v.value.play().catch(t=>console.log("播放失败: ",t)),e.value=!e.value)};return At(()=>{v.value=document.getElementById("background-music"),v.value&&(v.value.volume=.3,v.value.pause())}),(t,r)=>(j(),$("span",{class:"music-control",onClick:a},[Z("i",{class:kt(e.value?"iconfont icon-continue continue":"iconfont icon-stop stop")},null,2)]))}}),_r=Ct(Pr,[["__scopeId","data-v-70b0ea5d"]]),Dr=ft({__name:"Search-Button",setup(s){const{state:e}=wt(),v=()=>{e.searchDialog=!0,e.showDropdownMenu=!1};return(a,t)=>(j(),$("span",{class:"iconfont icon-search search",onClick:v}))}}),Vr=Ct(Dr,[["__scopeId","data-v-20d33856"]]),Fr={class:"toggle-container"},Or={class:"theme-select"},Br={class:"select-wrapper"},Nr={class:"label"},Ur=["id","checked","onChange"],Yr=["for"],br=ft({__name:"ToggleSwitch",setup(s){const{state:e}=wt(),v=lt("system"),a={fireworksEnabled:"烟花",SpinePlayerEnabled:"Spine"};let t,r;At(()=>{const h=localStorage.getItem("darkMode");v.value=h||"system",t=window.matchMedia("(prefers-color-scheme: dark)"),r=f=>{if(v.value==="system"){const c=f.matches?"dark":"light";document.documentElement.setAttribute("theme",c),e.darkMode=c}},v.value==="system"&&(r(t),t.addEventListener("change",r)),u(v.value),Object.keys(a).forEach(f=>{const c=localStorage.getItem(f);c!==null&&(e[f]=JSON.parse(c))})});const n=()=>{e.darkMode=v.value,localStorage.setItem("darkMode",v.value),v.value==="system"?(r(t),t.addEventListener("change",r)):t.removeEventListener("change",r),u(v.value)},i=h=>{const f=e[h];e[h]=!f,localStorage.setItem(h,JSON.stringify(!f))},u=h=>{let f=h;h==="system"&&(f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("theme",f),e.darkMode=f};return(h,f)=>(j(),$("div",Fr,[Z("div",Or,[f[3]||(f[3]=Z("span",{class:"label"},"主题",-1)),Z("div",Br,[Ce(Z("select",{"onUpdate:modelValue":f[0]||(f[0]=c=>v.value=c),onChange:n},f[1]||(f[1]=[Z("option",{value:"light"},"Arona",-1),Z("option",{value:"dark"},"Plana",-1),Z("option",{value:"system"},"System",-1)]),544),[[Ln,v.value]]),f[2]||(f[2]=Z("span",{class:"select-arrow"},"▼",-1))])]),(j(),$(It,null,Bt(a,(c,o)=>Z("div",{key:o,class:"toggle-item"},[Z("span",Nr,ut(c),1),Z("input",{type:"checkbox",id:o,checked:tt(e)[o],onChange:l=>i(o)},null,40,Ur),Z("label",{for:o,class:"toggleSwitch"},null,8,Yr)])),64))]))}}),Wr=Ct(br,[["__scopeId","data-v-642c3c29"]]),Hr={class:"menu-content"},Zr={class:"first-row"},Gr=ft({__name:"Dropdown-Menu",setup(s){const{state:e}=wt(),v=lt(null),a=t=>{const r=t.target,n=document.querySelector(".hamburger");n&&n.contains(r)||v.value&&!v.value.contains(r)&&e.showDropdownMenu&&(e.showDropdownMenu=!1)};return At(()=>{document.addEventListener("click",a)}),Zt(()=>{document.removeEventListener("click",a)}),(t,r)=>(j(),$("div",{class:"dropdown-menu",ref_key:"dropdownMenu",ref:v},[Z("div",Hr,[Z("div",Zr,[Mt(_r),Mt(Vr)]),Mt(Wr)])],512))}}),Xr=Ct(Gr,[["__scopeId","data-v-448e3e95"]]),zr={class:"logo"},jr={class:"menu"},qr=["href","onClick"],Jr=ft({__name:"index",setup(s){const e=xt().site.value.base,a=xt().theme.value.menuList,{state:t}=wt(),r=()=>{t.searchDialog=!1},n=()=>{t.showDropdownMenu=!t.showDropdownMenu},i=()=>{t.currPage=1},u=h=>{h===""&&i(),h==="tags/"&&(i(),t.currTag="")};return(h,f)=>(j(),$(It,null,[Z("header",{class:kt([{postViewer:tt(t).currPost.href},"container"])},[Z("nav",null,[Z("span",zr,[Z("img",{onDragstart:f[0]||(f[0]=ne(()=>{},["prevent"])),src:fr,alt:""},null,32)]),Z("span",jr,[Z("ul",null,[(j(!0),$(It,null,Bt(tt(a),c=>(j(),$("li",null,[Z("a",{href:tt(e)+c.url,onClick:o=>u(c.url)},ut(c.name),9,qr)]))),256))])]),Z("div",{class:kt(["hamburger",{active:tt(t).showDropdownMenu}]),onClick:n},f[1]||(f[1]=[Z("span",{class:"line"},null,-1),Z("span",{class:"line"},null,-1),Z("span",{class:"line"},null,-1)]),2),Mt(Xr,{showMenu:tt(t).showDropdownMenu},null,8,["showMenu"])])],2),tt(t).searchDialog?(j(),Ot(kr,{key:0,onCloseDialog:r})):Rt("",!0)],64))}}),Qr=Ct(Jr,[["__scopeId","data-v-81072a44"]]),Kr="/assets/banner_video.a3M91JR5.mp4",$r={key:0,autoplay:"",muted:"",loop:"",class:"bg-video"},ti={key:1,class:"bg-img"},ei=ft({__name:"Banner",setup(s){const v=xt().theme.value.videoBanner,{state:a}=wt();class t{constructor(){this.K=1,this.F=15,this.speed=.1,this.noise=30,this.phase=0,this.devicePixelRatio=window.devicePixelRatio||1,this.width=this.devicePixelRatio*window.innerWidth,this.height=this.devicePixelRatio*100,this.MAX=this.height/2,this.canvas=document.getElementById("wave"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width/this.devicePixelRatio+"px",this.canvas.style.height=this.height/this.devicePixelRatio+"px",this.ctx=this.canvas.getContext("2d"),this.run=!1,this.animationFrameID=null}_globalAttenuationFn(h){return Math.pow(this.K*4/(this.K*4+Math.pow(h,4)),this.K*2)}_drawLine(h,f,c,o,l){this.ctx.moveTo(0,0),this.ctx.beginPath(),this.ctx.strokeStyle=f,this.ctx.lineWidth=c||1,l=l||this.F,o=o*this.MAX||this.noise;for(let p=-this.K;p<=this.K;p+=.01){p=parseFloat(p.toFixed(2));const d=this.width*((p+this.K)/(this.K*2)),m=this.height/2+o*Math.pow(Math.sin(p*10*h),1)*Math.sin(l*p-this.phase);this.ctx.lineTo(d,m)}this.ctx.lineTo(this.width,this.height),this.ctx.lineTo(0,this.height),this.ctx.fillStyle=f,this.ctx.fill()}_clear(){this.ctx.globalCompositeOperation="destination-out",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="source-over"}_draw(){if(!this.run)return;this.phase=(this.phase+this.speed)%(Math.PI*64),this._clear();const h=getComputedStyle(document.documentElement).getPropertyValue("--wave-color1").trim(),f=getComputedStyle(document.documentElement).getPropertyValue("--wave-color2").trim();this._drawLine(.5,h,1,.35,6),this._drawLine(1,f,1,.25,6),this.animationFrameID=requestAnimationFrame(this._draw.bind(this))}start(){this.phase=0,this.run=!0,this._draw()}stop(){this.run=!1,this._clear(),this.animationFrameID!==null&&(cancelAnimationFrame(this.animationFrameID),this.animationFrameID=null)}setNoise(h){this.noise=Math.min(h,1)*this.MAX}setSpeed(h){this.speed=h}set(h,f){this.setNoise(h),this.setSpeed(f)}}let r=null;function n(){r&&r.stop(),r=new t,r.setSpeed(.01),r.start()}function i(u,h){let f;return function(){clearTimeout(f),f=window.setTimeout(()=>{u()},h)}}return At(()=>{n(),window.addEventListener("resize",i(()=>{r&&r.stop(),n()},100))}),(u,h)=>(j(),$("div",{class:kt(["banner",{postViewer:tt(a).currPost.href,loadingComplete:!tt(a).splashLoading}])},[kn(u.$slots,"default",{},void 0),h[1]||(h[1]=Z("canvas",{id:"wave"},null,-1)),tt(v)?(j(),$("video",$r,h[0]||(h[0]=[Z("source",{src:Kr,type:"video/mp4"},null,-1)]))):(j(),$("div",ti))],2))}}),ni=Ct(ei,[["__scopeId","data-v-408df750"]]),ri="/assets/avatar.BdKdfcnM.webp",ii={class:"welcome-text"},ai={class:"name"},si={class:"motto"},oi=["href"],He=30,hi=ft({__name:"Welcome-Box",setup(s){const e=xt().theme.value,v=e.name,a=e.welcomeText,t=e.motto,r=e.social,n=lt(null),i=lt(0),u=lt(0),h=lt(0),f=g=>{n.value&&window.requestAnimationFrame(()=>{const y=n.value.getBoundingClientRect();i.value=(g.clientX-y.x-y.width/2)/He,u.value=-(g.clientY-y.y-y.height/2)/He,h.value=Math.floor(c(g.clientY-y.y-y.height/2,g.clientX-y.x-y.width/2))})},c=(g,y)=>{let S=Math.atan2(y,g)*(180/Math.PI);return S<0&&(S+=360),S},o=()=>{u.value=i.value=h.value=0};let l=0;const p=lt(""),d=t[Math.floor(Math.random()*t.length)],m=()=>{l<d.length&&(p.value+=d[l],l++,setTimeout(m,Math.random()*150+50))};return At(()=>{m()}),(g,y)=>(j(),$("div",{class:"welcome-box",ref_key:"welcomeBoxRef",ref:n,onMousemove:f,onMouseleave:o,style:de({transform:`rotateY(${i.value}deg) rotateX(${u.value}deg)`})},[Z("span",ii,ut(tt(a)),1),Mt($t,{name:"fade",appear:""},{default:bt(()=>[Z("div",{class:"info-box",style:de({background:`linear-gradient(${h.value}deg, var(--infobox-background-initial), var(--infobox-background-final))`})},[Z("img",{onDragstart:y[0]||(y[0]=ne(()=>{},["prevent"])),src:ri,alt:"",class:"avatar"},null,32),Z("span",ai,ut(tt(v)),1),Z("span",si,[Xt(ut(p.value)+" ",1),y[1]||(y[1]=Z("span",{class:"pointer"},null,-1))]),Z("ul",null,[(j(!0),$(It,null,Bt(tt(r),k=>(j(),$("li",{key:k.url},[Z("a",{href:k.url,target:"_blank",rel:"noopener noreferrer"},[Z("i",{class:kt(`iconfont icon-${k.icon} social`)},null,2)],8,oi)]))),128))])],4)]),_:1})],36))}}),li=Ct(hi,[["__scopeId","data-v-ea281406"]]),ui={class:"container posts-content"},ci={key:0,class:"pinned"},di={class:"post-header"},fi={key:0,class:"cover-container"},vi=["src","alt"],pi={class:"header-content"},mi={class:"title"},Mi={key:0,class:"title-dot"},gi={class:"name"},Ci=["href"],yi={class:"meta-info-bar"},xi={class:"time-info"},Ai={datetime:""},Ei={class:"wordcount seperator"},Ti={class:"tags"},Si=["href","onClick"],Ri={class:"excerpt"},Ii={key:0,class:"pagination"},wi=["disabled"],Li={class:"page-numbers"},ki={key:0,class:"ellipsis"},Pi=["onClick"],_i={key:1,class:"ellipsis"},Di=["disabled"],Qt=3,Vi=ft({__name:"Posts-List",setup(s){const{state:e}=wt(),{page:v}=xt(),a=xt().site.value.base;function t(d){const m=new Date(d);return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(m)}const r=_t(()=>v.value.filePath==="index.md"?zt:v.value.filePath==="tags/index.md"?e.selectedPosts:[]),n=lt(5),i=_t({get:()=>e.currPage,set:d=>e.currPage=d});At(()=>{u(),window.addEventListener("popstate",()=>{u()})});function u(){const m=new URLSearchParams(window.location.search).get("page");m&&!isNaN(parseInt(m))&&parseInt(m)>0&&parseInt(m)<=p.value?e.currPage=parseInt(m):e.currPage=1}function h(d){if(d<1||d>p.value)return;e.currPage=d;const m=new URL(window.location.href);d>1?m.searchParams.set("page",d.toString()):m.searchParams.delete("page");const g=m.searchParams.get("tag");g&&m.searchParams.set("tag",g),window.history.pushState({},"",m.toString())}const f=_t(()=>{if(p.value<=7)return Array.from({length:p.value-2},(g,y)=>y+2).filter(g=>g>1&&g<p.value);let d=Math.max(2,i.value-Math.floor(Qt/2)),m=Math.min(p.value-1,d+Qt-1);return m-d<Qt-1&&(d=Math.max(2,m-Qt+1)),Array.from({length:m-d+1},(g,y)=>d+y)}),c=_t(()=>p.value>7&&f.value[0]>2),o=_t(()=>p.value>7&&f.value[f.value.length-1]<p.value-1),l=_t(()=>r.value.slice((i.value-1)*n.value,i.value*n.value)),p=_t(()=>Math.ceil(r.value.length/n.value)||1);return jt(()=>e.selectedPosts,()=>{const m=new URLSearchParams(window.location.search).get("page"),g=Math.ceil(e.selectedPosts.length/n.value)||1;if((!m||i.value>g)&&(i.value=1,m)){const y=new URL(window.location.href);y.searchParams.delete("page"),window.history.pushState({},"",y.toString())}}),(d,m)=>(j(),$("div",ui,[Mt(Pn,{class:"posts-list",name:"list",tag:"div"},{default:bt(()=>[(j(!0),$(It,null,Bt(l.value,g=>(j(),$("article",{class:"post",key:g.href},[g.pinned?(j(),$("span",ci)):Rt("",!0),Z("header",di,[g.cover?(j(),$("div",fi,[Z("img",{src:g.cover,class:"cover-image",alt:g.title+"-cover",loading:"lazy"},null,8,vi)])):Rt("",!0),Z("div",pi,[Z("div",mi,[g.cover?Rt("",!0):(j(),$("div",Mi)),Z("h1",gi,[Z("a",{href:tt(a)+g.href},ut(g.title),9,Ci)])]),Z("div",yi,[m[4]||(m[4]=Z("span",{class:"iconfont icon-time time"},null,-1)),Z("div",xi,[Z("time",Ai,ut(t(g.create)),1)]),Z("div",Ei,"约"+ut(g.wordCount)+"字",1)]),Z("ul",Ti,[(j(!0),$(It,null,Bt(g.tags,y=>(j(),$("li",null,[Z("a",{href:`${tt(a)}tags/`,onClick:k=>tt(e).currTag=y},[m[5]||(m[5]=Z("i",{class:"iconfont icon-tag"},null,-1)),Xt(" "+ut(y),1)],8,Si)]))),256))]),Z("div",Ri,[Z("p",null,ut(g.excerpt),1)])])])]))),128))]),_:1}),p.value!=1?(j(),$("div",Ii,[Z("button",{disabled:i.value===1,class:kt({hide:i.value===1}),id:"up",onClick:m[0]||(m[0]=g=>h(i.value-1))},m[6]||(m[6]=[Z("i",{class:"iconfont icon-arrow"},null,-1)]),10,wi),Z("div",Li,[Z("button",{class:kt(["page-number",{active:i.value===1}]),onClick:m[1]||(m[1]=g=>h(1))}," 1 ",2),c.value?(j(),$("span",ki,"...")):Rt("",!0),(j(!0),$(It,null,Bt(f.value,g=>(j(),$("button",{key:g,class:kt(["page-number",{active:i.value===g}]),onClick:y=>h(g)},ut(g),11,Pi))),128)),o.value?(j(),$("span",_i,"...")):Rt("",!0),p.value>1?(j(),$("button",{key:2,class:kt(["page-number",{active:i.value===p.value}]),onClick:m[2]||(m[2]=g=>h(p.value))},ut(p.value),3)):Rt("",!0)]),Z("button",{disabled:i.value>=p.value,class:kt({hide:i.value>=p.value}),id:"next",onClick:m[3]||(m[3]=g=>h(i.value+1))},m[7]||(m[7]=[Z("i",{class:"iconfont icon-arrow"},null,-1)]),10,Di)])):Rt("",!0)]))}}),Fi=Ct(Vi,[["__scopeId","data-v-fbbd1fe0"]]),Oi={class:"tags"},Bi=["onClick"],Ni=ft({__name:"Tags",setup(s){const e=lt(null),v={},{state:a}=wt(),t=n=>{e.value=n,a.selectedPosts=v[n]||[],a.currTag=n;const i=new URL(window.location.href);n&&n.trim()!==""?i.searchParams.set("tag",n):i.searchParams.delete("tag");const u=i.searchParams.get("page");(!u||u==="1")&&i.searchParams.delete("page"),window.history.pushState({},"",i.toString())};for(const n of zt)if(n.tags)for(const i of n.tags)v[i]||(v[i]=[]),v[i].push(n);function r(){if(typeof window<"u"){const i=new URLSearchParams(window.location.search).get("tag");if(i&&v[i])return i}return a.currTag||""}return At(()=>{const n=r();n?t(n):a.currTag&&t(a.currTag),window.addEventListener("popstate",()=>{const i=r();i!==e.value&&t(i)})}),jt(()=>a.currTag,n=>{n!==e.value&&t(n)}),Zt(()=>{t("")}),(n,i)=>(j(),$("ul",Oi,[(j(),$(It,null,Bt(v,(u,h)=>Z("li",{class:kt(["item",{active:e.value===h}])},[Z("a",{href:"javascript:void(0)",onClick:f=>t(h)},[i[0]||(i[0]=Z("i",{class:"iconfont icon-tag"},null,-1)),Xt(" "+ut(h),1)],8,Bi)],2)),64))]))}}),Ui=Ct(Ni,[["__scopeId","data-v-b7d2eedc"]]);function Yi(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gn={exports:{}},Cn={exports:{}};(function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(v,a){return v<<a|v>>>32-a},rotr:function(v,a){return v<<32-a|v>>>a},endian:function(v){if(v.constructor==Number)return e.rotl(v,8)&16711935|e.rotl(v,24)&4278255360;for(var a=0;a<v.length;a++)v[a]=e.endian(v[a]);return v},randomBytes:function(v){for(var a=[];v>0;v--)a.push(Math.floor(Math.random()*256));return a},bytesToWords:function(v){for(var a=[],t=0,r=0;t<v.length;t++,r+=8)a[r>>>5]|=v[t]<<24-r%32;return a},wordsToBytes:function(v){for(var a=[],t=0;t<v.length*32;t+=8)a.push(v[t>>>5]>>>24-t%32&255);return a},bytesToHex:function(v){for(var a=[],t=0;t<v.length;t++)a.push((v[t]>>>4).toString(16)),a.push((v[t]&15).toString(16));return a.join("")},hexToBytes:function(v){for(var a=[],t=0;t<v.length;t+=2)a.push(parseInt(v.substr(t,2),16));return a},bytesToBase64:function(v){for(var a=[],t=0;t<v.length;t+=3)for(var r=v[t]<<16|v[t+1]<<8|v[t+2],n=0;n<4;n++)t*8+n*6<=v.length*8?a.push(s.charAt(r>>>6*(3-n)&63)):a.push("=");return a.join("")},base64ToBytes:function(v){v=v.replace(/[^A-Z0-9+\/]/ig,"");for(var a=[],t=0,r=0;t<v.length;r=++t%4)r!=0&&a.push((s.indexOf(v.charAt(t-1))&Math.pow(2,-2*r+8)-1)<<r*2|s.indexOf(v.charAt(t))>>>6-r*2);return a}};Cn.exports=e})();var bi=Cn.exports,ge={utf8:{stringToBytes:function(s){return ge.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(ge.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var e=[],v=0;v<s.length;v++)e.push(s.charCodeAt(v)&255);return e},bytesToString:function(s){for(var e=[],v=0;v<s.length;v++)e.push(String.fromCharCode(s[v]));return e.join("")}}},Ze=ge;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Wi=function(s){return s!=null&&(yn(s)||Hi(s)||!!s._isBuffer)};function yn(s){return!!s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function Hi(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&yn(s.slice(0,0))}(function(){var s=bi,e=Ze.utf8,v=Wi,a=Ze.bin,t=function(r,n){r.constructor==String?n&&n.encoding==="binary"?r=a.stringToBytes(r):r=e.stringToBytes(r):v(r)?r=Array.prototype.slice.call(r,0):!Array.isArray(r)&&r.constructor!==Uint8Array&&(r=r.toString());for(var i=s.bytesToWords(r),u=r.length*8,h=1732584193,f=-271733879,c=-1732584194,o=271733878,l=0;l<i.length;l++)i[l]=(i[l]<<8|i[l]>>>24)&16711935|(i[l]<<24|i[l]>>>8)&4278255360;i[u>>>5]|=128<<u%32,i[(u+64>>>9<<4)+14]=u;for(var p=t._ff,d=t._gg,m=t._hh,g=t._ii,l=0;l<i.length;l+=16){var y=h,k=f,S=c,T=o;h=p(h,f,c,o,i[l+0],7,-680876936),o=p(o,h,f,c,i[l+1],12,-389564586),c=p(c,o,h,f,i[l+2],17,606105819),f=p(f,c,o,h,i[l+3],22,-1044525330),h=p(h,f,c,o,i[l+4],7,-176418897),o=p(o,h,f,c,i[l+5],12,1200080426),c=p(c,o,h,f,i[l+6],17,-1473231341),f=p(f,c,o,h,i[l+7],22,-45705983),h=p(h,f,c,o,i[l+8],7,1770035416),o=p(o,h,f,c,i[l+9],12,-1958414417),c=p(c,o,h,f,i[l+10],17,-42063),f=p(f,c,o,h,i[l+11],22,-1990404162),h=p(h,f,c,o,i[l+12],7,1804603682),o=p(o,h,f,c,i[l+13],12,-40341101),c=p(c,o,h,f,i[l+14],17,-1502002290),f=p(f,c,o,h,i[l+15],22,1236535329),h=d(h,f,c,o,i[l+1],5,-165796510),o=d(o,h,f,c,i[l+6],9,-1069501632),c=d(c,o,h,f,i[l+11],14,643717713),f=d(f,c,o,h,i[l+0],20,-373897302),h=d(h,f,c,o,i[l+5],5,-701558691),o=d(o,h,f,c,i[l+10],9,38016083),c=d(c,o,h,f,i[l+15],14,-660478335),f=d(f,c,o,h,i[l+4],20,-405537848),h=d(h,f,c,o,i[l+9],5,568446438),o=d(o,h,f,c,i[l+14],9,-1019803690),c=d(c,o,h,f,i[l+3],14,-187363961),f=d(f,c,o,h,i[l+8],20,1163531501),h=d(h,f,c,o,i[l+13],5,-1444681467),o=d(o,h,f,c,i[l+2],9,-51403784),c=d(c,o,h,f,i[l+7],14,1735328473),f=d(f,c,o,h,i[l+12],20,-1926607734),h=m(h,f,c,o,i[l+5],4,-378558),o=m(o,h,f,c,i[l+8],11,-2022574463),c=m(c,o,h,f,i[l+11],16,1839030562),f=m(f,c,o,h,i[l+14],23,-35309556),h=m(h,f,c,o,i[l+1],4,-1530992060),o=m(o,h,f,c,i[l+4],11,1272893353),c=m(c,o,h,f,i[l+7],16,-155497632),f=m(f,c,o,h,i[l+10],23,-1094730640),h=m(h,f,c,o,i[l+13],4,681279174),o=m(o,h,f,c,i[l+0],11,-358537222),c=m(c,o,h,f,i[l+3],16,-722521979),f=m(f,c,o,h,i[l+6],23,76029189),h=m(h,f,c,o,i[l+9],4,-640364487),o=m(o,h,f,c,i[l+12],11,-421815835),c=m(c,o,h,f,i[l+15],16,530742520),f=m(f,c,o,h,i[l+2],23,-995338651),h=g(h,f,c,o,i[l+0],6,-198630844),o=g(o,h,f,c,i[l+7],10,1126891415),c=g(c,o,h,f,i[l+14],15,-1416354905),f=g(f,c,o,h,i[l+5],21,-57434055),h=g(h,f,c,o,i[l+12],6,1700485571),o=g(o,h,f,c,i[l+3],10,-1894986606),c=g(c,o,h,f,i[l+10],15,-1051523),f=g(f,c,o,h,i[l+1],21,-2054922799),h=g(h,f,c,o,i[l+8],6,1873313359),o=g(o,h,f,c,i[l+15],10,-30611744),c=g(c,o,h,f,i[l+6],15,-1560198380),f=g(f,c,o,h,i[l+13],21,1309151649),h=g(h,f,c,o,i[l+4],6,-145523070),o=g(o,h,f,c,i[l+11],10,-1120210379),c=g(c,o,h,f,i[l+2],15,718787259),f=g(f,c,o,h,i[l+9],21,-343485551),h=h+y>>>0,f=f+k>>>0,c=c+S>>>0,o=o+T>>>0}return s.endian([h,f,c,o])};t._ff=function(r,n,i,u,h,f,c){var o=r+(n&i|~n&u)+(h>>>0)+c;return(o<<f|o>>>32-f)+n},t._gg=function(r,n,i,u,h,f,c){var o=r+(n&u|i&~u)+(h>>>0)+c;return(o<<f|o>>>32-f)+n},t._hh=function(r,n,i,u,h,f,c){var o=r+(n^i^u)+(h>>>0)+c;return(o<<f|o>>>32-f)+n},t._ii=function(r,n,i,u,h,f,c){var o=r+(i^(n|~u))+(h>>>0)+c;return(o<<f|o>>>32-f)+n},t._blocksize=16,t._digestsize=16,gn.exports=function(r,n){if(r==null)throw new Error("Illegal argument "+r);var i=s.wordsToBytes(t(r,n));return n&&n.asBytes?i:n&&n.asString?a.bytesToString(i):s.bytesToHex(i)}})();var Zi=gn.exports;const Gi=Yi(Zi),Xi={class:"gitalk-container"},zi=ft({__name:"Gitalk",setup(s){const e=xt().theme.value;return At(()=>{const v={clientID:e.clientID,clientSecret:e.clientSecret,repo:e.repo,owner:e.owner,admin:e.admin,id:Gi(location.pathname).toString(),distractionFreeMode:!1};new Gitalk(v).render("gitalk-container")}),(v,a)=>(j(),$("div",Xi,a[0]||(a[0]=[Z("div",{id:"gitalk-container"},null,-1)])))}}),ji={class:"view-box container"},qi=ft({__name:"Post-Viewer",setup(s){const e=_n(),a=xt().site.value.base,{state:t}=wt();function r(){let i=zt.findIndex(u=>u.href===e.path.replace(a,""));t.currPost=zt[i]}At(()=>{r()}),Zt(()=>{t.currPost={id:0,title:"",content:"",href:"",create:0,update:0,tags:[],wordCount:0,cover:"",excerpt:""}}),jt(()=>e.path,()=>{r()});const n=xt().theme.value;return(i,u)=>{const h=Xe("content");return j(),$("div",ji,[Mt(h,{class:"content"}),tt(n).clientID?(j(),Ot(zi,{key:0})):Rt("",!0)])}}}),Ji={class:"post-banner"},Qi={class:"title"},Ki={class:"status"},$i=ft({__name:"Post-InnerBanner",setup(s){const{state:e}=wt();return(v,a)=>Ce((j(),$("div",Ji,[Z("h1",Qi,ut(tt(e).currPost.title),1),Z("span",Ki,"发布于 "+ut(Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(tt(e).currPost.create)))+" | 约"+ut(tt(e).currPost.wordCount)+"字",1)],512)),[[Dn,tt(e).currPost.title]])}}),ta=Ct($i,[["__scopeId","data-v-8c3a58e5"]]),ea="/assets/NotFound.BbqB1acd.webp",na={class:"not-found"},ra={class:"band"},ia=["href"],aa=ft({__name:"NotFound",setup(s){const e=xt().site.value.base;return(v,a)=>(j(),$("div",na,[a[0]||(a[0]=Z("img",{src:ea,alt:""},null,-1)),a[1]||(a[1]=Z("span",null,"页面不存在",-1)),Z("span",ra,[Z("a",{href:tt(e)},"回到主页",8,ia)])]))}}),sa=Ct(aa,[["__scopeId","data-v-c594f599"]]),oa="/assets/toTop.DI_oygYQ.svg",Ge="bottom: -25%; right: -25%; opacity: 0;",ha=ft({__name:"ToTop",setup(s){const e=lt(Ge),v=()=>{window.requestAnimationFrame(()=>{window.scrollY>600?e.value="bottom: 50px":e.value=Ge})},a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return At(()=>{window.addEventListener("scroll",v),v()}),Zt(()=>{window.removeEventListener("scroll",v)}),(t,r)=>(j(),$("a",{href:"#",class:"totop",onClick:a,style:de(e.value),"aria-label":"to-top"},[Z("img",{onDragstart:r[0]||(r[0]=ne(()=>{},["prevent"])),src:oa,alt:""},null,32)],4))}}),la=Ct(ha,[["__scopeId","data-v-524d7f6e"]]),ua={class:"fireworks"},ca=ft({__name:"Fireworks",setup(s){const{state:e}=wt();function v(){document.removeEventListener("mousedown",a),window.removeEventListener("resize",t)}let a,t;function r(){v();const n=["102, 167, 221","62, 131, 225","33, 78, 194"],i=["252, 146, 174","202, 180, 190","207, 198, 255"],u={colors:e.darkMode==="dark"?i:n,numberOfParticles:20,orbitRadius:{min:50,max:100},circleRadius:{min:10,max:20},diffuseRadius:{min:50,max:100},animeDuration:{min:900,max:1500}};let h=0,f=0;const c=u.colors,o=document.querySelector(".fireworks"),l=o.getContext("2d");function p(x){x.width=window.innerWidth,x.height=window.innerHeight,x.style.width=`${window.innerWidth}px`,x.style.height=`${window.innerHeight}px`}function d(x){var M,A,L,R;h=x instanceof MouseEvent?x.clientX:((M=x.touches[0])==null?void 0:M.clientX)||((A=x.changedTouches[0])==null?void 0:A.clientX),f=x instanceof MouseEvent?x.clientY:((L=x.touches[0])==null?void 0:L.clientY)||((R=x.changedTouches[0])==null?void 0:R.clientY)}function m(x){const M=et.random(0,360)*Math.PI/180,A=et.random(u.diffuseRadius.min,u.diffuseRadius.max),L=[-1,1][et.random(0,1)]*A;return{x:x.x+L*Math.cos(M),y:x.y+L*Math.sin(M)}}function g(x,M){return{x,y:M,color:`rgba(${c[et.random(0,c.length-1)]},${et.random(.2,.8)})`,radius:et.random(u.circleRadius.min,u.circleRadius.max),angle:et.random(0,360),endPos:m({x,y:M}),draw(){l.save(),l.translate(this.x,this.y),l.rotate(this.angle*Math.PI/180),l.beginPath(),l.moveTo(0,-this.radius),l.lineTo(this.radius*Math.sin(Math.PI/3),this.radius*Math.cos(Math.PI/3)),l.lineTo(-this.radius*Math.sin(Math.PI/3),this.radius*Math.cos(Math.PI/3)),l.closePath(),l.fillStyle=this.color,l.fill(),l.restore()}}}function y(x,M){return{x,y:M,color:e.darkMode==="dark"?"rgb(233, 179, 237)":"rgb(106, 159, 255)",radius:.1,alpha:.5,lineWidth:6,draw(){l.globalAlpha=this.alpha,l.beginPath(),l.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),l.lineWidth=this.lineWidth,l.strokeStyle=this.color,l.stroke(),l.globalAlpha=1}}}function k(x){x.animatables.forEach(M=>{const A=M.target;typeof A.draw=="function"&&A.draw()})}function S(x,M){const A=y(x,M),L=Array.from({length:u.numberOfParticles},()=>g(x,M));et.timeline().add({targets:L,x(R){return R.endPos.x},y(R){return R.endPos.y},radius:0,duration:et.random(u.animeDuration.min,u.animeDuration.max),easing:"easeOutExpo",update:k}).add({targets:A,radius:et.random(u.orbitRadius.min,u.orbitRadius.max),lineWidth:0,alpha:{value:0,easing:"linear",duration:et.random(600,800)},duration:et.random(1200,1800),easing:"easeOutExpo",update:k},0)}const T=et({duration:Number.POSITIVE_INFINITY,update:()=>{l.clearRect(0,0,o.width,o.height)}});t=()=>p(o),a=x=>{T.play(),d(x),S(h,f)},document.addEventListener("mousedown",a),window.addEventListener("resize",t),p(o)}return At(()=>{r()}),jt(()=>e.darkMode,()=>{r()}),Zt(()=>{v()}),(n,i)=>(j(),$("canvas",ua))}}),da=Ct(ca,[["__scopeId","data-v-e80c925e"]]),fa="data:image/svg+xml,%3csvg%20width='487'%20height='177'%20viewBox='0%200%20487%20177'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.5%2086.5L0.5%20154.5H20L71.5%2086.5H55L17%20138L21.5%2086.5H4.5Z'%20fill='%23128AFA'/%3e%3cpath%20d='M73.5%20102.5L53%20154.5H67.5L87.5%20102.5H73.5Z'%20fill='%23128AFA'/%3e%3cpath%20d='M79.5%2088.5L75.5%2098H90L94%2088.5H79.5Z'%20fill='%23128AFA'/%3e%3cpath%20d='M117%2088.5L111.5%20102.5H99.5L95%20114.5H106L95%20143.5C94.3333%20147.167%2094.3%20154.5%2099.5%20154.5H118.5L124%20142.5H113.5C112.167%20142.5%20109.9%20141.8%20111.5%20139C113.1%20136.2%20118.5%20122.167%20121%20115.5H135.5L141%20102.5H126.5L132%2088.5H117Z'%20fill='%23128AFA'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M150%20134.5H187L195.5%20114.5C196.833%20110.833%20197.5%20103.3%20189.5%20102.5C181.5%20101.7%20166.167%20102.167%20159.5%20102.5C156.333%20102.667%20148.9%20105.3%20144.5%20114.5C140.1%20123.7%20135.333%20135.333%20133.5%20140C132.5%20144.833%20132.8%20154.5%20142%20154.5H180L185%20142.5H150C148.667%20141.333%20146.8%20138.1%20150%20134.5ZM177%20123H155C153.8%20119.4%20157.5%20115.833%20159.5%20114.5C164.833%20114%20176%20113.5%20178%20115.5C180%20117.5%20178.167%20121.333%20177%20123Z'%20fill='%23128AFA'/%3e%3cpath%20d='M158%2011L190.5%2026L196.5%2028.5L260%2057.5L196.5%20177L266.5%2060.5L337.5%2089L344%2091.5L353.5%2095L344%2090.5L337.5%2087.5L269.5%2056L278.5%2038.5L279.5%2036.5L296%200.5L275%2034.5L274%2036L263%2052.5L199.5%2027L193%2024.5L158%2011Z'%20fill='%23128AFA'/%3e%3cpath%20d='M428%20102.5H391C388.5%20102.667%20382.6%20104.9%20379%20112.5L374%20123.5C372.5%20127.333%20372.2%20135%20383%20135H399.5C401.333%20136.167%20403.6%20139.2%20398%20142H366.5L361.5%20154.5H401C403.167%20154%20408.3%20151.9%20411.5%20147.5C414.7%20143.1%20416.833%20136.333%20417.5%20133.5C418.667%20129.833%20419.4%20122.5%20413%20122.5H390C388.667%20120.833%20387.5%20117%20393.5%20115H422.5L428%20102.5Z'%20fill='%232B2B2B'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M320.891%20135.442H357.891L366.391%20115.442C367.725%20111.775%20368.391%20104.242%20360.391%20103.442C352.391%20102.642%20337.058%20103.108%20330.391%20103.442C327.225%20103.608%20319.791%20106.242%20315.391%20115.442C310.991%20124.642%20306.225%20136.275%20304.391%20140.942C303.391%20145.775%20303.691%20155.442%20312.891%20155.442H350.891L355.891%20143.442H320.891C319.558%20142.275%20317.691%20139.042%20320.891%20135.442ZM347.891%20123.942H325.891C324.691%20120.342%20328.391%20116.775%20330.391%20115.442C335.725%20114.942%20346.891%20114.442%20348.891%20116.442C350.891%20118.442%20349.058%20122.275%20347.891%20123.942Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M263.5%20154.5L278%20115.5C280.167%20111.5%20286%20103.4%20292%20103C298%20102.6%20307.833%20102.833%20312%20103L308%20114.5L295%20115.5C294%20115.833%20291.6%20117.8%20290%20123C288.4%20128.2%20281.333%20146.167%20278%20154.5H263.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M250.5%2098.5L257.5%2086H267C270.167%2086.8333%20276%2090.3%20274%2097.5C272%20104.7%20266.5%20117.5%20264%20123C262.5%20126.833%20256.6%20134.5%20245%20134.5H227.5L235%20121.5H246C247.667%20121.333%20251.3%20120.2%20252.5%20117C253.7%20113.8%20255.333%20109.333%20256%20107.5C256.667%20105.833%20257.6%20102%20256%20100C254.4%2098%20251.667%2098.1667%20250.5%2098.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M218.5%2086H237.5L231.5%2098.5H227.5L219.5%20123L203%20154.5H191.5L218.5%2086Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M190.5%2026C164.5%2039.2%20199.667%2067.5%20220.5%2080H225.5C206.5%2071%20185.897%2050.5%20186.5%2041C186.982%2033.4%20193.368%2029.5%20196.5%2028.5L190.5%2026Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M275%2034.5C235.338%2018.7587%20201.934%2020.6892%20193%2024.5L199.5%2027C206.167%2024%20232.4%2020.8%20274%2036L275%2034.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M344%2090.5C340.782%2068.5268%20299.404%2045.2411%20279.5%2036.5L278.5%2038.5C326.147%2061.2911%20337.49%2082.0562%20337.5%2087.5L344%2090.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M342.5%2096L344%2091.5L337.5%2089C338.7%2090.6%20335.667%2094.3333%20334%2096H342.5Z'%20fill='%232B2B2B'/%3e%3cpath%20d='M486.5%20103H449.5C447%20103.167%20441.1%20105.4%20437.5%20113L432.5%20124C431%20127.833%20430.7%20135.5%20441.5%20135.5H458C459.833%20136.667%20462.1%20139.7%20456.5%20142.5H425L420%20155H459.5C461.667%20154.5%20466.8%20152.4%20470%20148C473.2%20143.6%20475.333%20136.833%20476%20134C477.167%20130.333%20477.9%20123%20471.5%20123H448.5C447.167%20121.333%20446%20117.5%20452%20115.5H481L486.5%20103Z'%20fill='%232B2B2B'/%3e%3c/svg%3e",va={class:"container"},pa={class:"footer-info"},ma=["href"],Ma={class:"footer-logo"},ga=ft({__name:"Footer",setup(s){const e=xt().theme.value,v=e.footerName,a=e.poweredList;return(t,r)=>(j(),$("footer",va,[Z("div",pa,[Z("span",null,"© "+ut(new Date().getFullYear())+" "+ut(tt(v)),1),r[2]||(r[2]=Z("br",null,null,-1)),Z("span",null,[r[1]||(r[1]=Xt("Powered by ")),(j(!0),$(It,null,Bt(tt(a),(n,i)=>(j(),$("span",{class:"powered-list",key:n.url},[Z("a",{href:n.url},ut(n.name),9,ma),Xt(ut(i<tt(a).length-1?" & ":""),1)]))),128))])]),Z("div",Ma,[Z("img",{onDragstart:r[0]||(r[0]=ne(()=>{},["prevent"])),src:fa,alt:"logo-vitepress"},null,32)])]))}}),Ca=Ct(ga,[["__scopeId","data-v-c5526a12"]]);var rt=function(){var s=function(e,v){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,t){a.__proto__=t}||function(a,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r])},s(e,v)};return function(e,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");s(e,v);function a(){this.constructor=e}e.prototype=v===null?Object.create(v):(a.prototype=v.prototype,new a)}}(),B;(function(s){var e=function(){function x(M,A,L){if(M==null)throw new Error("name cannot be null.");if(A==null)throw new Error("timelines cannot be null.");this.name=M,this.timelines=A,this.timelineIds=[];for(var R=0;R<A.length;R++)this.timelineIds[A[R].getPropertyId()]=!0;this.duration=L}return x.prototype.hasTimeline=function(M){return this.timelineIds[M]==!0},x.prototype.apply=function(M,A,L,R,F,I,_,N){if(M==null)throw new Error("skeleton cannot be null.");R&&this.duration!=0&&(L%=this.duration,A>0&&(A%=this.duration));for(var w=this.timelines,C=0,E=w.length;C<E;C++)w[C].apply(M,A,L,F,I,_,N)},x.binarySearch=function(M,A,L){L===void 0&&(L=1);var R=0,F=M.length/L-2;if(F==0)return L;for(var I=F>>>1;;){if(M[(I+1)*L]<=A?R=I+1:F=I,R==F)return(R+1)*L;I=R+F>>>1}},x.linearSearch=function(M,A,L){for(var R=0,F=M.length-L;R<=F;R+=L)if(M[R]>A)return R;return-1},x}();s.Animation=e;var v;(function(x){x[x.setup=0]="setup",x[x.first=1]="first",x[x.replace=2]="replace",x[x.add=3]="add"})(v=s.MixBlend||(s.MixBlend={}));var a;(function(x){x[x.mixIn=0]="mixIn",x[x.mixOut=1]="mixOut"})(a=s.MixDirection||(s.MixDirection={}));var t;(function(x){x[x.rotate=0]="rotate",x[x.translate=1]="translate",x[x.scale=2]="scale",x[x.shear=3]="shear",x[x.attachment=4]="attachment",x[x.color=5]="color",x[x.deform=6]="deform",x[x.event=7]="event",x[x.drawOrder=8]="drawOrder",x[x.ikConstraint=9]="ikConstraint",x[x.transformConstraint=10]="transformConstraint",x[x.pathConstraintPosition=11]="pathConstraintPosition",x[x.pathConstraintSpacing=12]="pathConstraintSpacing",x[x.pathConstraintMix=13]="pathConstraintMix",x[x.twoColor=14]="twoColor"})(t=s.TimelineType||(s.TimelineType={}));var r=function(){function x(M){if(M<=0)throw new Error("frameCount must be > 0: "+M);this.curves=s.Utils.newFloatArray((M-1)*x.BEZIER_SIZE)}return x.prototype.getFrameCount=function(){return this.curves.length/x.BEZIER_SIZE+1},x.prototype.setLinear=function(M){this.curves[M*x.BEZIER_SIZE]=x.LINEAR},x.prototype.setStepped=function(M){this.curves[M*x.BEZIER_SIZE]=x.STEPPED},x.prototype.getCurveType=function(M){var A=M*x.BEZIER_SIZE;if(A==this.curves.length)return x.LINEAR;var L=this.curves[A];return L==x.LINEAR?x.LINEAR:L==x.STEPPED?x.STEPPED:x.BEZIER},x.prototype.setCurve=function(M,A,L,R,F){var I=(-A*2+R)*.03,_=(-L*2+F)*.03,N=((A-R)*3+1)*.006,w=((L-F)*3+1)*.006,C=I*2+N,E=_*2+w,V=A*.3+I+N*.16666667,D=L*.3+_+w*.16666667,H=M*x.BEZIER_SIZE,Y=this.curves;Y[H++]=x.BEZIER;for(var W=V,b=D,U=H+x.BEZIER_SIZE-1;H<U;H+=2)Y[H]=W,Y[H+1]=b,V+=C,D+=E,C+=N,E+=w,W+=V,b+=D},x.prototype.getCurvePercent=function(M,A){A=s.MathUtils.clamp(A,0,1);var L=this.curves,R=M*x.BEZIER_SIZE,F=L[R];if(F==x.LINEAR)return A;if(F==x.STEPPED)return 0;R++;for(var I=0,_=R,N=R+x.BEZIER_SIZE-1;R<N;R+=2)if(I=L[R],I>=A){var w=void 0,C=void 0;return R==_?(w=0,C=0):(w=L[R-2],C=L[R-1]),C+(L[R+1]-C)*(A-w)/(I-w)}var E=L[R-1];return E+(1-E)*(A-I)/(1-I)},x.LINEAR=0,x.STEPPED=1,x.BEZIER=2,x.BEZIER_SIZE=10*2-1,x}();s.CurveTimeline=r;var n=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A<<1),L}return M.prototype.getPropertyId=function(){return(t.rotate<<24)+this.boneIndex},M.prototype.setFrame=function(A,L,R){A<<=1,this.frames[A]=L,this.frames[A+M.ROTATION]=R},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.bones[this.boneIndex];if(C.active){if(R<w[0]){switch(_){case v.setup:C.rotation=C.data.rotation;return;case v.first:var E=C.data.rotation-C.rotation;C.rotation+=(E-(16384-(16384.499999999996-E/360|0))*360)*I}return}if(R>=w[w.length-M.ENTRIES]){var V=w[w.length+M.PREV_ROTATION];switch(_){case v.setup:C.rotation=C.data.rotation+V*I;break;case v.first:case v.replace:V+=C.data.rotation-C.rotation,V-=(16384-(16384.499999999996-V/360|0))*360;case v.add:C.rotation+=V*I}return}var D=e.binarySearch(w,R,M.ENTRIES),H=w[D+M.PREV_ROTATION],Y=w[D],W=this.getCurvePercent((D>>1)-1,1-(R-Y)/(w[D+M.PREV_TIME]-Y)),b=w[D+M.ROTATION]-H;switch(b=H+(b-(16384-(16384.499999999996-b/360|0))*360)*W,_){case v.setup:C.rotation=C.data.rotation+(b-(16384-(16384.499999999996-b/360|0))*360)*I;break;case v.first:case v.replace:b+=C.data.rotation-C.rotation;case v.add:C.rotation+=(b-(16384-(16384.499999999996-b/360|0))*360)*I}}},M.ENTRIES=2,M.PREV_TIME=-2,M.PREV_ROTATION=-1,M.ROTATION=1,M}(r);s.RotateTimeline=n;var i=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A*M.ENTRIES),L}return M.prototype.getPropertyId=function(){return(t.translate<<24)+this.boneIndex},M.prototype.setFrame=function(A,L,R,F){A*=M.ENTRIES,this.frames[A]=L,this.frames[A+M.X]=R,this.frames[A+M.Y]=F},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.bones[this.boneIndex];if(C.active){if(R<w[0]){switch(_){case v.setup:C.x=C.data.x,C.y=C.data.y;return;case v.first:C.x+=(C.data.x-C.x)*I,C.y+=(C.data.y-C.y)*I}return}var E=0,V=0;if(R>=w[w.length-M.ENTRIES])E=w[w.length+M.PREV_X],V=w[w.length+M.PREV_Y];else{var D=e.binarySearch(w,R,M.ENTRIES);E=w[D+M.PREV_X],V=w[D+M.PREV_Y];var H=w[D],Y=this.getCurvePercent(D/M.ENTRIES-1,1-(R-H)/(w[D+M.PREV_TIME]-H));E+=(w[D+M.X]-E)*Y,V+=(w[D+M.Y]-V)*Y}switch(_){case v.setup:C.x=C.data.x+E*I,C.y=C.data.y+V*I;break;case v.first:case v.replace:C.x+=(C.data.x+E-C.x)*I,C.y+=(C.data.y+V-C.y)*I;break;case v.add:C.x+=E*I,C.y+=V*I}}},M.ENTRIES=3,M.PREV_TIME=-3,M.PREV_X=-2,M.PREV_Y=-1,M.X=1,M.Y=2,M}(r);s.TranslateTimeline=i;var u=function(x){rt(M,x);function M(A){return x.call(this,A)||this}return M.prototype.getPropertyId=function(){return(t.scale<<24)+this.boneIndex},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.bones[this.boneIndex];if(C.active){if(R<w[0]){switch(_){case v.setup:C.scaleX=C.data.scaleX,C.scaleY=C.data.scaleY;return;case v.first:C.scaleX+=(C.data.scaleX-C.scaleX)*I,C.scaleY+=(C.data.scaleY-C.scaleY)*I}return}var E=0,V=0;if(R>=w[w.length-M.ENTRIES])E=w[w.length+M.PREV_X]*C.data.scaleX,V=w[w.length+M.PREV_Y]*C.data.scaleY;else{var D=e.binarySearch(w,R,M.ENTRIES);E=w[D+M.PREV_X],V=w[D+M.PREV_Y];var H=w[D],Y=this.getCurvePercent(D/M.ENTRIES-1,1-(R-H)/(w[D+M.PREV_TIME]-H));E=(E+(w[D+M.X]-E)*Y)*C.data.scaleX,V=(V+(w[D+M.Y]-V)*Y)*C.data.scaleY}if(I==1)_==v.add?(C.scaleX+=E-C.data.scaleX,C.scaleY+=V-C.data.scaleY):(C.scaleX=E,C.scaleY=V);else{var W=0,b=0;if(N==a.mixOut)switch(_){case v.setup:W=C.data.scaleX,b=C.data.scaleY,C.scaleX=W+(Math.abs(E)*s.MathUtils.signum(W)-W)*I,C.scaleY=b+(Math.abs(V)*s.MathUtils.signum(b)-b)*I;break;case v.first:case v.replace:W=C.scaleX,b=C.scaleY,C.scaleX=W+(Math.abs(E)*s.MathUtils.signum(W)-W)*I,C.scaleY=b+(Math.abs(V)*s.MathUtils.signum(b)-b)*I;break;case v.add:W=C.scaleX,b=C.scaleY,C.scaleX=W+(Math.abs(E)*s.MathUtils.signum(W)-C.data.scaleX)*I,C.scaleY=b+(Math.abs(V)*s.MathUtils.signum(b)-C.data.scaleY)*I}else switch(_){case v.setup:W=Math.abs(C.data.scaleX)*s.MathUtils.signum(E),b=Math.abs(C.data.scaleY)*s.MathUtils.signum(V),C.scaleX=W+(E-W)*I,C.scaleY=b+(V-b)*I;break;case v.first:case v.replace:W=Math.abs(C.scaleX)*s.MathUtils.signum(E),b=Math.abs(C.scaleY)*s.MathUtils.signum(V),C.scaleX=W+(E-W)*I,C.scaleY=b+(V-b)*I;break;case v.add:W=s.MathUtils.signum(E),b=s.MathUtils.signum(V),C.scaleX=Math.abs(C.scaleX)*W+(E-Math.abs(C.data.scaleX)*W)*I,C.scaleY=Math.abs(C.scaleY)*b+(V-Math.abs(C.data.scaleY)*b)*I}}}},M}(i);s.ScaleTimeline=u;var h=function(x){rt(M,x);function M(A){return x.call(this,A)||this}return M.prototype.getPropertyId=function(){return(t.shear<<24)+this.boneIndex},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.bones[this.boneIndex];if(C.active){if(R<w[0]){switch(_){case v.setup:C.shearX=C.data.shearX,C.shearY=C.data.shearY;return;case v.first:C.shearX+=(C.data.shearX-C.shearX)*I,C.shearY+=(C.data.shearY-C.shearY)*I}return}var E=0,V=0;if(R>=w[w.length-M.ENTRIES])E=w[w.length+M.PREV_X],V=w[w.length+M.PREV_Y];else{var D=e.binarySearch(w,R,M.ENTRIES);E=w[D+M.PREV_X],V=w[D+M.PREV_Y];var H=w[D],Y=this.getCurvePercent(D/M.ENTRIES-1,1-(R-H)/(w[D+M.PREV_TIME]-H));E=E+(w[D+M.X]-E)*Y,V=V+(w[D+M.Y]-V)*Y}switch(_){case v.setup:C.shearX=C.data.shearX+E*I,C.shearY=C.data.shearY+V*I;break;case v.first:case v.replace:C.shearX+=(C.data.shearX+E-C.shearX)*I,C.shearY+=(C.data.shearY+V-C.shearY)*I;break;case v.add:C.shearX+=E*I,C.shearY+=V*I}}},M}(i);s.ShearTimeline=h;var f=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A*M.ENTRIES),L}return M.prototype.getPropertyId=function(){return(t.color<<24)+this.slotIndex},M.prototype.setFrame=function(A,L,R,F,I,_){A*=M.ENTRIES,this.frames[A]=L,this.frames[A+M.R]=R,this.frames[A+M.G]=F,this.frames[A+M.B]=I,this.frames[A+M.A]=_},M.prototype.apply=function(A,L,R,F,I,_,N){var w=A.slots[this.slotIndex];if(w.bone.active){var C=this.frames;if(R<C[0]){switch(_){case v.setup:w.color.setFromColor(w.data.color);return;case v.first:var E=w.color,V=w.data.color;E.add((V.r-E.r)*I,(V.g-E.g)*I,(V.b-E.b)*I,(V.a-E.a)*I)}return}var D=0,H=0,Y=0,W=0;if(R>=C[C.length-M.ENTRIES]){var b=C.length;D=C[b+M.PREV_R],H=C[b+M.PREV_G],Y=C[b+M.PREV_B],W=C[b+M.PREV_A]}else{var U=e.binarySearch(C,R,M.ENTRIES);D=C[U+M.PREV_R],H=C[U+M.PREV_G],Y=C[U+M.PREV_B],W=C[U+M.PREV_A];var O=C[U],P=this.getCurvePercent(U/M.ENTRIES-1,1-(R-O)/(C[U+M.PREV_TIME]-O));D+=(C[U+M.R]-D)*P,H+=(C[U+M.G]-H)*P,Y+=(C[U+M.B]-Y)*P,W+=(C[U+M.A]-W)*P}if(I==1)w.color.set(D,H,Y,W);else{var E=w.color;_==v.setup&&E.setFromColor(w.data.color),E.add((D-E.r)*I,(H-E.g)*I,(Y-E.b)*I,(W-E.a)*I)}}},M.ENTRIES=5,M.PREV_TIME=-5,M.PREV_R=-4,M.PREV_G=-3,M.PREV_B=-2,M.PREV_A=-1,M.R=1,M.G=2,M.B=3,M.A=4,M}(r);s.ColorTimeline=f;var c=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A*M.ENTRIES),L}return M.prototype.getPropertyId=function(){return(t.twoColor<<24)+this.slotIndex},M.prototype.setFrame=function(A,L,R,F,I,_,N,w,C){A*=M.ENTRIES,this.frames[A]=L,this.frames[A+M.R]=R,this.frames[A+M.G]=F,this.frames[A+M.B]=I,this.frames[A+M.A]=_,this.frames[A+M.R2]=N,this.frames[A+M.G2]=w,this.frames[A+M.B2]=C},M.prototype.apply=function(A,L,R,F,I,_,N){var w=A.slots[this.slotIndex];if(w.bone.active){var C=this.frames;if(R<C[0]){switch(_){case v.setup:w.color.setFromColor(w.data.color),w.darkColor.setFromColor(w.data.darkColor);return;case v.first:var E=w.color,V=w.darkColor,D=w.data.color,H=w.data.darkColor;E.add((D.r-E.r)*I,(D.g-E.g)*I,(D.b-E.b)*I,(D.a-E.a)*I),V.add((H.r-V.r)*I,(H.g-V.g)*I,(H.b-V.b)*I,0)}return}var Y=0,W=0,b=0,U=0,O=0,P=0,G=0;if(R>=C[C.length-M.ENTRIES]){var z=C.length;Y=C[z+M.PREV_R],W=C[z+M.PREV_G],b=C[z+M.PREV_B],U=C[z+M.PREV_A],O=C[z+M.PREV_R2],P=C[z+M.PREV_G2],G=C[z+M.PREV_B2]}else{var X=e.binarySearch(C,R,M.ENTRIES);Y=C[X+M.PREV_R],W=C[X+M.PREV_G],b=C[X+M.PREV_B],U=C[X+M.PREV_A],O=C[X+M.PREV_R2],P=C[X+M.PREV_G2],G=C[X+M.PREV_B2];var J=C[X],Q=this.getCurvePercent(X/M.ENTRIES-1,1-(R-J)/(C[X+M.PREV_TIME]-J));Y+=(C[X+M.R]-Y)*Q,W+=(C[X+M.G]-W)*Q,b+=(C[X+M.B]-b)*Q,U+=(C[X+M.A]-U)*Q,O+=(C[X+M.R2]-O)*Q,P+=(C[X+M.G2]-P)*Q,G+=(C[X+M.B2]-G)*Q}if(I==1)w.color.set(Y,W,b,U),w.darkColor.set(O,P,G,1);else{var E=w.color,V=w.darkColor;_==v.setup&&(E.setFromColor(w.data.color),V.setFromColor(w.data.darkColor)),E.add((Y-E.r)*I,(W-E.g)*I,(b-E.b)*I,(U-E.a)*I),V.add((O-V.r)*I,(P-V.g)*I,(G-V.b)*I,0)}}},M.ENTRIES=8,M.PREV_TIME=-8,M.PREV_R=-7,M.PREV_G=-6,M.PREV_B=-5,M.PREV_A=-4,M.PREV_R2=-3,M.PREV_G2=-2,M.PREV_B2=-1,M.R=1,M.G=2,M.B=3,M.A=4,M.R2=5,M.G2=6,M.B2=7,M}(r);s.TwoColorTimeline=c;var o=function(){function x(M){this.frames=s.Utils.newFloatArray(M),this.attachmentNames=new Array(M)}return x.prototype.getPropertyId=function(){return(t.attachment<<24)+this.slotIndex},x.prototype.getFrameCount=function(){return this.frames.length},x.prototype.setFrame=function(M,A,L){this.frames[M]=A,this.attachmentNames[M]=L},x.prototype.apply=function(M,A,L,R,F,I,_){var N=M.slots[this.slotIndex];if(N.bone.active){if(_==a.mixOut){I==v.setup&&this.setAttachment(M,N,N.data.attachmentName);return}var w=this.frames;if(L<w[0]){(I==v.setup||I==v.first)&&this.setAttachment(M,N,N.data.attachmentName);return}var C=0;L>=w[w.length-1]?C=w.length-1:C=e.binarySearch(w,L,1)-1;var E=this.attachmentNames[C];M.slots[this.slotIndex].setAttachment(E==null?null:M.getAttachment(this.slotIndex,E))}},x.prototype.setAttachment=function(M,A,L){A.setAttachment(L==null?null:M.getAttachment(this.slotIndex,L))},x}();s.AttachmentTimeline=o;var l=null,p=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A),L.frameVertices=new Array(A),l==null&&(l=s.Utils.newFloatArray(64)),L}return M.prototype.getPropertyId=function(){return(t.deform<<27)+ +this.attachment.id+this.slotIndex},M.prototype.setFrame=function(A,L,R){this.frames[A]=L,this.frameVertices[A]=R},M.prototype.apply=function(A,L,R,F,I,_,N){var w=A.slots[this.slotIndex];if(w.bone.active){var C=w.getAttachment();if(!(!(C instanceof s.VertexAttachment)||C.deformAttachment!=this.attachment)){var E=w.deform;E.length==0&&(_=v.setup);var V=this.frameVertices,D=V[0].length,H=this.frames;if(R<H[0]){var Y=C;switch(_){case v.setup:E.length=0;return;case v.first:if(I==1){E.length=0;break}var W=s.Utils.setArraySize(E,D);if(Y.bones==null)for(var b=Y.vertices,U=0;U<D;U++)W[U]+=(b[U]-W[U])*I;else{I=1-I;for(var U=0;U<D;U++)W[U]*=I}}return}var O=s.Utils.setArraySize(E,D);if(R>=H[H.length-1]){var P=V[H.length-1];if(I==1)if(_==v.add){var Y=C;if(Y.bones==null)for(var b=Y.vertices,G=0;G<D;G++)O[G]+=P[G]-b[G];else for(var z=0;z<D;z++)O[z]+=P[z]}else s.Utils.arrayCopy(P,0,O,0,D);else switch(_){case v.setup:{var X=C;if(X.bones==null)for(var b=X.vertices,J=0;J<D;J++){var Q=b[J];O[J]=Q+(P[J]-Q)*I}else for(var nt=0;nt<D;nt++)O[nt]=P[nt]*I;break}case v.first:case v.replace:for(var K=0;K<D;K++)O[K]+=(P[K]-O[K])*I;break;case v.add:var Y=C;if(Y.bones==null)for(var b=Y.vertices,ht=0;ht<D;ht++)O[ht]+=(P[ht]-b[ht])*I;else for(var ot=0;ot<D;ot++)O[ot]+=P[ot]*I}return}var vt=e.binarySearch(H,R),pt=V[vt-1],ct=V[vt],mt=H[vt],st=this.getCurvePercent(vt-1,1-(R-mt)/(H[vt-1]-mt));if(I==1)if(_==v.add){var Y=C;if(Y.bones==null)for(var b=Y.vertices,at=0;at<D;at++){var it=pt[at];O[at]+=it+(ct[at]-it)*st-b[at]}else for(var Et=0;Et<D;Et++){var it=pt[Et];O[Et]+=it+(ct[Et]-it)*st}}else for(var yt=0;yt<D;yt++){var it=pt[yt];O[yt]=it+(ct[yt]-it)*st}else switch(_){case v.setup:{var Ft=C;if(Ft.bones==null)for(var b=Ft.vertices,Tt=0;Tt<D;Tt++){var it=pt[Tt],Q=b[Tt];O[Tt]=Q+(it+(ct[Tt]-it)*st-Q)*I}else for(var Lt=0;Lt<D;Lt++){var it=pt[Lt];O[Lt]=(it+(ct[Lt]-it)*st)*I}break}case v.first:case v.replace:for(var dt=0;dt<D;dt++){var it=pt[dt];O[dt]+=(it+(ct[dt]-it)*st-O[dt])*I}break;case v.add:var Y=C;if(Y.bones==null)for(var b=Y.vertices,St=0;St<D;St++){var it=pt[St];O[St]+=(it+(ct[St]-it)*st-b[St])*I}else for(var Ut=0;Ut<D;Ut++){var it=pt[Ut];O[Ut]+=(it+(ct[Ut]-it)*st)*I}}}}},M}(r);s.DeformTimeline=p;var d=function(){function x(M){this.frames=s.Utils.newFloatArray(M),this.events=new Array(M)}return x.prototype.getPropertyId=function(){return t.event<<24},x.prototype.getFrameCount=function(){return this.frames.length},x.prototype.setFrame=function(M,A){this.frames[M]=A.time,this.events[M]=A},x.prototype.apply=function(M,A,L,R,F,I,_){if(R!=null){var N=this.frames,w=this.frames.length;if(A>L)this.apply(M,A,Number.MAX_VALUE,R,F,I,_),A=-1;else if(A>=N[w-1])return;if(!(L<N[0])){var C=0;if(A<N[0])C=0;else{C=e.binarySearch(N,A);for(var E=N[C];C>0&&N[C-1]==E;)C--}for(;C<w&&L>=N[C];C++)R.push(this.events[C])}}},x}();s.EventTimeline=d;var m=function(){function x(M){this.frames=s.Utils.newFloatArray(M),this.drawOrders=new Array(M)}return x.prototype.getPropertyId=function(){return t.drawOrder<<24},x.prototype.getFrameCount=function(){return this.frames.length},x.prototype.setFrame=function(M,A,L){this.frames[M]=A,this.drawOrders[M]=L},x.prototype.apply=function(M,A,L,R,F,I,_){var N=M.drawOrder,w=M.slots;if(_==a.mixOut){I==v.setup&&s.Utils.arrayCopy(M.slots,0,M.drawOrder,0,M.slots.length);return}var C=this.frames;if(L<C[0]){(I==v.setup||I==v.first)&&s.Utils.arrayCopy(M.slots,0,M.drawOrder,0,M.slots.length);return}var E=0;L>=C[C.length-1]?E=C.length-1:E=e.binarySearch(C,L)-1;var V=this.drawOrders[E];if(V==null)s.Utils.arrayCopy(w,0,N,0,w.length);else for(var D=0,H=V.length;D<H;D++)N[D]=w[V[D]]},x}();s.DrawOrderTimeline=m;var g=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A*M.ENTRIES),L}return M.prototype.getPropertyId=function(){return(t.ikConstraint<<24)+this.ikConstraintIndex},M.prototype.setFrame=function(A,L,R,F,I,_,N){A*=M.ENTRIES,this.frames[A]=L,this.frames[A+M.MIX]=R,this.frames[A+M.SOFTNESS]=F,this.frames[A+M.BEND_DIRECTION]=I,this.frames[A+M.COMPRESS]=_?1:0,this.frames[A+M.STRETCH]=N?1:0},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.ikConstraints[this.ikConstraintIndex];if(C.active){if(R<w[0]){switch(_){case v.setup:C.mix=C.data.mix,C.softness=C.data.softness,C.bendDirection=C.data.bendDirection,C.compress=C.data.compress,C.stretch=C.data.stretch;return;case v.first:C.mix+=(C.data.mix-C.mix)*I,C.softness+=(C.data.softness-C.softness)*I,C.bendDirection=C.data.bendDirection,C.compress=C.data.compress,C.stretch=C.data.stretch}return}if(R>=w[w.length-M.ENTRIES]){_==v.setup?(C.mix=C.data.mix+(w[w.length+M.PREV_MIX]-C.data.mix)*I,C.softness=C.data.softness+(w[w.length+M.PREV_SOFTNESS]-C.data.softness)*I,N==a.mixOut?(C.bendDirection=C.data.bendDirection,C.compress=C.data.compress,C.stretch=C.data.stretch):(C.bendDirection=w[w.length+M.PREV_BEND_DIRECTION],C.compress=w[w.length+M.PREV_COMPRESS]!=0,C.stretch=w[w.length+M.PREV_STRETCH]!=0)):(C.mix+=(w[w.length+M.PREV_MIX]-C.mix)*I,C.softness+=(w[w.length+M.PREV_SOFTNESS]-C.softness)*I,N==a.mixIn&&(C.bendDirection=w[w.length+M.PREV_BEND_DIRECTION],C.compress=w[w.length+M.PREV_COMPRESS]!=0,C.stretch=w[w.length+M.PREV_STRETCH]!=0));return}var E=e.binarySearch(w,R,M.ENTRIES),V=w[E+M.PREV_MIX],D=w[E+M.PREV_SOFTNESS],H=w[E],Y=this.getCurvePercent(E/M.ENTRIES-1,1-(R-H)/(w[E+M.PREV_TIME]-H));_==v.setup?(C.mix=C.data.mix+(V+(w[E+M.MIX]-V)*Y-C.data.mix)*I,C.softness=C.data.softness+(D+(w[E+M.SOFTNESS]-D)*Y-C.data.softness)*I,N==a.mixOut?(C.bendDirection=C.data.bendDirection,C.compress=C.data.compress,C.stretch=C.data.stretch):(C.bendDirection=w[E+M.PREV_BEND_DIRECTION],C.compress=w[E+M.PREV_COMPRESS]!=0,C.stretch=w[E+M.PREV_STRETCH]!=0)):(C.mix+=(V+(w[E+M.MIX]-V)*Y-C.mix)*I,C.softness+=(D+(w[E+M.SOFTNESS]-D)*Y-C.softness)*I,N==a.mixIn&&(C.bendDirection=w[E+M.PREV_BEND_DIRECTION],C.compress=w[E+M.PREV_COMPRESS]!=0,C.stretch=w[E+M.PREV_STRETCH]!=0))}},M.ENTRIES=6,M.PREV_TIME=-6,M.PREV_MIX=-5,M.PREV_SOFTNESS=-4,M.PREV_BEND_DIRECTION=-3,M.PREV_COMPRESS=-2,M.PREV_STRETCH=-1,M.MIX=1,M.SOFTNESS=2,M.BEND_DIRECTION=3,M.COMPRESS=4,M.STRETCH=5,M}(r);s.IkConstraintTimeline=g;var y=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A*M.ENTRIES),L}return M.prototype.getPropertyId=function(){return(t.transformConstraint<<24)+this.transformConstraintIndex},M.prototype.setFrame=function(A,L,R,F,I,_){A*=M.ENTRIES,this.frames[A]=L,this.frames[A+M.ROTATE]=R,this.frames[A+M.TRANSLATE]=F,this.frames[A+M.SCALE]=I,this.frames[A+M.SHEAR]=_},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.transformConstraints[this.transformConstraintIndex];if(C.active){if(R<w[0]){var E=C.data;switch(_){case v.setup:C.rotateMix=E.rotateMix,C.translateMix=E.translateMix,C.scaleMix=E.scaleMix,C.shearMix=E.shearMix;return;case v.first:C.rotateMix+=(E.rotateMix-C.rotateMix)*I,C.translateMix+=(E.translateMix-C.translateMix)*I,C.scaleMix+=(E.scaleMix-C.scaleMix)*I,C.shearMix+=(E.shearMix-C.shearMix)*I}return}var V=0,D=0,H=0,Y=0;if(R>=w[w.length-M.ENTRIES]){var W=w.length;V=w[W+M.PREV_ROTATE],D=w[W+M.PREV_TRANSLATE],H=w[W+M.PREV_SCALE],Y=w[W+M.PREV_SHEAR]}else{var b=e.binarySearch(w,R,M.ENTRIES);V=w[b+M.PREV_ROTATE],D=w[b+M.PREV_TRANSLATE],H=w[b+M.PREV_SCALE],Y=w[b+M.PREV_SHEAR];var U=w[b],O=this.getCurvePercent(b/M.ENTRIES-1,1-(R-U)/(w[b+M.PREV_TIME]-U));V+=(w[b+M.ROTATE]-V)*O,D+=(w[b+M.TRANSLATE]-D)*O,H+=(w[b+M.SCALE]-H)*O,Y+=(w[b+M.SHEAR]-Y)*O}if(_==v.setup){var E=C.data;C.rotateMix=E.rotateMix+(V-E.rotateMix)*I,C.translateMix=E.translateMix+(D-E.translateMix)*I,C.scaleMix=E.scaleMix+(H-E.scaleMix)*I,C.shearMix=E.shearMix+(Y-E.shearMix)*I}else C.rotateMix+=(V-C.rotateMix)*I,C.translateMix+=(D-C.translateMix)*I,C.scaleMix+=(H-C.scaleMix)*I,C.shearMix+=(Y-C.shearMix)*I}},M.ENTRIES=5,M.PREV_TIME=-5,M.PREV_ROTATE=-4,M.PREV_TRANSLATE=-3,M.PREV_SCALE=-2,M.PREV_SHEAR=-1,M.ROTATE=1,M.TRANSLATE=2,M.SCALE=3,M.SHEAR=4,M}(r);s.TransformConstraintTimeline=y;var k=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A*M.ENTRIES),L}return M.prototype.getPropertyId=function(){return(t.pathConstraintPosition<<24)+this.pathConstraintIndex},M.prototype.setFrame=function(A,L,R){A*=M.ENTRIES,this.frames[A]=L,this.frames[A+M.VALUE]=R},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.pathConstraints[this.pathConstraintIndex];if(C.active){if(R<w[0]){switch(_){case v.setup:C.position=C.data.position;return;case v.first:C.position+=(C.data.position-C.position)*I}return}var E=0;if(R>=w[w.length-M.ENTRIES])E=w[w.length+M.PREV_VALUE];else{var V=e.binarySearch(w,R,M.ENTRIES);E=w[V+M.PREV_VALUE];var D=w[V],H=this.getCurvePercent(V/M.ENTRIES-1,1-(R-D)/(w[V+M.PREV_TIME]-D));E+=(w[V+M.VALUE]-E)*H}_==v.setup?C.position=C.data.position+(E-C.data.position)*I:C.position+=(E-C.position)*I}},M.ENTRIES=2,M.PREV_TIME=-2,M.PREV_VALUE=-1,M.VALUE=1,M}(r);s.PathConstraintPositionTimeline=k;var S=function(x){rt(M,x);function M(A){return x.call(this,A)||this}return M.prototype.getPropertyId=function(){return(t.pathConstraintSpacing<<24)+this.pathConstraintIndex},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.pathConstraints[this.pathConstraintIndex];if(C.active){if(R<w[0]){switch(_){case v.setup:C.spacing=C.data.spacing;return;case v.first:C.spacing+=(C.data.spacing-C.spacing)*I}return}var E=0;if(R>=w[w.length-M.ENTRIES])E=w[w.length+M.PREV_VALUE];else{var V=e.binarySearch(w,R,M.ENTRIES);E=w[V+M.PREV_VALUE];var D=w[V],H=this.getCurvePercent(V/M.ENTRIES-1,1-(R-D)/(w[V+M.PREV_TIME]-D));E+=(w[V+M.VALUE]-E)*H}_==v.setup?C.spacing=C.data.spacing+(E-C.data.spacing)*I:C.spacing+=(E-C.spacing)*I}},M}(k);s.PathConstraintSpacingTimeline=S;var T=function(x){rt(M,x);function M(A){var L=x.call(this,A)||this;return L.frames=s.Utils.newFloatArray(A*M.ENTRIES),L}return M.prototype.getPropertyId=function(){return(t.pathConstraintMix<<24)+this.pathConstraintIndex},M.prototype.setFrame=function(A,L,R,F){A*=M.ENTRIES,this.frames[A]=L,this.frames[A+M.ROTATE]=R,this.frames[A+M.TRANSLATE]=F},M.prototype.apply=function(A,L,R,F,I,_,N){var w=this.frames,C=A.pathConstraints[this.pathConstraintIndex];if(C.active){if(R<w[0]){switch(_){case v.setup:C.rotateMix=C.data.rotateMix,C.translateMix=C.data.translateMix;return;case v.first:C.rotateMix+=(C.data.rotateMix-C.rotateMix)*I,C.translateMix+=(C.data.translateMix-C.translateMix)*I}return}var E=0,V=0;if(R>=w[w.length-M.ENTRIES])E=w[w.length+M.PREV_ROTATE],V=w[w.length+M.PREV_TRANSLATE];else{var D=e.binarySearch(w,R,M.ENTRIES);E=w[D+M.PREV_ROTATE],V=w[D+M.PREV_TRANSLATE];var H=w[D],Y=this.getCurvePercent(D/M.ENTRIES-1,1-(R-H)/(w[D+M.PREV_TIME]-H));E+=(w[D+M.ROTATE]-E)*Y,V+=(w[D+M.TRANSLATE]-V)*Y}_==v.setup?(C.rotateMix=C.data.rotateMix+(E-C.data.rotateMix)*I,C.translateMix=C.data.translateMix+(V-C.data.translateMix)*I):(C.rotateMix+=(E-C.rotateMix)*I,C.translateMix+=(V-C.translateMix)*I)}},M.ENTRIES=3,M.PREV_TIME=-3,M.PREV_ROTATE=-2,M.PREV_TRANSLATE=-1,M.ROTATE=1,M.TRANSLATE=2,M}(r);s.PathConstraintMixTimeline=T})(B||(B={}));var B;(function(s){var e=function(){function n(i){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new a(this),this.propertyIDs=new s.IntSet,this.animationsChanged=!1,this.trackEntryPool=new s.Pool(function(){return new v}),this.data=i}return n.prototype.update=function(i){i*=this.timeScale;for(var u=this.tracks,h=0,f=u.length;h<f;h++){var c=u[h];if(c!=null){c.animationLast=c.nextAnimationLast,c.trackLast=c.nextTrackLast;var o=i*c.timeScale;if(c.delay>0){if(c.delay-=o,c.delay>0)continue;o=-c.delay,c.delay=0}var l=c.next;if(l!=null){var p=c.trackLast-l.delay;if(p>=0){for(l.delay=0,l.trackTime+=c.timeScale==0?0:(p/c.timeScale+i)*l.timeScale,c.trackTime+=o,this.setCurrent(h,l,!0);l.mixingFrom!=null;)l.mixTime+=i,l=l.mixingFrom;continue}}else if(c.trackLast>=c.trackEnd&&c.mixingFrom==null){u[h]=null,this.queue.end(c),this.disposeNext(c);continue}if(c.mixingFrom!=null&&this.updateMixingFrom(c,i)){var d=c.mixingFrom;for(c.mixingFrom=null,d!=null&&(d.mixingTo=null);d!=null;)this.queue.end(d),d=d.mixingFrom}c.trackTime+=o}}this.queue.drain()},n.prototype.updateMixingFrom=function(i,u){var h=i.mixingFrom;if(h==null)return!0;var f=this.updateMixingFrom(h,u);return h.animationLast=h.nextAnimationLast,h.trackLast=h.nextTrackLast,i.mixTime>0&&i.mixTime>=i.mixDuration?((h.totalAlpha==0||i.mixDuration==0)&&(i.mixingFrom=h.mixingFrom,h.mixingFrom!=null&&(h.mixingFrom.mixingTo=i),i.interruptAlpha=h.interruptAlpha,this.queue.end(h)),f):(h.trackTime+=u*h.timeScale,i.mixTime+=u,!1)},n.prototype.apply=function(i){if(i==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var u=this.events,h=this.tracks,f=!1,c=0,o=h.length;c<o;c++){var l=h[c];if(!(l==null||l.delay>0)){f=!0;var p=c==0?s.MixBlend.first:l.mixBlend,d=l.alpha;l.mixingFrom!=null?d*=this.applyMixingFrom(l,i,p):l.trackTime>=l.trackEnd&&l.next==null&&(d=0);var m=l.animationLast,g=l.getAnimationTime(),y=l.animation.timelines.length,k=l.animation.timelines;if(c==0&&d==1||p==s.MixBlend.add)for(var S=0;S<y;S++){s.Utils.webkit602BugfixHelper(d,p);var T=k[S];T instanceof s.AttachmentTimeline?this.applyAttachmentTimeline(T,i,g,p,!0):T.apply(i,m,g,u,d,p,s.MixDirection.mixIn)}else{var x=l.timelineMode,M=l.timelinesRotation.length==0;M&&s.Utils.setArraySize(l.timelinesRotation,y<<1,null);for(var A=l.timelinesRotation,S=0;S<y;S++){var L=k[S],R=x[S]==n.SUBSEQUENT?p:s.MixBlend.setup;L instanceof s.RotateTimeline?this.applyRotateTimeline(L,i,g,d,R,A,S<<1,M):L instanceof s.AttachmentTimeline?this.applyAttachmentTimeline(L,i,g,p,!0):(s.Utils.webkit602BugfixHelper(d,p),L.apply(i,m,g,u,d,R,s.MixDirection.mixIn))}}this.queueEvents(l,g),u.length=0,l.nextAnimationLast=g,l.nextTrackLast=l.trackTime}}for(var F=this.unkeyedState+n.SETUP,I=i.slots,_=0,N=i.slots.length;_<N;_++){var w=I[_];if(w.attachmentState==F){var C=w.data.attachmentName;w.setAttachment(C==null?null:i.getAttachment(w.data.index,C))}}return this.unkeyedState+=2,this.queue.drain(),f},n.prototype.applyMixingFrom=function(i,u,h){var f=i.mixingFrom;f.mixingFrom!=null&&this.applyMixingFrom(f,u,h);var c=0;i.mixDuration==0?(c=1,h==s.MixBlend.first&&(h=s.MixBlend.setup)):(c=i.mixTime/i.mixDuration,c>1&&(c=1),h!=s.MixBlend.first&&(h=f.mixBlend));var o=c<f.eventThreshold?this.events:null,l=c<f.attachmentThreshold,p=c<f.drawOrderThreshold,d=f.animationLast,m=f.getAnimationTime(),g=f.animation.timelines.length,y=f.animation.timelines,k=f.alpha*i.interruptAlpha,S=k*(1-c);if(h==s.MixBlend.add)for(var T=0;T<g;T++)y[T].apply(u,d,m,o,S,h,s.MixDirection.mixOut);else{var x=f.timelineMode,M=f.timelineHoldMix,A=f.timelinesRotation.length==0;A&&s.Utils.setArraySize(f.timelinesRotation,g<<1,null);var L=f.timelinesRotation;f.totalAlpha=0;for(var T=0;T<g;T++){var R=y[T],F=s.MixDirection.mixOut,I=void 0,_=0;switch(x[T]){case n.SUBSEQUENT:if(!p&&R instanceof s.DrawOrderTimeline)continue;I=h,_=S;break;case n.FIRST:I=s.MixBlend.setup,_=S;break;case n.HOLD_SUBSEQUENT:I=h,_=k;break;case n.HOLD_FIRST:I=s.MixBlend.setup,_=k;break;default:I=s.MixBlend.setup;var N=M[T];_=k*Math.max(0,1-N.mixTime/N.mixDuration);break}f.totalAlpha+=_,R instanceof s.RotateTimeline?this.applyRotateTimeline(R,u,m,_,I,L,T<<1,A):R instanceof s.AttachmentTimeline?this.applyAttachmentTimeline(R,u,m,I,l):(s.Utils.webkit602BugfixHelper(_,h),p&&R instanceof s.DrawOrderTimeline&&I==s.MixBlend.setup&&(F=s.MixDirection.mixIn),R.apply(u,d,m,o,_,I,F))}}return i.mixDuration>0&&this.queueEvents(f,m),this.events.length=0,f.nextAnimationLast=m,f.nextTrackLast=f.trackTime,c},n.prototype.applyAttachmentTimeline=function(i,u,h,f,c){var o=u.slots[i.slotIndex];if(o.bone.active){var l=i.frames;if(h<l[0])(f==s.MixBlend.setup||f==s.MixBlend.first)&&this.setAttachment(u,o,o.data.attachmentName,c);else{var p;h>=l[l.length-1]?p=l.length-1:p=s.Animation.binarySearch(l,h)-1,this.setAttachment(u,o,i.attachmentNames[p],c)}o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+n.SETUP)}},n.prototype.setAttachment=function(i,u,h,f){u.setAttachment(h==null?null:i.getAttachment(u.data.index,h)),f&&(u.attachmentState=this.unkeyedState+n.CURRENT)},n.prototype.applyRotateTimeline=function(i,u,h,f,c,o,l,p){if(p&&(o[l]=0),f==1){i.apply(u,0,h,null,1,c,s.MixDirection.mixIn);return}var d=i,m=d.frames,g=u.bones[d.boneIndex];if(g.active){var y=0,k=0;if(h<m[0])switch(c){case s.MixBlend.setup:g.rotation=g.data.rotation;default:return;case s.MixBlend.first:y=g.rotation,k=g.data.rotation}else if(y=c==s.MixBlend.setup?g.data.rotation:g.rotation,h>=m[m.length-s.RotateTimeline.ENTRIES])k=g.data.rotation+m[m.length+s.RotateTimeline.PREV_ROTATION];else{var S=s.Animation.binarySearch(m,h,s.RotateTimeline.ENTRIES),T=m[S+s.RotateTimeline.PREV_ROTATION],x=m[S],M=d.getCurvePercent((S>>1)-1,1-(h-x)/(m[S+s.RotateTimeline.PREV_TIME]-x));k=m[S+s.RotateTimeline.ROTATION]-T,k-=(16384-(16384.499999999996-k/360|0))*360,k=T+k*M+g.data.rotation,k-=(16384-(16384.499999999996-k/360|0))*360}var A=0,L=k-y;if(L-=(16384-(16384.499999999996-L/360|0))*360,L==0)A=o[l];else{var R=0,F=0;p?(R=0,F=L):(R=o[l],F=o[l+1]);var I=L>0,_=R>=0;s.MathUtils.signum(F)!=s.MathUtils.signum(L)&&Math.abs(F)<=90&&(Math.abs(R)>180&&(R+=360*s.MathUtils.signum(R)),_=I),A=L+R-R%360,_!=I&&(A+=360*s.MathUtils.signum(R)),o[l]=A}o[l+1]=L,y+=A*f,g.rotation=y-(16384-(16384.499999999996-y/360|0))*360}},n.prototype.queueEvents=function(i,u){for(var h=i.animationStart,f=i.animationEnd,c=f-h,o=i.trackLast%c,l=this.events,p=0,d=l.length;p<d;p++){var m=l[p];if(m.time<o)break;m.time>f||this.queue.event(i,m)}var g=!1;for(i.loop?g=c==0||o>i.trackTime%c:g=u>=f&&i.animationLast<f,g&&this.queue.complete(i);p<d;p++){var y=l[p];y.time<h||this.queue.event(i,l[p])}},n.prototype.clearTracks=function(){var i=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var u=0,h=this.tracks.length;u<h;u++)this.clearTrack(u);this.tracks.length=0,this.queue.drainDisabled=i,this.queue.drain()},n.prototype.clearTrack=function(i){if(!(i>=this.tracks.length)){var u=this.tracks[i];if(u!=null){this.queue.end(u),this.disposeNext(u);for(var h=u;;){var f=h.mixingFrom;if(f==null)break;this.queue.end(f),h.mixingFrom=null,h.mixingTo=null,h=f}this.tracks[u.trackIndex]=null,this.queue.drain()}}},n.prototype.setCurrent=function(i,u,h){var f=this.expandToIndex(i);this.tracks[i]=u,f!=null&&(h&&this.queue.interrupt(f),u.mixingFrom=f,f.mixingTo=u,u.mixTime=0,f.mixingFrom!=null&&f.mixDuration>0&&(u.interruptAlpha*=Math.min(1,f.mixTime/f.mixDuration)),f.timelinesRotation.length=0),this.queue.start(u)},n.prototype.setAnimation=function(i,u,h){var f=this.data.skeletonData.findAnimation(u);if(f==null)throw new Error("Animation not found: "+u);return this.setAnimationWith(i,f,h)},n.prototype.setAnimationWith=function(i,u,h){if(u==null)throw new Error("animation cannot be null.");var f=!0,c=this.expandToIndex(i);c!=null&&(c.nextTrackLast==-1?(this.tracks[i]=c.mixingFrom,this.queue.interrupt(c),this.queue.end(c),this.disposeNext(c),c=c.mixingFrom,f=!1):this.disposeNext(c));var o=this.trackEntry(i,u,h,c);return this.setCurrent(i,o,f),this.queue.drain(),o},n.prototype.addAnimation=function(i,u,h,f){var c=this.data.skeletonData.findAnimation(u);if(c==null)throw new Error("Animation not found: "+u);return this.addAnimationWith(i,c,h,f)},n.prototype.addAnimationWith=function(i,u,h,f){if(u==null)throw new Error("animation cannot be null.");var c=this.expandToIndex(i);if(c!=null)for(;c.next!=null;)c=c.next;var o=this.trackEntry(i,u,h,c);if(c==null)this.setCurrent(i,o,!0),this.queue.drain();else if(c.next=o,f<=0){var l=c.animationEnd-c.animationStart;l!=0?(c.loop?f+=l*(1+(c.trackTime/l|0)):f+=Math.max(l,c.trackTime),f-=this.data.getMix(c.animation,u)):f=c.trackTime}return o.delay=f,o},n.prototype.setEmptyAnimation=function(i,u){var h=this.setAnimationWith(i,n.emptyAnimation,!1);return h.mixDuration=u,h.trackEnd=u,h},n.prototype.addEmptyAnimation=function(i,u,h){h<=0&&(h-=u);var f=this.addAnimationWith(i,n.emptyAnimation,!1,h);return f.mixDuration=u,f.trackEnd=u,f},n.prototype.setEmptyAnimations=function(i){var u=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var h=0,f=this.tracks.length;h<f;h++){var c=this.tracks[h];c!=null&&this.setEmptyAnimation(c.trackIndex,i)}this.queue.drainDisabled=u,this.queue.drain()},n.prototype.expandToIndex=function(i){return i<this.tracks.length?this.tracks[i]:(s.Utils.ensureArrayCapacity(this.tracks,i+1,null),this.tracks.length=i+1,null)},n.prototype.trackEntry=function(i,u,h,f){var c=this.trackEntryPool.obtain();return c.trackIndex=i,c.animation=u,c.loop=h,c.holdPrevious=!1,c.eventThreshold=0,c.attachmentThreshold=0,c.drawOrderThreshold=0,c.animationStart=0,c.animationEnd=u.duration,c.animationLast=-1,c.nextAnimationLast=-1,c.delay=0,c.trackTime=0,c.trackLast=-1,c.nextTrackLast=-1,c.trackEnd=Number.MAX_VALUE,c.timeScale=1,c.alpha=1,c.interruptAlpha=1,c.mixTime=0,c.mixDuration=f==null?0:this.data.getMix(f.animation,u),c.mixBlend=s.MixBlend.replace,c},n.prototype.disposeNext=function(i){for(var u=i.next;u!=null;)this.queue.dispose(u),u=u.next;i.next=null},n.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var i=0,u=this.tracks.length;i<u;i++){var h=this.tracks[i];if(h!=null){for(;h.mixingFrom!=null;)h=h.mixingFrom;do(h.mixingFrom==null||h.mixBlend!=s.MixBlend.add)&&this.computeHold(h),h=h.mixingTo;while(h!=null)}}},n.prototype.computeHold=function(i){var u=i.mixingTo,h=i.animation.timelines,f=i.animation.timelines.length,c=s.Utils.setArraySize(i.timelineMode,f);i.timelineHoldMix.length=0;var o=s.Utils.setArraySize(i.timelineHoldMix,f),l=this.propertyIDs;if(u!=null&&u.holdPrevious){for(var p=0;p<f;p++)c[p]=l.add(h[p].getPropertyId())?n.HOLD_FIRST:n.HOLD_SUBSEQUENT;return}t:for(var p=0;p<f;p++){var d=h[p],m=d.getPropertyId();if(!l.add(m))c[p]=n.SUBSEQUENT;else if(u==null||d instanceof s.AttachmentTimeline||d instanceof s.DrawOrderTimeline||d instanceof s.EventTimeline||!u.animation.hasTimeline(m))c[p]=n.FIRST;else{for(var g=u.mixingTo;g!=null;g=g.mixingTo)if(!g.animation.hasTimeline(m)){if(i.mixDuration>0){c[p]=n.HOLD_MIX,o[p]=g;continue t}break}c[p]=n.HOLD_FIRST}}},n.prototype.getCurrent=function(i){return i>=this.tracks.length?null:this.tracks[i]},n.prototype.addListener=function(i){if(i==null)throw new Error("listener cannot be null.");this.listeners.push(i)},n.prototype.removeListener=function(i){var u=this.listeners.indexOf(i);u>=0&&this.listeners.splice(u,1)},n.prototype.clearListeners=function(){this.listeners.length=0},n.prototype.clearListenerNotifications=function(){this.queue.clear()},n.emptyAnimation=new s.Animation("<empty>",[],0),n.SUBSEQUENT=0,n.FIRST=1,n.HOLD_SUBSEQUENT=2,n.HOLD_FIRST=3,n.HOLD_MIX=4,n.SETUP=1,n.CURRENT=2,n}();s.AnimationState=e;var v=function(){function n(){this.mixBlend=s.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return n.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},n.prototype.getAnimationTime=function(){if(this.loop){var i=this.animationEnd-this.animationStart;return i==0?this.animationStart:this.trackTime%i+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},n.prototype.setAnimationLast=function(i){this.animationLast=i,this.nextAnimationLast=i},n.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},n.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},n}();s.TrackEntry=v;var a=function(){function n(i){this.objects=[],this.drainDisabled=!1,this.animState=i}return n.prototype.start=function(i){this.objects.push(t.start),this.objects.push(i),this.animState.animationsChanged=!0},n.prototype.interrupt=function(i){this.objects.push(t.interrupt),this.objects.push(i)},n.prototype.end=function(i){this.objects.push(t.end),this.objects.push(i),this.animState.animationsChanged=!0},n.prototype.dispose=function(i){this.objects.push(t.dispose),this.objects.push(i)},n.prototype.complete=function(i){this.objects.push(t.complete),this.objects.push(i)},n.prototype.event=function(i,u){this.objects.push(t.event),this.objects.push(i),this.objects.push(u)},n.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var i=this.objects,u=this.animState.listeners,h=0;h<i.length;h+=2){var f=i[h],c=i[h+1];switch(f){case t.start:c.listener!=null&&c.listener.start&&c.listener.start(c);for(var o=0;o<u.length;o++)u[o].start&&u[o].start(c);break;case t.interrupt:c.listener!=null&&c.listener.interrupt&&c.listener.interrupt(c);for(var o=0;o<u.length;o++)u[o].interrupt&&u[o].interrupt(c);break;case t.end:c.listener!=null&&c.listener.end&&c.listener.end(c);for(var o=0;o<u.length;o++)u[o].end&&u[o].end(c);case t.dispose:c.listener!=null&&c.listener.dispose&&c.listener.dispose(c);for(var o=0;o<u.length;o++)u[o].dispose&&u[o].dispose(c);this.animState.trackEntryPool.free(c);break;case t.complete:c.listener!=null&&c.listener.complete&&c.listener.complete(c);for(var o=0;o<u.length;o++)u[o].complete&&u[o].complete(c);break;case t.event:var l=i[h+++2];c.listener!=null&&c.listener.event&&c.listener.event(c,l);for(var o=0;o<u.length;o++)u[o].event&&u[o].event(c,l);break}}this.clear(),this.drainDisabled=!1}},n.prototype.clear=function(){this.objects.length=0},n}();s.EventQueue=a;var t;(function(n){n[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event"})(t=s.EventType||(s.EventType={}));var r=function(){function n(){}return n.prototype.start=function(i){},n.prototype.interrupt=function(i){},n.prototype.end=function(i){},n.prototype.dispose=function(i){},n.prototype.complete=function(i){},n.prototype.event=function(i,u){},n}();s.AnimationStateAdapter=r})(B||(B={}));var B;(function(s){var e=function(){function v(a){if(this.animationToMixTime={},this.defaultMix=0,a==null)throw new Error("skeletonData cannot be null.");this.skeletonData=a}return v.prototype.setMix=function(a,t,r){var n=this.skeletonData.findAnimation(a);if(n==null)throw new Error("Animation not found: "+a);var i=this.skeletonData.findAnimation(t);if(i==null)throw new Error("Animation not found: "+t);this.setMixWith(n,i,r)},v.prototype.setMixWith=function(a,t,r){if(a==null)throw new Error("from cannot be null.");if(t==null)throw new Error("to cannot be null.");var n=a.name+"."+t.name;this.animationToMixTime[n]=r},v.prototype.getMix=function(a,t){var r=a.name+"."+t.name,n=this.animationToMixTime[r];return n===void 0?this.defaultMix:n},v}();s.AnimationStateData=e})(B||(B={}));var B;(function(s){var e=function(){function v(a,t){t===void 0&&(t=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=a,this.pathPrefix=t}return v.prototype.downloadText=function(a,t,r){var n=new XMLHttpRequest;n.overrideMimeType("text/html"),this.rawDataUris[a]&&(a=this.rawDataUris[a]),n.open("GET",a,!0),n.onload=function(){n.status==200?t(n.responseText):r(n.status,n.responseText)},n.onerror=function(){r(n.status,n.responseText)},n.send()},v.prototype.downloadBinary=function(a,t,r){var n=new XMLHttpRequest;this.rawDataUris[a]&&(a=this.rawDataUris[a]),n.open("GET",a,!0),n.responseType="arraybuffer",n.onload=function(){n.status==200?t(new Uint8Array(n.response)):r(n.status,n.responseText)},n.onerror=function(){r(n.status,n.responseText)},n.send()},v.prototype.setRawDataURI=function(a,t){this.rawDataUris[this.pathPrefix+a]=t},v.prototype.loadBinary=function(a,t,r){var n=this;t===void 0&&(t=null),r===void 0&&(r=null),a=this.pathPrefix+a,this.toLoad++,this.downloadBinary(a,function(i){n.assets[a]=i,t&&t(a,i),n.toLoad--,n.loaded++},function(i,u){n.errors[a]="Couldn't load binary ".concat(a,": status ").concat(status,", ").concat(u),r&&r(a,"Couldn't load binary ".concat(a,": status ").concat(status,", ").concat(u)),n.toLoad--,n.loaded++})},v.prototype.loadText=function(a,t,r){var n=this;t===void 0&&(t=null),r===void 0&&(r=null),a=this.pathPrefix+a,this.toLoad++,this.downloadText(a,function(i){n.assets[a]=i,t&&t(a,i),n.toLoad--,n.loaded++},function(i,u){n.errors[a]="Couldn't load text ".concat(a,": status ").concat(status,", ").concat(u),r&&r(a,"Couldn't load text ".concat(a,": status ").concat(status,", ").concat(u)),n.toLoad--,n.loaded++})},v.prototype.loadTexture=function(a,t,r){var n=this;t===void 0&&(t=null),r===void 0&&(r=null),a=this.pathPrefix+a;var i=a;this.toLoad++;var u=new Image;u.crossOrigin="anonymous",u.onload=function(h){var f=n.textureLoader(u);n.assets[i]=f,n.toLoad--,n.loaded++,t&&t(a,u)},u.onerror=function(h){n.errors[a]="Couldn't load image ".concat(a),n.toLoad--,n.loaded++,r&&r(a,"Couldn't load image ".concat(a))},this.rawDataUris[a]&&(a=this.rawDataUris[a]),u.src=a},v.prototype.loadTextureAtlas=function(a,t,r){var n=this;t===void 0&&(t=null),r===void 0&&(r=null);var i=a.lastIndexOf("/")>=0?a.substring(0,a.lastIndexOf("/")):"";a=this.pathPrefix+a,this.toLoad++,this.downloadText(a,function(u){var h={count:0},f=new Array;try{var c=new s.TextureAtlas(u,function(g){f.push(i==""?g:i+"/"+g);var y=document.createElement("img");return y.width=16,y.height=16,new s.FakeTexture(y)})}catch(g){var o=g;n.errors[a]="Couldn't load texture atlas ".concat(a,": ").concat(o.message),r&&r(a,"Couldn't load texture atlas ".concat(a,": ").concat(o.message)),n.toLoad--,n.loaded++;return}for(var l=function(g){var y=!1;n.loadTexture(g,function(k,S){if(h.count++,h.count==f.length)if(y)n.errors[a]="Couldn't load texture atlas page ".concat(k,"} of atlas ").concat(a),r&&r(a,"Couldn't load texture atlas page ".concat(k," of atlas ").concat(a)),n.toLoad--,n.loaded++;else try{var T=new s.TextureAtlas(u,function(M){return n.get(i==""?M:i+"/"+M)});n.assets[a]=T,t&&t(a,T),n.toLoad--,n.loaded++}catch(M){var x=M;n.errors[a]="Couldn't load texture atlas ".concat(a,": ").concat(x.message),r&&r(a,"Couldn't load texture atlas ".concat(a,": ").concat(x.message)),n.toLoad--,n.loaded++}},function(k,S){y=!0,h.count++,h.count==f.length&&(n.errors[a]="Couldn't load texture atlas page ".concat(k,"} of atlas ").concat(a),r&&r(a,"Couldn't load texture atlas page ".concat(k," of atlas ").concat(a)),n.toLoad--,n.loaded++)})},p=0,d=f;p<d.length;p++){var m=d[p];l(m)}},function(u,h){n.errors[a]="Couldn't load texture atlas ".concat(a,": status ").concat(status,", ").concat(h),r&&r(a,"Couldn't load texture atlas ".concat(a,": status ").concat(status,", ").concat(h)),n.toLoad--,n.loaded++})},v.prototype.get=function(a){return a=this.pathPrefix+a,this.assets[a]},v.prototype.remove=function(a){a=this.pathPrefix+a;var t=this.assets[a];t.dispose&&t.dispose(),this.assets[a]=null},v.prototype.removeAll=function(){for(var a in this.assets){var t=this.assets[a];t.dispose&&t.dispose()}this.assets={}},v.prototype.isLoadingComplete=function(){return this.toLoad==0},v.prototype.getToLoad=function(){return this.toLoad},v.prototype.getLoaded=function(){return this.loaded},v.prototype.dispose=function(){this.removeAll()},v.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},v.prototype.getErrors=function(){return this.errors},v}();s.AssetManager=e})(B||(B={}));var B;(function(s){var e=function(){function v(a){this.atlas=a}return v.prototype.newRegionAttachment=function(a,t,r){var n=this.atlas.findRegion(r);if(n==null)throw new Error("Region not found in atlas: "+r+" (region attachment: "+t+")");n.renderObject=n;var i=new s.RegionAttachment(t);return i.setRegion(n),i},v.prototype.newMeshAttachment=function(a,t,r){var n=this.atlas.findRegion(r);if(n==null)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+t+")");n.renderObject=n;var i=new s.MeshAttachment(t);return i.region=n,i},v.prototype.newBoundingBoxAttachment=function(a,t){return new s.BoundingBoxAttachment(t)},v.prototype.newPathAttachment=function(a,t){return new s.PathAttachment(t)},v.prototype.newPointAttachment=function(a,t){return new s.PointAttachment(t)},v.prototype.newClippingAttachment=function(a,t){return new s.ClippingAttachment(t)},v}();s.AtlasAttachmentLoader=e})(B||(B={}));var B;(function(s){(function(e){e[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"})(s.BlendMode||(s.BlendMode={}))})(B||(B={}));var B;(function(s){var e=function(){function v(a,t,r){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=a,this.skeleton=t,this.parent=r,this.setToSetupPose()}return v.prototype.isActive=function(){return this.active},v.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},v.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},v.prototype.updateWorldTransformWith=function(a,t,r,n,i,u,h){this.ax=a,this.ay=t,this.arotation=r,this.ascaleX=n,this.ascaleY=i,this.ashearX=u,this.ashearY=h,this.appliedValid=!0;var f=this.parent;if(f==null){var c=this.skeleton,o=r+90+h,l=c.scaleX,p=c.scaleY;this.a=s.MathUtils.cosDeg(r+u)*n*l,this.b=s.MathUtils.cosDeg(o)*i*l,this.c=s.MathUtils.sinDeg(r+u)*n*p,this.d=s.MathUtils.sinDeg(o)*i*p,this.worldX=a*l+c.x,this.worldY=t*p+c.y;return}var d=f.a,m=f.b,g=f.c,y=f.d;switch(this.worldX=d*a+m*t+f.worldX,this.worldY=g*a+y*t+f.worldY,this.data.transformMode){case s.TransformMode.Normal:{var o=r+90+h,k=s.MathUtils.cosDeg(r+u)*n,S=s.MathUtils.cosDeg(o)*i,T=s.MathUtils.sinDeg(r+u)*n,x=s.MathUtils.sinDeg(o)*i;this.a=d*k+m*T,this.b=d*S+m*x,this.c=g*k+y*T,this.d=g*S+y*x;return}case s.TransformMode.OnlyTranslation:{var o=r+90+h;this.a=s.MathUtils.cosDeg(r+u)*n,this.b=s.MathUtils.cosDeg(o)*i,this.c=s.MathUtils.sinDeg(r+u)*n,this.d=s.MathUtils.sinDeg(o)*i;break}case s.TransformMode.NoRotationOrReflection:{var M=d*d+g*g,A=0;M>1e-4?(M=Math.abs(d*y-m*g)/M,d/=this.skeleton.scaleX,g/=this.skeleton.scaleY,m=g*M,y=d*M,A=Math.atan2(g,d)*s.MathUtils.radDeg):(d=0,g=0,A=90-Math.atan2(y,m)*s.MathUtils.radDeg);var L=r+u-A,R=r+h-A+90,k=s.MathUtils.cosDeg(L)*n,S=s.MathUtils.cosDeg(R)*i,T=s.MathUtils.sinDeg(L)*n,x=s.MathUtils.sinDeg(R)*i;this.a=d*k-m*T,this.b=d*S-m*x,this.c=g*k+y*T,this.d=g*S+y*x;break}case s.TransformMode.NoScale:case s.TransformMode.NoScaleOrReflection:{var F=s.MathUtils.cosDeg(r),I=s.MathUtils.sinDeg(r),_=(d*F+m*I)/this.skeleton.scaleX,N=(g*F+y*I)/this.skeleton.scaleY,M=Math.sqrt(_*_+N*N);M>1e-5&&(M=1/M),_*=M,N*=M,M=Math.sqrt(_*_+N*N),this.data.transformMode==s.TransformMode.NoScale&&d*y-m*g<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(M=-M);var w=Math.PI/2+Math.atan2(N,_),C=Math.cos(w)*M,E=Math.sin(w)*M,k=s.MathUtils.cosDeg(u)*n,S=s.MathUtils.cosDeg(90+h)*i,T=s.MathUtils.sinDeg(u)*n,x=s.MathUtils.sinDeg(90+h)*i;this.a=_*k+C*T,this.b=_*S+C*x,this.c=N*k+E*T,this.d=N*S+E*x;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},v.prototype.setToSetupPose=function(){var a=this.data;this.x=a.x,this.y=a.y,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.shearX=a.shearX,this.shearY=a.shearY},v.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*s.MathUtils.radDeg},v.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*s.MathUtils.radDeg},v.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},v.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},v.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var a=this.parent;if(a==null){this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*s.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*s.MathUtils.radDeg;return}var t=a.a,r=a.b,n=a.c,i=a.d,u=1/(t*i-r*n),h=this.worldX-a.worldX,f=this.worldY-a.worldY;this.ax=h*i*u-f*r*u,this.ay=f*t*u-h*n*u;var c=u*i,o=u*t,l=u*r,p=u*n,d=c*this.a-l*this.c,m=c*this.b-l*this.d,g=o*this.c-p*this.a,y=o*this.d-p*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(d*d+g*g),this.ascaleX>1e-4){var k=d*y-m*g;this.ascaleY=k/this.ascaleX,this.ashearY=Math.atan2(d*m+g*y,k)*s.MathUtils.radDeg,this.arotation=Math.atan2(g,d)*s.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(m*m+y*y),this.ashearY=0,this.arotation=90-Math.atan2(y,m)*s.MathUtils.radDeg},v.prototype.worldToLocal=function(a){var t=this.a,r=this.b,n=this.c,i=this.d,u=1/(t*i-r*n),h=a.x-this.worldX,f=a.y-this.worldY;return a.x=h*i*u-f*r*u,a.y=f*t*u-h*n*u,a},v.prototype.localToWorld=function(a){var t=a.x,r=a.y;return a.x=t*this.a+r*this.b+this.worldX,a.y=t*this.c+r*this.d+this.worldY,a},v.prototype.worldToLocalRotation=function(a){var t=s.MathUtils.sinDeg(a),r=s.MathUtils.cosDeg(a);return Math.atan2(this.a*t-this.c*r,this.d*r-this.b*t)*s.MathUtils.radDeg+this.rotation-this.shearX},v.prototype.localToWorldRotation=function(a){a-=this.rotation-this.shearX;var t=s.MathUtils.sinDeg(a),r=s.MathUtils.cosDeg(a);return Math.atan2(r*this.c+t*this.d,r*this.a+t*this.b)*s.MathUtils.radDeg},v.prototype.rotateWorld=function(a){var t=this.a,r=this.b,n=this.c,i=this.d,u=s.MathUtils.cosDeg(a),h=s.MathUtils.sinDeg(a);this.a=u*t-h*n,this.b=u*r-h*i,this.c=h*t+u*n,this.d=h*r+u*i,this.appliedValid=!1},v}();s.Bone=e})(B||(B={}));var B;(function(s){var e=function(){function a(t,r,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=v.Normal,this.skinRequired=!1,this.color=new s.Color,t<0)throw new Error("index must be >= 0.");if(r==null)throw new Error("name cannot be null.");this.index=t,this.name=r,this.parent=n}return a}();s.BoneData=e;var v;(function(a){a[a.Normal=0]="Normal",a[a.OnlyTranslation=1]="OnlyTranslation",a[a.NoRotationOrReflection=2]="NoRotationOrReflection",a[a.NoScale=3]="NoScale",a[a.NoScaleOrReflection=4]="NoScaleOrReflection"})(v=s.TransformMode||(s.TransformMode={}))})(B||(B={}));var B;(function(s){var e=function(){function v(a,t,r){this.name=a,this.order=t,this.skinRequired=r}return v}();s.ConstraintData=e})(B||(B={}));var B;(function(s){var e=function(){function v(a,t){if(t==null)throw new Error("data cannot be null.");this.time=a,this.data=t}return v}();s.Event=e})(B||(B={}));var B;(function(s){var e=function(){function v(a){this.name=a}return v}();s.EventData=e})(B||(B={}));var B;(function(s){var e=function(){function v(a,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=a,this.mix=a.mix,this.softness=a.softness,this.bendDirection=a.bendDirection,this.compress=a.compress,this.stretch=a.stretch,this.bones=new Array;for(var r=0;r<a.bones.length;r++)this.bones.push(t.findBone(a.bones[r].name));this.target=t.findBone(a.target.name)}return v.prototype.isActive=function(){return this.active},v.prototype.apply=function(){this.update()},v.prototype.update=function(){var a=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],a.worldX,a.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],a.worldX,a.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},v.prototype.apply1=function(a,t,r,n,i,u,h){a.appliedValid||a.updateAppliedTransform();var f=a.parent,c=f.a,o=f.b,l=f.c,p=f.d,d=-a.ashearX-a.arotation,m=0,g=0;switch(a.data.transformMode){case s.TransformMode.OnlyTranslation:m=t-a.worldX,g=r-a.worldY;break;case s.TransformMode.NoRotationOrReflection:var y=Math.abs(c*p-o*l)/(c*c+l*l),k=c/a.skeleton.scaleX,S=l/a.skeleton.scaleY;o=-S*y*a.skeleton.scaleX,p=k*y*a.skeleton.scaleY,d+=Math.atan2(S,k)*s.MathUtils.radDeg;default:var T=t-f.worldX,x=r-f.worldY,M=c*p-o*l;m=(T*p-x*o)/M-a.ax,g=(x*c-T*l)/M-a.ay}d+=Math.atan2(g,m)*s.MathUtils.radDeg,a.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var A=a.ascaleX,L=a.ascaleY;if(n||i){switch(a.data.transformMode){case s.TransformMode.NoScale:case s.TransformMode.NoScaleOrReflection:m=t-a.worldX,g=r-a.worldY}var R=a.data.length*A,F=Math.sqrt(m*m+g*g);if(n&&F<R||i&&F>R&&R>1e-4){var y=(F/R-1)*h+1;A*=y,u&&(L*=y)}}a.updateWorldTransformWith(a.ax,a.ay,a.arotation+d*h,A,L,a.ashearX,a.ashearY)},v.prototype.apply2=function(a,t,r,n,i,u,h,f){if(f==0){t.updateWorldTransform();return}a.appliedValid||a.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();var c=a.ax,o=a.ay,l=a.ascaleX,p=l,d=a.ascaleY,m=t.ascaleX,g=0,y=0,k=0;l<0?(l=-l,g=180,k=-1):(g=0,k=1),d<0&&(d=-d,k=-k),m<0?(m=-m,y=180):y=0;var S=t.ax,T=0,x=0,M=0,A=a.a,L=a.b,R=a.c,F=a.d,I=Math.abs(l-d)<=1e-4;I?(T=t.ay,x=A*S+L*T+a.worldX,M=R*S+F*T+a.worldY):(T=0,x=A*S+a.worldX,M=R*S+a.worldY);var _=a.parent;A=_.a,L=_.b,R=_.c,F=_.d;var N=1/(A*F-L*R),w=x-_.worldX,C=M-_.worldY,E=(w*F-C*L)*N-c,V=(C*A-w*R)*N-o,D=Math.sqrt(E*E+V*V),H=t.data.length*m,Y,W;if(D<1e-4){this.apply1(a,r,n,!1,u,!1,f),t.updateWorldTransformWith(S,T,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);return}w=r-_.worldX,C=n-_.worldY;var b=(w*F-C*L)*N-c,U=(C*A-w*R)*N-o,O=b*b+U*U;if(h!=0){h*=l*(m+1)/2;var P=Math.sqrt(O),G=P-D-H*l+h;if(G>0){var z=Math.min(1,G/(h*2))-1;z=(G-h*(1-z*z))/P,b-=z*b,U-=z*U,O=b*b+U*U}}t:if(I){H*=l;var X=(O-D*D-H*H)/(2*D*H);X<-1?X=-1:X>1&&(X=1,u&&(p*=(Math.sqrt(O)/(D+H)-1)*f+1)),W=Math.acos(X)*i,A=D+H*X,L=H*Math.sin(W),Y=Math.atan2(U*A-b*L,b*A+U*L)}else{A=l*H,L=d*H;var J=A*A,Q=L*L,nt=Math.atan2(U,b);R=Q*D*D+J*O-J*Q;var K=-2*Q*D,ht=Q-J;if(F=K*K-4*ht*R,F>=0){var ot=Math.sqrt(F);K<0&&(ot=-ot),ot=-(K+ot)/2;var vt=ot/ht,pt=R/ot,ct=Math.abs(vt)<Math.abs(pt)?vt:pt;if(ct*ct<=O){C=Math.sqrt(O-ct*ct)*i,Y=nt-Math.atan2(C,ct),W=Math.atan2(C/d,(ct-D)/l);break t}}var mt=s.MathUtils.PI,st=D-A,at=st*st,it=0,Et=0,yt=D+A,Ft=yt*yt,Tt=0;R=-A*D/(J-Q),R>=-1&&R<=1&&(R=Math.acos(R),w=A*Math.cos(R)+D,C=L*Math.sin(R),F=w*w+C*C,F<at&&(mt=R,at=F,st=w,it=C),F>Ft&&(Et=R,Ft=F,yt=w,Tt=C)),O<=(at+Ft)/2?(Y=nt-Math.atan2(it*i,st),W=mt*i):(Y=nt-Math.atan2(Tt*i,yt),W=Et*i)}var Lt=Math.atan2(T,S)*k,dt=a.arotation;Y=(Y-Lt)*s.MathUtils.radDeg+g-dt,Y>180?Y-=360:Y<-180&&(Y+=360),a.updateWorldTransformWith(c,o,dt+Y*f,p,a.ascaleY,0,0),dt=t.arotation,W=((W+Lt)*s.MathUtils.radDeg-t.ashearX)*k+y-dt,W>180?W-=360:W<-180&&(W+=360),t.updateWorldTransformWith(S,T,dt+W*f,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)},v}();s.IkConstraint=e})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t,0,!1)||this;return r.bones=new Array,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return a}(s.ConstraintData);s.IkConstraintData=e})(B||(B={}));var B;(function(s){var e=function(){function v(a,t){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=a,this.bones=new Array;for(var r=0,n=a.bones.length;r<n;r++)this.bones.push(t.findBone(a.bones[r].name));this.target=t.findSlot(a.target.name),this.position=a.position,this.spacing=a.spacing,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix}return v.prototype.isActive=function(){return this.active},v.prototype.apply=function(){this.update()},v.prototype.update=function(){var a=this.target.getAttachment();if(a instanceof s.PathAttachment){var t=this.rotateMix,r=this.translateMix,n=r>0,i=t>0;if(!(!n&&!i)){var u=this.data,h=u.spacingMode==s.SpacingMode.Percent,f=u.rotateMode,c=f==s.RotateMode.Tangent,o=f==s.RotateMode.ChainScale,l=this.bones.length,p=c?l:l+1,d=this.bones,m=s.Utils.setArraySize(this.spaces,p),g=null,y=this.spacing;if(o||!h){o&&(g=s.Utils.setArraySize(this.lengths,l));for(var k=u.spacingMode==s.SpacingMode.Length,S=0,T=p-1;S<T;){var x=d[S],M=x.data.length;if(M<v.epsilon)o&&(g[S]=0),m[++S]=0;else if(h){if(o){var A=M*x.a,L=M*x.c,R=Math.sqrt(A*A+L*L);g[S]=R}m[++S]=y}else{var A=M*x.a,L=M*x.c,F=Math.sqrt(A*A+L*L);o&&(g[S]=F),m[++S]=(k?M+y:y)*F/M}}}else for(var S=1;S<p;S++)m[S]=y;var I=this.computeWorldPositions(a,p,c,u.positionMode==s.PositionMode.Percent,h),_=I[0],N=I[1],w=u.offsetRotation,C=!1;if(w==0)C=f==s.RotateMode.Chain;else{C=!1;var E=this.target.bone;w*=E.a*E.d-E.b*E.c>0?s.MathUtils.degRad:-s.MathUtils.degRad}for(var S=0,E=3;S<l;S++,E+=3){var x=d[S];x.worldX+=(_-x.worldX)*r,x.worldY+=(N-x.worldY)*r;var A=I[E],L=I[E+1],V=A-_,D=L-N;if(o){var H=g[S];if(H!=0){var Y=(Math.sqrt(V*V+D*D)/H-1)*t+1;x.a*=Y,x.c*=Y}}if(_=A,N=L,i){var W=x.a,b=x.b,U=x.c,O=x.d,P=0,G=0,z=0;if(c?P=I[E-1]:m[S+1]==0?P=I[E+2]:P=Math.atan2(D,V),P-=Math.atan2(U,W),C){G=Math.cos(P),z=Math.sin(P);var X=x.data.length;_+=(X*(G*W-z*U)-V)*t,N+=(X*(z*W+G*U)-D)*t}else P+=w;P>s.MathUtils.PI?P-=s.MathUtils.PI2:P<-s.MathUtils.PI&&(P+=s.MathUtils.PI2),P*=t,G=Math.cos(P),z=Math.sin(P),x.a=G*W-z*U,x.b=G*b-z*O,x.c=z*W+G*U,x.d=z*b+G*O}x.appliedValid=!1}}}},v.prototype.computeWorldPositions=function(a,t,r,n,i){var u=this.target,h=this.position,f=this.spaces,c=s.Utils.setArraySize(this.positions,t*3+2),o=null,l=a.closed,p=a.worldVerticesLength,d=p/6,m=v.NONE;if(!a.constantSpeed){var g=a.lengths;d-=l?1:2;var y=g[d];if(n&&(h*=y),i)for(var k=1;k<t;k++)f[k]*=y;o=s.Utils.setArraySize(this.world,8);for(var k=0,S=0,T=0;k<t;k++,S+=3){var x=f[k];h+=x;var M=h;if(l)M%=y,M<0&&(M+=y),T=0;else if(M<0){m!=v.BEFORE&&(m=v.BEFORE,a.computeWorldVertices(u,2,4,o,0,2)),this.addBeforePosition(M,o,0,c,S);continue}else if(M>y){m!=v.AFTER&&(m=v.AFTER,a.computeWorldVertices(u,p-6,4,o,0,2)),this.addAfterPosition(M-y,o,0,c,S);continue}for(;;T++){var A=g[T];if(!(M>A)){if(T==0)M/=A;else{var L=g[T-1];M=(M-L)/(A-L)}break}}T!=m&&(m=T,l&&T==d?(a.computeWorldVertices(u,p-4,4,o,0,2),a.computeWorldVertices(u,0,4,o,4,2)):a.computeWorldVertices(u,T*6+2,8,o,0,2)),this.addCurvePosition(M,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],c,S,r||k>0&&x==0)}return c}l?(p+=2,o=s.Utils.setArraySize(this.world,p),a.computeWorldVertices(u,2,p-4,o,0,2),a.computeWorldVertices(u,0,2,o,p-4,2),o[p-2]=o[0],o[p-1]=o[1]):(d--,p-=4,o=s.Utils.setArraySize(this.world,p),a.computeWorldVertices(u,2,p,o,0,2));for(var R=s.Utils.setArraySize(this.curves,d),F=0,I=o[0],_=o[1],N=0,w=0,C=0,E=0,V=0,D=0,H=0,Y=0,W=0,b=0,U=0,O=0,P=0,G=0,k=0,z=2;k<d;k++,z+=6)N=o[z],w=o[z+1],C=o[z+2],E=o[z+3],V=o[z+4],D=o[z+5],H=(I-N*2+C)*.1875,Y=(_-w*2+E)*.1875,W=((N-C)*3-I+V)*.09375,b=((w-E)*3-_+D)*.09375,U=H*2+W,O=Y*2+b,P=(N-I)*.75+H+W*.16666667,G=(w-_)*.75+Y+b*.16666667,F+=Math.sqrt(P*P+G*G),P+=U,G+=O,U+=W,O+=b,F+=Math.sqrt(P*P+G*G),P+=U,G+=O,F+=Math.sqrt(P*P+G*G),P+=U+W,G+=O+b,F+=Math.sqrt(P*P+G*G),R[k]=F,I=V,_=D;if(n?h*=F:h*=F/a.lengths[d-1],i)for(var k=1;k<t;k++)f[k]*=F;for(var X=this.segments,J=0,k=0,S=0,T=0,Q=0;k<t;k++,S+=3){var x=f[k];h+=x;var M=h;if(l)M%=F,M<0&&(M+=F),T=0;else if(M<0){this.addBeforePosition(M,o,0,c,S);continue}else if(M>F){this.addAfterPosition(M-F,o,p-4,c,S);continue}for(;;T++){var nt=R[T];if(!(M>nt)){if(T==0)M/=nt;else{var L=R[T-1];M=(M-L)/(nt-L)}break}}if(T!=m){m=T;var K=T*6;for(I=o[K],_=o[K+1],N=o[K+2],w=o[K+3],C=o[K+4],E=o[K+5],V=o[K+6],D=o[K+7],H=(I-N*2+C)*.03,Y=(_-w*2+E)*.03,W=((N-C)*3-I+V)*.006,b=((w-E)*3-_+D)*.006,U=H*2+W,O=Y*2+b,P=(N-I)*.3+H+W*.16666667,G=(w-_)*.3+Y+b*.16666667,J=Math.sqrt(P*P+G*G),X[0]=J,K=1;K<8;K++)P+=U,G+=O,U+=W,O+=b,J+=Math.sqrt(P*P+G*G),X[K]=J;P+=U,G+=O,J+=Math.sqrt(P*P+G*G),X[8]=J,P+=U+W,G+=O+b,J+=Math.sqrt(P*P+G*G),X[9]=J,Q=0}for(M*=J;;Q++){var ht=X[Q];if(!(M>ht)){if(Q==0)M/=ht;else{var L=X[Q-1];M=Q+(M-L)/(ht-L)}break}}this.addCurvePosition(M*.1,I,_,N,w,C,E,V,D,c,S,r||k>0&&x==0)}return c},v.prototype.addBeforePosition=function(a,t,r,n,i){var u=t[r],h=t[r+1],f=t[r+2]-u,c=t[r+3]-h,o=Math.atan2(c,f);n[i]=u+a*Math.cos(o),n[i+1]=h+a*Math.sin(o),n[i+2]=o},v.prototype.addAfterPosition=function(a,t,r,n,i){var u=t[r+2],h=t[r+3],f=u-t[r],c=h-t[r+1],o=Math.atan2(c,f);n[i]=u+a*Math.cos(o),n[i+1]=h+a*Math.sin(o),n[i+2]=o},v.prototype.addCurvePosition=function(a,t,r,n,i,u,h,f,c,o,l,p){if(a==0||isNaN(a)){o[l]=t,o[l+1]=r,o[l+2]=Math.atan2(i-r,n-t);return}var d=a*a,m=d*a,g=1-a,y=g*g,k=y*g,S=g*a,T=S*3,x=g*T,M=T*a,A=t*k+n*x+u*M+f*m,L=r*k+i*x+h*M+c*m;o[l]=A,o[l+1]=L,p&&(a<.001?o[l+2]=Math.atan2(i-r,n-t):o[l+2]=Math.atan2(L-(r*y+i*S*2+h*d),A-(t*y+n*S*2+u*d)))},v.NONE=-1,v.BEFORE=-2,v.AFTER=-3,v.epsilon=1e-5,v}();s.PathConstraint=e})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t,0,!1)||this;return r.bones=new Array,r}return a}(s.ConstraintData);s.PathConstraintData=e,function(v){v[v.Fixed=0]="Fixed",v[v.Percent=1]="Percent"}(s.PositionMode||(s.PositionMode={})),function(v){v[v.Length=0]="Length",v[v.Fixed=1]="Fixed",v[v.Percent=2]="Percent"}(s.SpacingMode||(s.SpacingMode={})),function(v){v[v.Tangent=0]="Tangent",v[v.Chain=1]="Chain",v[v.ChainScale=2]="ChainScale"}(s.RotateMode||(s.RotateMode={}))})(B||(B={}));var B;(function(s){var e=function(){function a(t){this.toLoad=new Array,this.assets={},this.clientId=t}return a.prototype.loaded=function(){var t=0;for(var r in this.assets)t++;return t},a}(),v=function(){function a(t){t===void 0&&(t=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}return a.prototype.queueAsset=function(t,r,n){var i=this.clientAssets[t];return i==null&&(i=new e(t),this.clientAssets[t]=i),r!==null&&(i.textureLoader=r),i.toLoad.push(n),this.queuedAssets[n]===n?!1:(this.queuedAssets[n]=n,!0)},a.prototype.loadText=function(t,r){var n=this;if(r=this.pathPrefix+r,!!this.queueAsset(t,null,r)){var i=new XMLHttpRequest;i.overrideMimeType("text/html"),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&(i.status>=200&&i.status<300?n.rawAssets[r]=i.responseText:n.errors[r]="Couldn't load text ".concat(r,": status ").concat(i.status,", ").concat(i.responseText))},i.open("GET",r,!0),i.send()}},a.prototype.loadJson=function(t,r){var n=this;if(r=this.pathPrefix+r,!!this.queueAsset(t,null,r)){var i=new XMLHttpRequest;i.overrideMimeType("text/html"),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&(i.status>=200&&i.status<300?n.rawAssets[r]=JSON.parse(i.responseText):n.errors[r]="Couldn't load text ".concat(r,": status ").concat(i.status,", ").concat(i.responseText))},i.open("GET",r,!0),i.send()}},a.prototype.loadTexture=function(t,r,n){var i=this;if(n=this.pathPrefix+n,!!this.queueAsset(t,r,n)){var u=!!(typeof window<"u"&&typeof navigator<"u"&&window.document),h=!u&&typeof importScripts<"u";if(h){var f={mode:"cors"};fetch(n,f).then(function(o){return o.ok||(i.errors[n]="Couldn't load image "+n),o.blob()}).then(function(o){return createImageBitmap(o,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(o){i.rawAssets[n]=o})}else{var c=new Image;c.crossOrigin="anonymous",c.onload=function(o){i.rawAssets[n]=c},c.onerror=function(o){i.errors[n]="Couldn't load image ".concat(n)},c.src=n}}},a.prototype.get=function(t,r){r=this.pathPrefix+r;var n=this.clientAssets[t];return n==null?!0:n.assets[r]},a.prototype.updateClientAssets=function(t){for(var r=!!(typeof window<"u"&&typeof navigator<"u"&&window.document),n=!r&&typeof importScripts<"u",i=0;i<t.toLoad.length;i++){var u=t.toLoad[i],h=t.assets[u];if(h==null){var f=this.rawAssets[u];if(f==null)continue;n?f instanceof ImageBitmap?t.assets[u]=t.textureLoader(f):t.assets[u]=f:f instanceof HTMLImageElement?t.assets[u]=t.textureLoader(f):t.assets[u]=f}}},a.prototype.isLoadingComplete=function(t){var r=this.clientAssets[t];return r==null?!0:(this.updateClientAssets(r),r.toLoad.length==r.loaded())},a.prototype.dispose=function(){},a.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},a.prototype.getErrors=function(){return this.errors},a}();s.SharedAssetManager=v})(B||(B={}));var B;(function(s){var e=function(){function v(a){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,a==null)throw new Error("data cannot be null.");this.data=a,this.bones=new Array;for(var t=0;t<a.bones.length;t++){var r=a.bones[t],n=void 0;if(r.parent==null)n=new s.Bone(r,this,null);else{var i=this.bones[r.parent.index];n=new s.Bone(r,this,i),i.children.push(n)}this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(var t=0;t<a.slots.length;t++){var u=a.slots[t],n=this.bones[u.boneData.index],h=new s.Slot(u,n);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var t=0;t<a.ikConstraints.length;t++){var f=a.ikConstraints[t];this.ikConstraints.push(new s.IkConstraint(f,this))}this.transformConstraints=new Array;for(var t=0;t<a.transformConstraints.length;t++){var c=a.transformConstraints[t];this.transformConstraints.push(new s.TransformConstraint(c,this))}this.pathConstraints=new Array;for(var t=0;t<a.pathConstraints.length;t++){var o=a.pathConstraints[t];this.pathConstraints.push(new s.PathConstraint(o,this))}this.color=new s.Color(1,1,1,1),this.updateCache()}return v.prototype.updateCache=function(){var a=this._updateCache;a.length=0,this.updateCacheReset.length=0;for(var t=this.bones,r=0,n=t.length;r<n;r++){var i=t[r];i.sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin!=null)for(var u=this.skin.bones,r=0,n=this.skin.bones.length;r<n;r++){var i=this.bones[u[r].index];do i.sorted=!1,i.active=!0,i=i.parent;while(i!=null)}var h=this.ikConstraints,f=this.transformConstraints,c=this.pathConstraints,o=h.length,l=f.length,p=c.length,d=o+l+p;t:for(var r=0;r<d;r++){for(var m=0;m<o;m++){var g=h[m];if(g.data.order==r){this.sortIkConstraint(g);continue t}}for(var m=0;m<l;m++){var g=f[m];if(g.data.order==r){this.sortTransformConstraint(g);continue t}}for(var m=0;m<p;m++){var g=c[m];if(g.data.order==r){this.sortPathConstraint(g);continue t}}}for(var r=0,n=t.length;r<n;r++)this.sortBone(t[r])},v.prototype.sortIkConstraint=function(a){if(a.active=a.target.isActive()&&(!a.data.skinRequired||this.skin!=null&&s.Utils.contains(this.skin.constraints,a.data,!0)),!!a.active){var t=a.target;this.sortBone(t);var r=a.bones,n=r[0];if(this.sortBone(n),r.length>1){var i=r[r.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(a),this.sortReset(n.children),r[r.length-1].sorted=!0}},v.prototype.sortPathConstraint=function(a){if(a.active=a.target.bone.isActive()&&(!a.data.skinRequired||this.skin!=null&&s.Utils.contains(this.skin.constraints,a.data,!0)),!!a.active){var t=a.target,r=t.data.index,n=t.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,r,n),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var i=0,u=this.data.skins.length;i<u;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,n);var h=t.getAttachment();h instanceof s.PathAttachment&&this.sortPathConstraintAttachmentWith(h,n);for(var f=a.bones,c=f.length,i=0;i<c;i++)this.sortBone(f[i]);this._updateCache.push(a);for(var i=0;i<c;i++)this.sortReset(f[i].children);for(var i=0;i<c;i++)f[i].sorted=!0}},v.prototype.sortTransformConstraint=function(a){if(a.active=a.target.isActive()&&(!a.data.skinRequired||this.skin!=null&&s.Utils.contains(this.skin.constraints,a.data,!0)),!!a.active){this.sortBone(a.target);var t=a.bones,r=t.length;if(a.data.local)for(var n=0;n<r;n++){var i=t[n];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(var n=0;n<r;n++)this.sortBone(t[n]);this._updateCache.push(a);for(var u=0;u<r;u++)this.sortReset(t[u].children);for(var u=0;u<r;u++)t[u].sorted=!0}},v.prototype.sortPathConstraintAttachment=function(a,t,r){var n=a.attachments[t];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)},v.prototype.sortPathConstraintAttachmentWith=function(a,t){if(a instanceof s.PathAttachment){var r=a.bones;if(r==null)this.sortBone(t);else for(var n=this.bones,i=0;i<r.length;)for(var u=r[i++],h=i+u;i<h;i++){var f=r[i];this.sortBone(n[f])}}},v.prototype.sortBone=function(a){if(!a.sorted){var t=a.parent;t!=null&&this.sortBone(t),a.sorted=!0,this._updateCache.push(a)}},v.prototype.sortReset=function(a){for(var t=0,r=a.length;t<r;t++){var n=a[t];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}},v.prototype.updateWorldTransform=function(){for(var a=this.updateCacheReset,t=0,r=a.length;t<r;t++){var n=a[t];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}for(var i=this._updateCache,t=0,r=i.length;t<r;t++)i[t].update()},v.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},v.prototype.setBonesToSetupPose=function(){for(var a=this.bones,t=0,r=a.length;t<r;t++)a[t].setToSetupPose();for(var n=this.ikConstraints,t=0,r=n.length;t<r;t++){var i=n[t];i.mix=i.data.mix,i.softness=i.data.softness,i.bendDirection=i.data.bendDirection,i.compress=i.data.compress,i.stretch=i.data.stretch}for(var u=this.transformConstraints,t=0,r=u.length;t<r;t++){var i=u[t],h=i.data;i.rotateMix=h.rotateMix,i.translateMix=h.translateMix,i.scaleMix=h.scaleMix,i.shearMix=h.shearMix}for(var f=this.pathConstraints,t=0,r=f.length;t<r;t++){var i=f[t],h=i.data;i.position=h.position,i.spacing=h.spacing,i.rotateMix=h.rotateMix,i.translateMix=h.translateMix}},v.prototype.setSlotsToSetupPose=function(){var a=this.slots;s.Utils.arrayCopy(a,0,this.drawOrder,0,a.length);for(var t=0,r=a.length;t<r;t++)a[t].setToSetupPose()},v.prototype.getRootBone=function(){return this.bones.length==0?null:this.bones[0]},v.prototype.findBone=function(a){if(a==null)throw new Error("boneName cannot be null.");for(var t=this.bones,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},v.prototype.findBoneIndex=function(a){if(a==null)throw new Error("boneName cannot be null.");for(var t=this.bones,r=0,n=t.length;r<n;r++)if(t[r].data.name==a)return r;return-1},v.prototype.findSlot=function(a){if(a==null)throw new Error("slotName cannot be null.");for(var t=this.slots,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},v.prototype.findSlotIndex=function(a){if(a==null)throw new Error("slotName cannot be null.");for(var t=this.slots,r=0,n=t.length;r<n;r++)if(t[r].data.name==a)return r;return-1},v.prototype.setSkinByName=function(a){var t=this.data.findSkin(a);if(t==null)throw new Error("Skin not found: "+a);this.setSkin(t)},v.prototype.setSkin=function(a){if(a!=this.skin){if(a!=null)if(this.skin!=null)a.attachAll(this,this.skin);else for(var t=this.slots,r=0,n=t.length;r<n;r++){var i=t[r],u=i.data.attachmentName;if(u!=null){var h=a.getAttachment(r,u);h!=null&&i.setAttachment(h)}}this.skin=a,this.updateCache()}},v.prototype.getAttachmentByName=function(a,t){return this.getAttachment(this.data.findSlotIndex(a),t)},v.prototype.getAttachment=function(a,t){if(t==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){var r=this.skin.getAttachment(a,t);if(r!=null)return r}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(a,t):null},v.prototype.setAttachment=function(a,t){if(a==null)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var u=r[n];if(u.data.name==a){var h=null;if(t!=null&&(h=this.getAttachment(n,t),h==null))throw new Error("Attachment not found: "+t+", for slot: "+a);u.setAttachment(h);return}}throw new Error("Slot not found: "+a)},v.prototype.findIkConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},v.prototype.findTransformConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},v.prototype.findPathConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.data.name==a)return i}return null},v.prototype.getBounds=function(a,t,r){if(r===void 0&&(r=new Array(2)),a==null)throw new Error("offset cannot be null.");if(t==null)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY,c=0,o=n.length;c<o;c++){var l=n[c];if(l.bone.active){var p=0,d=null,m=l.getAttachment();if(m instanceof s.RegionAttachment)p=8,d=s.Utils.setArraySize(r,p,0),m.computeWorldVertices(l.bone,d,0,2);else if(m instanceof s.MeshAttachment){var g=m;p=g.worldVerticesLength,d=s.Utils.setArraySize(r,p,0),g.computeWorldVertices(l,0,p,d,0,2)}if(d!=null)for(var y=0,k=d.length;y<k;y+=2){var S=d[y],T=d[y+1];i=Math.min(i,S),u=Math.min(u,T),h=Math.max(h,S),f=Math.max(f,T)}}}a.set(i,u),t.set(h-i,f-u)},v.prototype.update=function(a){this.time+=a},v}();s.Skeleton=e})(B||(B={}));var B;(function(s){var e=function(){function r(n){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=n}return r.prototype.readSkeletonData=function(n){var i=this.scale,u=new s.SkeletonData;u.name="";var h=new v(n);if(u.hash=h.readString(),u.version=h.readString(),u.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");u.x=h.readFloat(),u.y=h.readFloat(),u.width=h.readFloat(),u.height=h.readFloat();var f=h.readBoolean();f&&(u.fps=h.readFloat(),u.imagesPath=h.readString(),u.audioPath=h.readString());var c=0;c=h.readInt(!0);for(var o=0;o<c;o++)h.strings.push(h.readString());c=h.readInt(!0);for(var o=0;o<c;o++){var l=h.readString(),p=o==0?null:u.bones[h.readInt(!0)],d=new s.BoneData(o,l,p);d.rotation=h.readFloat(),d.x=h.readFloat()*i,d.y=h.readFloat()*i,d.scaleX=h.readFloat(),d.scaleY=h.readFloat(),d.shearX=h.readFloat(),d.shearY=h.readFloat(),d.length=h.readFloat()*i,d.transformMode=r.TransformModeValues[h.readInt(!0)],d.skinRequired=h.readBoolean(),f&&s.Color.rgba8888ToColor(d.color,h.readInt32()),u.bones.push(d)}c=h.readInt(!0);for(var o=0;o<c;o++){var m=h.readString(),g=u.bones[h.readInt(!0)],d=new s.SlotData(o,m,g);s.Color.rgba8888ToColor(d.color,h.readInt32());var y=h.readInt32();y!=-1&&s.Color.rgb888ToColor(d.darkColor=new s.Color,y),d.attachmentName=h.readStringRef(),d.blendMode=r.BlendModeValues[h.readInt(!0)],u.slots.push(d)}c=h.readInt(!0);for(var o=0,k=void 0;o<c;o++){var d=new s.IkConstraintData(h.readString());d.order=h.readInt(!0),d.skinRequired=h.readBoolean(),k=h.readInt(!0);for(var S=0;S<k;S++)d.bones.push(u.bones[h.readInt(!0)]);d.target=u.bones[h.readInt(!0)],d.mix=h.readFloat(),d.softness=h.readFloat()*i,d.bendDirection=h.readByte(),d.compress=h.readBoolean(),d.stretch=h.readBoolean(),d.uniform=h.readBoolean(),u.ikConstraints.push(d)}c=h.readInt(!0);for(var o=0,k=void 0;o<c;o++){var d=new s.TransformConstraintData(h.readString());d.order=h.readInt(!0),d.skinRequired=h.readBoolean(),k=h.readInt(!0);for(var S=0;S<k;S++)d.bones.push(u.bones[h.readInt(!0)]);d.target=u.bones[h.readInt(!0)],d.local=h.readBoolean(),d.relative=h.readBoolean(),d.offsetRotation=h.readFloat(),d.offsetX=h.readFloat()*i,d.offsetY=h.readFloat()*i,d.offsetScaleX=h.readFloat(),d.offsetScaleY=h.readFloat(),d.offsetShearY=h.readFloat(),d.rotateMix=h.readFloat(),d.translateMix=h.readFloat(),d.scaleMix=h.readFloat(),d.shearMix=h.readFloat(),u.transformConstraints.push(d)}c=h.readInt(!0);for(var o=0,k=void 0;o<c;o++){var d=new s.PathConstraintData(h.readString());d.order=h.readInt(!0),d.skinRequired=h.readBoolean(),k=h.readInt(!0);for(var S=0;S<k;S++)d.bones.push(u.bones[h.readInt(!0)]);d.target=u.slots[h.readInt(!0)],d.positionMode=r.PositionModeValues[h.readInt(!0)],d.spacingMode=r.SpacingModeValues[h.readInt(!0)],d.rotateMode=r.RotateModeValues[h.readInt(!0)],d.offsetRotation=h.readFloat(),d.position=h.readFloat(),d.positionMode==s.PositionMode.Fixed&&(d.position*=i),d.spacing=h.readFloat(),(d.spacingMode==s.SpacingMode.Length||d.spacingMode==s.SpacingMode.Fixed)&&(d.spacing*=i),d.rotateMix=h.readFloat(),d.translateMix=h.readFloat(),u.pathConstraints.push(d)}var T=this.readSkin(h,u,!0,f);T!=null&&(u.defaultSkin=T,u.skins.push(T));{var o=u.skins.length;for(s.Utils.setArraySize(u.skins,c=o+h.readInt(!0));o<c;o++)u.skins[o]=this.readSkin(h,u,!1,f)}c=this.linkedMeshes.length;for(var o=0;o<c;o++){var x=this.linkedMeshes[o],M=x.skin==null?u.defaultSkin:u.findSkin(x.skin);if(M==null)throw new Error("Skin not found: "+x.skin);var A=M.getAttachment(x.slotIndex,x.parent);if(A==null)throw new Error("Parent mesh not found: "+x.parent);x.mesh.deformAttachment=x.inheritDeform?A:x.mesh,x.mesh.setParentMesh(A),x.mesh.updateUVs()}this.linkedMeshes.length=0,c=h.readInt(!0);for(var o=0;o<c;o++){var d=new s.EventData(h.readStringRef());d.intValue=h.readInt(!1),d.floatValue=h.readFloat(),d.stringValue=h.readString(),d.audioPath=h.readString(),d.audioPath!=null&&(d.volume=h.readFloat(),d.balance=h.readFloat()),u.events.push(d)}c=h.readInt(!0);for(var o=0;o<c;o++)u.animations.push(this.readAnimation(h,h.readString(),u));return u},r.prototype.readSkin=function(n,i,u,h){var f=null,c=0;if(u){if(c=n.readInt(!0),c==0)return null;f=new s.Skin("default")}else{f=new s.Skin(n.readStringRef()),f.bones.length=n.readInt(!0);for(var o=0,l=f.bones.length;o<l;o++)f.bones[o]=i.bones[n.readInt(!0)];for(var o=0,l=n.readInt(!0);o<l;o++)f.constraints.push(i.ikConstraints[n.readInt(!0)]);for(var o=0,l=n.readInt(!0);o<l;o++)f.constraints.push(i.transformConstraints[n.readInt(!0)]);for(var o=0,l=n.readInt(!0);o<l;o++)f.constraints.push(i.pathConstraints[n.readInt(!0)]);c=n.readInt(!0)}for(var o=0;o<c;o++)for(var p=n.readInt(!0),d=0,m=n.readInt(!0);d<m;d++){var g=n.readStringRef(),y=this.readAttachment(n,i,f,p,g,h);y!=null&&f.setAttachment(p,g,y)}return f},r.prototype.readAttachment=function(n,i,u,h,f,c){var o=this.scale,l=n.readStringRef();l==null&&(l=f);var p=n.readByte(),d=r.AttachmentTypeValues[p];switch(d){case s.AttachmentType.Region:{var m=n.readStringRef(),g=n.readFloat(),y=n.readFloat(),k=n.readFloat(),S=n.readFloat(),T=n.readFloat(),x=n.readFloat(),M=n.readFloat(),A=n.readInt32();m==null&&(m=l);var L=this.attachmentLoader.newRegionAttachment(u,l,m);return L==null?null:(L.path=m,L.x=y*o,L.y=k*o,L.scaleX=S,L.scaleY=T,L.rotation=g,L.width=x*o,L.height=M*o,s.Color.rgba8888ToColor(L.color,A),L.updateOffset(),L)}case s.AttachmentType.BoundingBox:{var R=n.readInt(!0),F=this.readVertices(n,R),A=c?n.readInt32():0,I=this.attachmentLoader.newBoundingBoxAttachment(u,l);return I==null?null:(I.worldVerticesLength=R<<1,I.vertices=F.vertices,I.bones=F.bones,c&&s.Color.rgba8888ToColor(I.color,A),I)}case s.AttachmentType.Mesh:{var m=n.readStringRef(),A=n.readInt32(),R=n.readInt(!0),_=this.readFloatArray(n,R<<1,1),N=this.readShortArray(n),F=this.readVertices(n,R),w=n.readInt(!0),C=null,x=0,M=0;c&&(C=this.readShortArray(n),x=n.readFloat(),M=n.readFloat()),m==null&&(m=l);var E=this.attachmentLoader.newMeshAttachment(u,l,m);return E==null?null:(E.path=m,s.Color.rgba8888ToColor(E.color,A),E.bones=F.bones,E.vertices=F.vertices,E.worldVerticesLength=R<<1,E.triangles=N,E.regionUVs=_,E.updateUVs(),E.hullLength=w<<1,c&&(E.edges=C,E.width=x*o,E.height=M*o),E)}case s.AttachmentType.LinkedMesh:{var m=n.readStringRef(),A=n.readInt32(),V=n.readStringRef(),D=n.readStringRef(),H=n.readBoolean(),x=0,M=0;c&&(x=n.readFloat(),M=n.readFloat()),m==null&&(m=l);var E=this.attachmentLoader.newMeshAttachment(u,l,m);return E==null?null:(E.path=m,s.Color.rgba8888ToColor(E.color,A),c&&(E.width=x*o,E.height=M*o),this.linkedMeshes.push(new a(E,V,h,D,H)),E)}case s.AttachmentType.Path:{for(var Y=n.readBoolean(),W=n.readBoolean(),R=n.readInt(!0),F=this.readVertices(n,R),b=s.Utils.newArray(R/3,0),U=0,O=b.length;U<O;U++)b[U]=n.readFloat()*o;var A=c?n.readInt32():0,m=this.attachmentLoader.newPathAttachment(u,l);return m==null?null:(m.closed=Y,m.constantSpeed=W,m.worldVerticesLength=R<<1,m.vertices=F.vertices,m.bones=F.bones,m.lengths=b,c&&s.Color.rgba8888ToColor(m.color,A),m)}case s.AttachmentType.Point:{var g=n.readFloat(),y=n.readFloat(),k=n.readFloat(),A=c?n.readInt32():0,P=this.attachmentLoader.newPointAttachment(u,l);return P==null?null:(P.x=y*o,P.y=k*o,P.rotation=g,c&&s.Color.rgba8888ToColor(P.color,A),P)}case s.AttachmentType.Clipping:{var G=n.readInt(!0),R=n.readInt(!0),F=this.readVertices(n,R),A=c?n.readInt32():0,z=this.attachmentLoader.newClippingAttachment(u,l);return z==null?null:(z.endSlot=i.slots[G],z.worldVerticesLength=R<<1,z.vertices=F.vertices,z.bones=F.bones,c&&s.Color.rgba8888ToColor(z.color,A),z)}}return null},r.prototype.readVertices=function(n,i){var u=i<<1,h=new t,f=this.scale;if(!n.readBoolean())return h.vertices=this.readFloatArray(n,u,f),h;for(var c=new Array,o=new Array,l=0;l<i;l++){var p=n.readInt(!0);o.push(p);for(var d=0;d<p;d++)o.push(n.readInt(!0)),c.push(n.readFloat()*f),c.push(n.readFloat()*f),c.push(n.readFloat())}return h.vertices=s.Utils.toFloatArray(c),h.bones=o,h},r.prototype.readFloatArray=function(n,i,u){var h=new Array(i);if(u==1)for(var f=0;f<i;f++)h[f]=n.readFloat();else for(var f=0;f<i;f++)h[f]=n.readFloat()*u;return h},r.prototype.readShortArray=function(n){for(var i=n.readInt(!0),u=new Array(i),h=0;h<i;h++)u[h]=n.readShort();return u},r.prototype.readAnimation=function(n,i,u){for(var h=new Array,f=this.scale,c=0,o=new s.Color,l=new s.Color,p=0,d=n.readInt(!0);p<d;p++)for(var m=n.readInt(!0),g=0,y=n.readInt(!0);g<y;g++){var k=n.readByte(),S=n.readInt(!0);switch(k){case r.SLOT_ATTACHMENT:{var T=new s.AttachmentTimeline(S);T.slotIndex=m;for(var x=0;x<S;x++)T.setFrame(x,n.readFloat(),n.readStringRef());h.push(T),c=Math.max(c,T.frames[S-1]);break}case r.SLOT_COLOR:{var T=new s.ColorTimeline(S);T.slotIndex=m;for(var x=0;x<S;x++){var M=n.readFloat();s.Color.rgba8888ToColor(o,n.readInt32()),T.setFrame(x,M,o.r,o.g,o.b,o.a),x<S-1&&this.readCurve(n,x,T)}h.push(T),c=Math.max(c,T.frames[(S-1)*s.ColorTimeline.ENTRIES]);break}case r.SLOT_TWO_COLOR:{var T=new s.TwoColorTimeline(S);T.slotIndex=m;for(var x=0;x<S;x++){var M=n.readFloat();s.Color.rgba8888ToColor(o,n.readInt32()),s.Color.rgb888ToColor(l,n.readInt32()),T.setFrame(x,M,o.r,o.g,o.b,o.a,l.r,l.g,l.b),x<S-1&&this.readCurve(n,x,T)}h.push(T),c=Math.max(c,T.frames[(S-1)*s.TwoColorTimeline.ENTRIES]);break}}}for(var p=0,d=n.readInt(!0);p<d;p++)for(var A=n.readInt(!0),g=0,y=n.readInt(!0);g<y;g++){var k=n.readByte(),S=n.readInt(!0);switch(k){case r.BONE_ROTATE:{var T=new s.RotateTimeline(S);T.boneIndex=A;for(var x=0;x<S;x++)T.setFrame(x,n.readFloat(),n.readFloat()),x<S-1&&this.readCurve(n,x,T);h.push(T),c=Math.max(c,T.frames[(S-1)*s.RotateTimeline.ENTRIES]);break}case r.BONE_TRANSLATE:case r.BONE_SCALE:case r.BONE_SHEAR:{var T=void 0,L=1;k==r.BONE_SCALE?T=new s.ScaleTimeline(S):k==r.BONE_SHEAR?T=new s.ShearTimeline(S):(T=new s.TranslateTimeline(S),L=f),T.boneIndex=A;for(var x=0;x<S;x++)T.setFrame(x,n.readFloat(),n.readFloat()*L,n.readFloat()*L),x<S-1&&this.readCurve(n,x,T);h.push(T),c=Math.max(c,T.frames[(S-1)*s.TranslateTimeline.ENTRIES]);break}}}for(var p=0,d=n.readInt(!0);p<d;p++){var R=n.readInt(!0),S=n.readInt(!0),T=new s.IkConstraintTimeline(S);T.ikConstraintIndex=R;for(var x=0;x<S;x++)T.setFrame(x,n.readFloat(),n.readFloat(),n.readFloat()*f,n.readByte(),n.readBoolean(),n.readBoolean()),x<S-1&&this.readCurve(n,x,T);h.push(T),c=Math.max(c,T.frames[(S-1)*s.IkConstraintTimeline.ENTRIES])}for(var p=0,d=n.readInt(!0);p<d;p++){var R=n.readInt(!0),S=n.readInt(!0),T=new s.TransformConstraintTimeline(S);T.transformConstraintIndex=R;for(var x=0;x<S;x++)T.setFrame(x,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat()),x<S-1&&this.readCurve(n,x,T);h.push(T),c=Math.max(c,T.frames[(S-1)*s.TransformConstraintTimeline.ENTRIES])}for(var p=0,d=n.readInt(!0);p<d;p++)for(var R=n.readInt(!0),F=u.pathConstraints[R],g=0,y=n.readInt(!0);g<y;g++){var k=n.readByte(),S=n.readInt(!0);switch(k){case r.PATH_POSITION:case r.PATH_SPACING:{var T=void 0,L=1;k==r.PATH_SPACING?(T=new s.PathConstraintSpacingTimeline(S),(F.spacingMode==s.SpacingMode.Length||F.spacingMode==s.SpacingMode.Fixed)&&(L=f)):(T=new s.PathConstraintPositionTimeline(S),F.positionMode==s.PositionMode.Fixed&&(L=f)),T.pathConstraintIndex=R;for(var x=0;x<S;x++)T.setFrame(x,n.readFloat(),n.readFloat()*L),x<S-1&&this.readCurve(n,x,T);h.push(T),c=Math.max(c,T.frames[(S-1)*s.PathConstraintPositionTimeline.ENTRIES]);break}case r.PATH_MIX:{var T=new s.PathConstraintMixTimeline(S);T.pathConstraintIndex=R;for(var x=0;x<S;x++)T.setFrame(x,n.readFloat(),n.readFloat(),n.readFloat()),x<S-1&&this.readCurve(n,x,T);h.push(T),c=Math.max(c,T.frames[(S-1)*s.PathConstraintMixTimeline.ENTRIES]);break}}}for(var p=0,d=n.readInt(!0);p<d;p++)for(var I=u.skins[n.readInt(!0)],g=0,y=n.readInt(!0);g<y;g++)for(var m=n.readInt(!0),_=0,N=n.readInt(!0);_<N;_++){var w=I.getAttachment(m,n.readStringRef()),C=w.bones!=null,E=w.vertices,V=C?E.length/3*2:E.length,S=n.readInt(!0),T=new s.DeformTimeline(S);T.slotIndex=m,T.attachment=w;for(var x=0;x<S;x++){var M=n.readFloat(),D=void 0,H=n.readInt(!0);if(H==0)D=C?s.Utils.newFloatArray(V):E;else{D=s.Utils.newFloatArray(V);var Y=n.readInt(!0);if(H+=Y,f==1)for(var W=Y;W<H;W++)D[W]=n.readFloat();else for(var W=Y;W<H;W++)D[W]=n.readFloat()*f;if(!C)for(var W=0,b=D.length;W<b;W++)D[W]+=E[W]}T.setFrame(x,M,D),x<S-1&&this.readCurve(n,x,T)}h.push(T),c=Math.max(c,T.frames[S-1])}var U=n.readInt(!0);if(U>0){for(var T=new s.DrawOrderTimeline(U),O=u.slots.length,p=0;p<U;p++){for(var M=n.readFloat(),P=n.readInt(!0),G=s.Utils.newArray(O,0),g=O-1;g>=0;g--)G[g]=-1;for(var z=s.Utils.newArray(O-P,0),X=0,J=0,g=0;g<P;g++){for(var m=n.readInt(!0);X!=m;)z[J++]=X++;G[X+n.readInt(!0)]=X++}for(;X<O;)z[J++]=X++;for(var g=O-1;g>=0;g--)G[g]==-1&&(G[g]=z[--J]);T.setFrame(p,M,G)}h.push(T),c=Math.max(c,T.frames[U-1])}var Q=n.readInt(!0);if(Q>0){for(var T=new s.EventTimeline(Q),p=0;p<Q;p++){var M=n.readFloat(),nt=u.events[n.readInt(!0)],K=new s.Event(M,nt);K.intValue=n.readInt(!1),K.floatValue=n.readFloat(),K.stringValue=n.readBoolean()?n.readString():nt.stringValue,K.data.audioPath!=null&&(K.volume=n.readFloat(),K.balance=n.readFloat()),T.setFrame(p,K)}h.push(T),c=Math.max(c,T.frames[Q-1])}return new s.Animation(i,h,c)},r.prototype.readCurve=function(n,i,u){switch(n.readByte()){case r.CURVE_STEPPED:u.setStepped(i);break;case r.CURVE_BEZIER:this.setCurve(u,i,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat());break}},r.prototype.setCurve=function(n,i,u,h,f,c){n.setCurve(i,u,h,f,c)},r.AttachmentTypeValues=[0,1,2,3,4,5,6],r.TransformModeValues=[s.TransformMode.Normal,s.TransformMode.OnlyTranslation,s.TransformMode.NoRotationOrReflection,s.TransformMode.NoScale,s.TransformMode.NoScaleOrReflection],r.PositionModeValues=[s.PositionMode.Fixed,s.PositionMode.Percent],r.SpacingModeValues=[s.SpacingMode.Length,s.SpacingMode.Fixed,s.SpacingMode.Percent],r.RotateModeValues=[s.RotateMode.Tangent,s.RotateMode.Chain,s.RotateMode.ChainScale],r.BlendModeValues=[s.BlendMode.Normal,s.BlendMode.Additive,s.BlendMode.Multiply,s.BlendMode.Screen],r.BONE_ROTATE=0,r.BONE_TRANSLATE=1,r.BONE_SCALE=2,r.BONE_SHEAR=3,r.SLOT_ATTACHMENT=0,r.SLOT_COLOR=1,r.SLOT_TWO_COLOR=2,r.PATH_POSITION=0,r.PATH_SPACING=1,r.PATH_MIX=2,r.CURVE_LINEAR=0,r.CURVE_STEPPED=1,r.CURVE_BEZIER=2,r}();s.SkeletonBinary=e;var v=function(){function r(n,i,u,h){i===void 0&&(i=new Array),u===void 0&&(u=0),h===void 0&&(h=new DataView(n.buffer)),this.strings=i,this.index=u,this.buffer=h}return r.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},r.prototype.readShort=function(){var n=this.buffer.getInt16(this.index);return this.index+=2,n},r.prototype.readInt32=function(){var n=this.buffer.getInt32(this.index);return this.index+=4,n},r.prototype.readInt=function(n){var i=this.readByte(),u=i&127;return i&128&&(i=this.readByte(),u|=(i&127)<<7,i&128&&(i=this.readByte(),u|=(i&127)<<14,i&128&&(i=this.readByte(),u|=(i&127)<<21,i&128&&(i=this.readByte(),u|=(i&127)<<28)))),n?u:u>>>1^-(u&1)},r.prototype.readStringRef=function(){var n=this.readInt(!0);return n==0?null:this.strings[n-1]},r.prototype.readString=function(){var n=this.readInt(!0);switch(n){case 0:return null;case 1:return""}n--;for(var i="",u=0;u<n;){var h=this.readByte();switch(h>>4){case 12:case 13:i+=String.fromCharCode((h&31)<<6|this.readByte()&63),u+=2;break;case 14:i+=String.fromCharCode((h&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),u+=3;break;default:i+=String.fromCharCode(h),u++}}return i},r.prototype.readFloat=function(){var n=this.buffer.getFloat32(this.index);return this.index+=4,n},r.prototype.readBoolean=function(){return this.readByte()!=0},r}(),a=function(){function r(n,i,u,h,f){this.mesh=n,this.skin=i,this.slotIndex=u,this.parent=h,this.inheritDeform=f}return r}(),t=function(){function r(n,i){n===void 0&&(n=null),i===void 0&&(i=null),this.bones=n,this.vertices=i}return r}()})(B||(B={}));var B;(function(s){var e=function(){function v(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new s.Pool(function(){return s.Utils.newFloatArray(16)})}return v.prototype.update=function(a,t){if(a==null)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,i=this.polygonPool,u=a.slots,h=u.length;r.length=0,i.freeAll(n),n.length=0;for(var f=0;f<h;f++){var c=u[f];if(c.bone.active){var o=c.getAttachment();if(o instanceof s.BoundingBoxAttachment){var l=o;r.push(l);var p=i.obtain();p.length!=l.worldVerticesLength&&(p=s.Utils.newFloatArray(l.worldVerticesLength)),n.push(p),l.computeWorldVertices(c,0,l.worldVerticesLength,p,0,2)}}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},v.prototype.aabbCompute=function(){for(var a=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,u=0,h=i.length;u<h;u++)for(var f=i[u],c=f,o=0,l=f.length;o<l;o+=2){var p=c[o],d=c[o+1];a=Math.min(a,p),t=Math.min(t,d),r=Math.max(r,p),n=Math.max(n,d)}this.minX=a,this.minY=t,this.maxX=r,this.maxY=n},v.prototype.aabbContainsPoint=function(a,t){return a>=this.minX&&a<=this.maxX&&t>=this.minY&&t<=this.maxY},v.prototype.aabbIntersectsSegment=function(a,t,r,n){var i=this.minX,u=this.minY,h=this.maxX,f=this.maxY;if(a<=i&&r<=i||t<=u&&n<=u||a>=h&&r>=h||t>=f&&n>=f)return!1;var c=(n-t)/(r-a),o=c*(i-a)+t;if(o>u&&o<f||(o=c*(h-a)+t,o>u&&o<f))return!0;var l=(u-t)/c+a;return l>i&&l<h||(l=(f-t)/c+a,l>i&&l<h)},v.prototype.aabbIntersectsSkeleton=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},v.prototype.containsPoint=function(a,t){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],a,t))return this.boundingBoxes[n];return null},v.prototype.containsPointPolygon=function(a,t,r){for(var n=a,i=a.length,u=i-2,h=!1,f=0;f<i;f+=2){var c=n[f+1],o=n[u+1];if(c<r&&o>=r||o<r&&c>=r){var l=n[f];l+(r-c)/(o-c)*(n[u]-l)<t&&(h=!h)}u=f}return h},v.prototype.intersectsSegment=function(a,t,r,n){for(var i=this.polygons,u=0,h=i.length;u<h;u++)if(this.intersectsSegmentPolygon(i[u],a,t,r,n))return this.boundingBoxes[u];return null},v.prototype.intersectsSegmentPolygon=function(a,t,r,n,i){for(var u=a,h=a.length,f=t-n,c=r-i,o=t*i-r*n,l=u[h-2],p=u[h-1],d=0;d<h;d+=2){var m=u[d],g=u[d+1],y=l*g-p*m,k=l-m,S=p-g,T=f*S-c*k,x=(o*k-f*y)/T;if((x>=l&&x<=m||x>=m&&x<=l)&&(x>=t&&x<=n||x>=n&&x<=t)){var M=(o*S-c*y)/T;if((M>=p&&M<=g||M>=g&&M<=p)&&(M>=r&&M<=i||M>=i&&M<=r))return!0}l=m,p=g}return!1},v.prototype.getPolygon=function(a){if(a==null)throw new Error("boundingBox cannot be null.");var t=this.boundingBoxes.indexOf(a);return t==-1?null:this.polygons[t]},v.prototype.getWidth=function(){return this.maxX-this.minX},v.prototype.getHeight=function(){return this.maxY-this.minY},v}();s.SkeletonBounds=e})(B||(B={}));var B;(function(s){var e=function(){function v(){this.triangulator=new s.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return v.prototype.clipStart=function(a,t){if(this.clipAttachment!=null)return 0;this.clipAttachment=t;var r=t.worldVerticesLength,n=s.Utils.setArraySize(this.clippingPolygon,r);t.computeWorldVertices(a,0,r,n,0,2);var i=this.clippingPolygon;v.makeClockwise(i);for(var u=this.clippingPolygons=this.triangulator.decompose(i,this.triangulator.triangulate(i)),h=0,f=u.length;h<f;h++){var c=u[h];v.makeClockwise(c),c.push(c[0]),c.push(c[1])}return u.length},v.prototype.clipEndWithSlot=function(a){this.clipAttachment!=null&&this.clipAttachment.endSlot==a.data&&this.clipEnd()},v.prototype.clipEnd=function(){this.clipAttachment!=null&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},v.prototype.isClipping=function(){return this.clipAttachment!=null},v.prototype.clipTriangles=function(a,t,r,n,i,u,h,f){var c=this.clipOutput,o=this.clippedVertices,l=this.clippedTriangles,p=this.clippingPolygons,d=this.clippingPolygons.length,m=f?12:8,g=0;o.length=0,l.length=0;t:for(var y=0;y<n;y+=3){var k=r[y]<<1,S=a[k],T=a[k+1],x=i[k],M=i[k+1];k=r[y+1]<<1;var A=a[k],L=a[k+1],R=i[k],F=i[k+1];k=r[y+2]<<1;for(var I=a[k],_=a[k+1],N=i[k],w=i[k+1],C=0;C<d;C++){var E=o.length;if(this.clip(S,T,A,L,I,_,p[C],c)){var V=c.length;if(V==0)continue;for(var D=L-_,H=I-A,Y=S-I,W=_-T,b=1/(D*Y+H*(T-_)),U=V>>1,O=this.clipOutput,P=s.Utils.setArraySize(o,E+U*m),G=0;G<V;G+=2){var z=O[G],X=O[G+1];P[E]=z,P[E+1]=X,P[E+2]=u.r,P[E+3]=u.g,P[E+4]=u.b,P[E+5]=u.a;var J=z-I,Q=X-_,nt=(D*J+H*Q)*b,K=(W*J+Y*Q)*b,ht=1-nt-K;P[E+6]=x*nt+R*K+N*ht,P[E+7]=M*nt+F*K+w*ht,f&&(P[E+8]=h.r,P[E+9]=h.g,P[E+10]=h.b,P[E+11]=h.a),E+=m}E=l.length;var ot=s.Utils.setArraySize(l,E+3*(U-2));U--;for(var G=1;G<U;G++)ot[E]=g,ot[E+1]=g+G,ot[E+2]=g+G+1,E+=3;g+=U+1}else{var P=s.Utils.setArraySize(o,E+3*m);P[E]=S,P[E+1]=T,P[E+2]=u.r,P[E+3]=u.g,P[E+4]=u.b,P[E+5]=u.a,f?(P[E+6]=x,P[E+7]=M,P[E+8]=h.r,P[E+9]=h.g,P[E+10]=h.b,P[E+11]=h.a,P[E+12]=A,P[E+13]=L,P[E+14]=u.r,P[E+15]=u.g,P[E+16]=u.b,P[E+17]=u.a,P[E+18]=R,P[E+19]=F,P[E+20]=h.r,P[E+21]=h.g,P[E+22]=h.b,P[E+23]=h.a,P[E+24]=I,P[E+25]=_,P[E+26]=u.r,P[E+27]=u.g,P[E+28]=u.b,P[E+29]=u.a,P[E+30]=N,P[E+31]=w,P[E+32]=h.r,P[E+33]=h.g,P[E+34]=h.b,P[E+35]=h.a):(P[E+6]=x,P[E+7]=M,P[E+8]=A,P[E+9]=L,P[E+10]=u.r,P[E+11]=u.g,P[E+12]=u.b,P[E+13]=u.a,P[E+14]=R,P[E+15]=F,P[E+16]=I,P[E+17]=_,P[E+18]=u.r,P[E+19]=u.g,P[E+20]=u.b,P[E+21]=u.a,P[E+22]=N,P[E+23]=w),E=l.length;var ot=s.Utils.setArraySize(l,E+3);ot[E]=g,ot[E+1]=g+1,ot[E+2]=g+2,g+=3;continue t}}}},v.prototype.clip=function(a,t,r,n,i,u,h,f){var c=f,o=!1,l=null;h.length%4>=2?(l=f,f=this.scratch):l=this.scratch,l.length=0,l.push(a),l.push(t),l.push(r),l.push(n),l.push(i),l.push(u),l.push(a),l.push(t),f.length=0;for(var p=h,d=h.length-4,m=0;;m+=2){for(var g=p[m],y=p[m+1],k=p[m+2],S=p[m+3],T=g-k,x=y-S,M=l,A=l.length-2,L=f.length,R=0;R<A;R+=2){var F=M[R],I=M[R+1],_=M[R+2],N=M[R+3],w=T*(N-S)-x*(_-k)>0;if(T*(I-S)-x*(F-k)>0){if(w){f.push(_),f.push(N);continue}var C=N-I,E=_-F,V=C*(k-g)-E*(S-y);if(Math.abs(V)>1e-6){var D=(E*(y-I)-C*(g-F))/V;f.push(g+(k-g)*D),f.push(y+(S-y)*D)}else f.push(g),f.push(y)}else if(w){var C=N-I,E=_-F,V=C*(k-g)-E*(S-y);if(Math.abs(V)>1e-6){var D=(E*(y-I)-C*(g-F))/V;f.push(g+(k-g)*D),f.push(y+(S-y)*D)}else f.push(g),f.push(y);f.push(_),f.push(N)}o=!0}if(L==f.length)return c.length=0,!0;if(f.push(f[0]),f.push(f[1]),m==d)break;var H=f;f=l,f.length=0,l=H}if(c!=f){c.length=0;for(var m=0,Y=f.length-2;m<Y;m++)c[m]=f[m]}else c.length=c.length-2;return o},v.makeClockwise=function(a){for(var t=a,r=a.length,n=t[r-2]*t[1]-t[0]*t[r-1],i=0,u=0,h=0,f=0,c=0,o=r-3;c<o;c+=2)i=t[c],u=t[c+1],h=t[c+2],f=t[c+3],n+=i*f-h*u;if(!(n<0))for(var c=0,l=r-2,o=r>>1;c<o;c+=2){var p=t[c],d=t[c+1],m=l-c;t[c]=t[m],t[c+1]=t[m+1],t[m]=p,t[m+1]=d}},v}();s.SkeletonClipping=e})(B||(B={}));var B;(function(s){var e=function(){function v(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return v.prototype.findBone=function(a){if(a==null)throw new Error("boneName cannot be null.");for(var t=this.bones,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},v.prototype.findBoneIndex=function(a){if(a==null)throw new Error("boneName cannot be null.");for(var t=this.bones,r=0,n=t.length;r<n;r++)if(t[r].name==a)return r;return-1},v.prototype.findSlot=function(a){if(a==null)throw new Error("slotName cannot be null.");for(var t=this.slots,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},v.prototype.findSlotIndex=function(a){if(a==null)throw new Error("slotName cannot be null.");for(var t=this.slots,r=0,n=t.length;r<n;r++)if(t[r].name==a)return r;return-1},v.prototype.findSkin=function(a){if(a==null)throw new Error("skinName cannot be null.");for(var t=this.skins,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},v.prototype.findEvent=function(a){if(a==null)throw new Error("eventDataName cannot be null.");for(var t=this.events,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},v.prototype.findAnimation=function(a){if(a==null)throw new Error("animationName cannot be null.");for(var t=this.animations,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},v.prototype.findIkConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},v.prototype.findTransformConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},v.prototype.findPathConstraint=function(a){if(a==null)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,r=0,n=t.length;r<n;r++){var i=t[r];if(i.name==a)return i}return null},v.prototype.findPathConstraintIndex=function(a){if(a==null)throw new Error("pathConstraintName cannot be null.");for(var t=this.pathConstraints,r=0,n=t.length;r<n;r++)if(t[r].name==a)return r;return-1},v}();s.SkeletonData=e})(B||(B={}));var B;(function(s){var e=function(){function a(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return a.prototype.readSkeletonData=function(t){var r=this.scale,n=new s.SkeletonData,i=typeof t=="string"?JSON.parse(t):t,u=i.skeleton;if(u!=null){if(n.hash=u.hash,n.version=u.spine,n.version=="3.8.75")throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");n.x=u.x,n.y=u.y,n.width=u.width,n.height=u.height,n.fps=u.fps,n.imagesPath=u.images}if(i.bones)for(var h=0;h<i.bones.length;h++){var f=i.bones[h],c=null,o=this.getValue(f,"parent",null);if(o!=null&&(c=n.findBone(o),c==null))throw new Error("Parent bone not found: "+o);var l=new s.BoneData(n.bones.length,f.name,c);l.length=this.getValue(f,"length",0)*r,l.x=this.getValue(f,"x",0)*r,l.y=this.getValue(f,"y",0)*r,l.rotation=this.getValue(f,"rotation",0),l.scaleX=this.getValue(f,"scaleX",1),l.scaleY=this.getValue(f,"scaleY",1),l.shearX=this.getValue(f,"shearX",0),l.shearY=this.getValue(f,"shearY",0),l.transformMode=a.transformModeFromString(this.getValue(f,"transform","normal")),l.skinRequired=this.getValue(f,"skin",!1),n.bones.push(l)}if(i.slots)for(var h=0;h<i.slots.length;h++){var p=i.slots[h],d=p.name,m=p.bone,g=n.findBone(m);if(g==null)throw new Error("Slot bone not found: "+m);var l=new s.SlotData(n.slots.length,d,g),y=this.getValue(p,"color",null);y!=null&&l.color.setFromString(y);var k=this.getValue(p,"dark",null);k!=null&&(l.darkColor=new s.Color(1,1,1,1),l.darkColor.setFromString(k)),l.attachmentName=this.getValue(p,"attachment",null),l.blendMode=a.blendModeFromString(this.getValue(p,"blend","normal")),n.slots.push(l)}if(i.ik)for(var h=0;h<i.ik.length;h++){var S=i.ik[h],l=new s.IkConstraintData(S.name);l.order=this.getValue(S,"order",0),l.skinRequired=this.getValue(S,"skin",!1);for(var T=0;T<S.bones.length;T++){var m=S.bones[T],x=n.findBone(m);if(x==null)throw new Error("IK bone not found: "+m);l.bones.push(x)}var M=S.target;if(l.target=n.findBone(M),l.target==null)throw new Error("IK target bone not found: "+M);l.mix=this.getValue(S,"mix",1),l.softness=this.getValue(S,"softness",0)*r,l.bendDirection=this.getValue(S,"bendPositive",!0)?1:-1,l.compress=this.getValue(S,"compress",!1),l.stretch=this.getValue(S,"stretch",!1),l.uniform=this.getValue(S,"uniform",!1),n.ikConstraints.push(l)}if(i.transform)for(var h=0;h<i.transform.length;h++){var S=i.transform[h],l=new s.TransformConstraintData(S.name);l.order=this.getValue(S,"order",0),l.skinRequired=this.getValue(S,"skin",!1);for(var T=0;T<S.bones.length;T++){var m=S.bones[T],x=n.findBone(m);if(x==null)throw new Error("Transform constraint bone not found: "+m);l.bones.push(x)}var M=S.target;if(l.target=n.findBone(M),l.target==null)throw new Error("Transform constraint target bone not found: "+M);l.local=this.getValue(S,"local",!1),l.relative=this.getValue(S,"relative",!1),l.offsetRotation=this.getValue(S,"rotation",0),l.offsetX=this.getValue(S,"x",0)*r,l.offsetY=this.getValue(S,"y",0)*r,l.offsetScaleX=this.getValue(S,"scaleX",0),l.offsetScaleY=this.getValue(S,"scaleY",0),l.offsetShearY=this.getValue(S,"shearY",0),l.rotateMix=this.getValue(S,"rotateMix",1),l.translateMix=this.getValue(S,"translateMix",1),l.scaleMix=this.getValue(S,"scaleMix",1),l.shearMix=this.getValue(S,"shearMix",1),n.transformConstraints.push(l)}if(i.path)for(var h=0;h<i.path.length;h++){var S=i.path[h],l=new s.PathConstraintData(S.name);l.order=this.getValue(S,"order",0),l.skinRequired=this.getValue(S,"skin",!1);for(var T=0;T<S.bones.length;T++){var m=S.bones[T],x=n.findBone(m);if(x==null)throw new Error("Transform constraint bone not found: "+m);l.bones.push(x)}var M=S.target;if(l.target=n.findSlot(M),l.target==null)throw new Error("Path target slot not found: "+M);l.positionMode=a.positionModeFromString(this.getValue(S,"positionMode","percent")),l.spacingMode=a.spacingModeFromString(this.getValue(S,"spacingMode","length")),l.rotateMode=a.rotateModeFromString(this.getValue(S,"rotateMode","tangent")),l.offsetRotation=this.getValue(S,"rotation",0),l.position=this.getValue(S,"position",0),l.positionMode==s.PositionMode.Fixed&&(l.position*=r),l.spacing=this.getValue(S,"spacing",0),(l.spacingMode==s.SpacingMode.Length||l.spacingMode==s.SpacingMode.Fixed)&&(l.spacing*=r),l.rotateMix=this.getValue(S,"rotateMix",1),l.translateMix=this.getValue(S,"translateMix",1),n.pathConstraints.push(l)}if(i.skins)for(var h=0;h<i.skins.length;h++){var A=i.skins[h],L=new s.Skin(A.name);if(A.bones)for(var R=0;R<A.bones.length;R++){var x=n.findBone(A.bones[R]);if(x==null)throw new Error("Skin bone not found: "+A.bones[h]);L.bones.push(x)}if(A.ik)for(var R=0;R<A.ik.length;R++){var F=n.findIkConstraint(A.ik[R]);if(F==null)throw new Error("Skin IK constraint not found: "+A.ik[h]);L.constraints.push(F)}if(A.transform)for(var R=0;R<A.transform.length;R++){var F=n.findTransformConstraint(A.transform[R]);if(F==null)throw new Error("Skin transform constraint not found: "+A.transform[h]);L.constraints.push(F)}if(A.path)for(var R=0;R<A.path.length;R++){var F=n.findPathConstraint(A.path[R]);if(F==null)throw new Error("Skin path constraint not found: "+A.path[h]);L.constraints.push(F)}for(var d in A.attachments){var I=n.findSlot(d);if(I==null)throw new Error("Slot not found: "+d);var p=A.attachments[d];for(var _ in p){var N=this.readAttachment(p[_],L,I.index,_,n);N!=null&&L.setAttachment(I.index,_,N)}}n.skins.push(L),L.name=="default"&&(n.defaultSkin=L)}for(var h=0,w=this.linkedMeshes.length;h<w;h++){var C=this.linkedMeshes[h],L=C.skin==null?n.defaultSkin:n.findSkin(C.skin);if(L==null)throw new Error("Skin not found: "+C.skin);var E=L.getAttachment(C.slotIndex,C.parent);if(E==null)throw new Error("Parent mesh not found: "+C.parent);C.mesh.deformAttachment=C.inheritDeform?E:C.mesh,C.mesh.setParentMesh(E),C.mesh.updateUVs()}if(this.linkedMeshes.length=0,i.events)for(var V in i.events){var D=i.events[V],l=new s.EventData(V);l.intValue=this.getValue(D,"int",0),l.floatValue=this.getValue(D,"float",0),l.stringValue=this.getValue(D,"string",""),l.audioPath=this.getValue(D,"audio",null),l.audioPath!=null&&(l.volume=this.getValue(D,"volume",1),l.balance=this.getValue(D,"balance",0)),n.events.push(l)}if(i.animations)for(var H in i.animations){var Y=i.animations[H];this.readAnimation(Y,H,n)}return n},a.prototype.readAttachment=function(t,r,n,i,u){var h=this.scale;i=this.getValue(t,"name",i);var f=this.getValue(t,"type","region");switch(f){case"region":{var c=this.getValue(t,"path",i),o=this.attachmentLoader.newRegionAttachment(r,i,c);if(o==null)return null;o.path=c,o.x=this.getValue(t,"x",0)*h,o.y=this.getValue(t,"y",0)*h,o.scaleX=this.getValue(t,"scaleX",1),o.scaleY=this.getValue(t,"scaleY",1),o.rotation=this.getValue(t,"rotation",0),o.width=t.width*h,o.height=t.height*h;var l=this.getValue(t,"color",null);return l!=null&&o.color.setFromString(l),o.updateOffset(),o}case"boundingbox":{var p=this.attachmentLoader.newBoundingBoxAttachment(r,i);if(p==null)return null;this.readVertices(t,p,t.vertexCount<<1);var l=this.getValue(t,"color",null);return l!=null&&p.color.setFromString(l),p}case"mesh":case"linkedmesh":{var c=this.getValue(t,"path",i),d=this.attachmentLoader.newMeshAttachment(r,i,c);if(d==null)return null;d.path=c;var l=this.getValue(t,"color",null);l!=null&&d.color.setFromString(l),d.width=this.getValue(t,"width",0)*h,d.height=this.getValue(t,"height",0)*h;var m=this.getValue(t,"parent",null);if(m!=null)return this.linkedMeshes.push(new v(d,this.getValue(t,"skin",null),n,m,this.getValue(t,"deform",!0))),d;var g=t.uvs;return this.readVertices(t,d,g.length),d.triangles=t.triangles,d.regionUVs=g,d.updateUVs(),d.edges=this.getValue(t,"edges",null),d.hullLength=this.getValue(t,"hull",0)*2,d}case"path":{var c=this.attachmentLoader.newPathAttachment(r,i);if(c==null)return null;c.closed=this.getValue(t,"closed",!1),c.constantSpeed=this.getValue(t,"constantSpeed",!0);var y=t.vertexCount;this.readVertices(t,c,y<<1);for(var k=s.Utils.newArray(y/3,0),S=0;S<t.lengths.length;S++)k[S]=t.lengths[S]*h;c.lengths=k;var l=this.getValue(t,"color",null);return l!=null&&c.color.setFromString(l),c}case"point":{var T=this.attachmentLoader.newPointAttachment(r,i);if(T==null)return null;T.x=this.getValue(t,"x",0)*h,T.y=this.getValue(t,"y",0)*h,T.rotation=this.getValue(t,"rotation",0);var l=this.getValue(t,"color",null);return l!=null&&T.color.setFromString(l),T}case"clipping":{var x=this.attachmentLoader.newClippingAttachment(r,i);if(x==null)return null;var M=this.getValue(t,"end",null);if(M!=null){var A=u.findSlot(M);if(A==null)throw new Error("Clipping end slot not found: "+M);x.endSlot=A}var y=t.vertexCount;this.readVertices(t,x,y<<1);var l=this.getValue(t,"color",null);return l!=null&&x.color.setFromString(l),x}}return null},a.prototype.readVertices=function(t,r,n){var i=this.scale;r.worldVerticesLength=n;var u=t.vertices;if(n==u.length){var h=s.Utils.toFloatArray(u);if(i!=1)for(var f=0,c=u.length;f<c;f++)h[f]*=i;r.vertices=h;return}for(var o=new Array,l=new Array,f=0,c=u.length;f<c;){var p=u[f++];l.push(p);for(var d=f+p*4;f<d;f+=4)l.push(u[f]),o.push(u[f+1]*i),o.push(u[f+2]*i),o.push(u[f+3])}r.bones=l,r.vertices=s.Utils.toFloatArray(o)},a.prototype.readAnimation=function(t,r,n){var i=this.scale,u=new Array,h=0;if(t.slots)for(var f in t.slots){var c=t.slots[f],o=n.findSlotIndex(f);if(o==-1)throw new Error("Slot not found: "+f);for(var l in c){var p=c[l];if(l=="attachment"){var d=new s.AttachmentTimeline(p.length);d.slotIndex=o;for(var m=0,g=0;g<p.length;g++){var y=p[g];d.setFrame(m++,this.getValue(y,"time",0),y.name)}u.push(d),h=Math.max(h,d.frames[d.getFrameCount()-1])}else if(l=="color"){var d=new s.ColorTimeline(p.length);d.slotIndex=o;for(var m=0,g=0;g<p.length;g++){var y=p[g],k=new s.Color;k.setFromString(y.color),d.setFrame(m,this.getValue(y,"time",0),k.r,k.g,k.b,k.a),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[(d.getFrameCount()-1)*s.ColorTimeline.ENTRIES])}else if(l=="twoColor"){var d=new s.TwoColorTimeline(p.length);d.slotIndex=o;for(var m=0,g=0;g<p.length;g++){var y=p[g],S=new s.Color,T=new s.Color;S.setFromString(y.light),T.setFromString(y.dark),d.setFrame(m,this.getValue(y,"time",0),S.r,S.g,S.b,S.a,T.r,T.g,T.b),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[(d.getFrameCount()-1)*s.TwoColorTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+l+" ("+f+")")}}if(t.bones)for(var x in t.bones){var M=t.bones[x],A=n.findBoneIndex(x);if(A==-1)throw new Error("Bone not found: "+x);for(var l in M){var p=M[l];if(l==="rotate"){var d=new s.RotateTimeline(p.length);d.boneIndex=A;for(var m=0,g=0;g<p.length;g++){var y=p[g];d.setFrame(m,this.getValue(y,"time",0),this.getValue(y,"angle",0)),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[(d.getFrameCount()-1)*s.RotateTimeline.ENTRIES])}else if(l==="translate"||l==="scale"||l==="shear"){var d=null,L=1,R=0;l==="scale"?(d=new s.ScaleTimeline(p.length),R=1):l==="shear"?d=new s.ShearTimeline(p.length):(d=new s.TranslateTimeline(p.length),L=i),d.boneIndex=A;for(var m=0,g=0;g<p.length;g++){var y=p[g],F=this.getValue(y,"x",R),I=this.getValue(y,"y",R);d.setFrame(m,this.getValue(y,"time",0),F*L,I*L),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[(d.getFrameCount()-1)*s.TranslateTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+l+" ("+x+")")}}if(t.ik)for(var _ in t.ik){var N=t.ik[_],w=n.findIkConstraint(_),d=new s.IkConstraintTimeline(N.length);d.ikConstraintIndex=n.ikConstraints.indexOf(w);for(var m=0,g=0;g<N.length;g++){var y=N[g];d.setFrame(m,this.getValue(y,"time",0),this.getValue(y,"mix",1),this.getValue(y,"softness",0)*i,this.getValue(y,"bendPositive",!0)?1:-1,this.getValue(y,"compress",!1),this.getValue(y,"stretch",!1)),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[(d.getFrameCount()-1)*s.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var _ in t.transform){var N=t.transform[_],w=n.findTransformConstraint(_),d=new s.TransformConstraintTimeline(N.length);d.transformConstraintIndex=n.transformConstraints.indexOf(w);for(var m=0,g=0;g<N.length;g++){var y=N[g];d.setFrame(m,this.getValue(y,"time",0),this.getValue(y,"rotateMix",1),this.getValue(y,"translateMix",1),this.getValue(y,"scaleMix",1),this.getValue(y,"shearMix",1)),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[(d.getFrameCount()-1)*s.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var _ in t.path){var N=t.path[_],C=n.findPathConstraintIndex(_);if(C==-1)throw new Error("Path constraint not found: "+_);var E=n.pathConstraints[C];for(var l in N){var p=N[l];if(l==="position"||l==="spacing"){var d=null,L=1;l==="spacing"?(d=new s.PathConstraintSpacingTimeline(p.length),(E.spacingMode==s.SpacingMode.Length||E.spacingMode==s.SpacingMode.Fixed)&&(L=i)):(d=new s.PathConstraintPositionTimeline(p.length),E.positionMode==s.PositionMode.Fixed&&(L=i)),d.pathConstraintIndex=C;for(var m=0,g=0;g<p.length;g++){var y=p[g];d.setFrame(m,this.getValue(y,"time",0),this.getValue(y,l,0)*L),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[(d.getFrameCount()-1)*s.PathConstraintPositionTimeline.ENTRIES])}else if(l==="mix"){var d=new s.PathConstraintMixTimeline(p.length);d.pathConstraintIndex=C;for(var m=0,g=0;g<p.length;g++){var y=p[g];d.setFrame(m,this.getValue(y,"time",0),this.getValue(y,"rotateMix",1),this.getValue(y,"translateMix",1)),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[(d.getFrameCount()-1)*s.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var V in t.deform){var D=t.deform[V],H=n.findSkin(V);if(H==null)throw new Error("Skin not found: "+V);for(var f in D){var c=D[f],o=n.findSlotIndex(f);if(o==-1)throw new Error("Slot not found: "+c.name);for(var l in c){var p=c[l],Y=H.getAttachment(o,l);if(Y==null)throw new Error("Deform attachment not found: "+p.name);var W=Y.bones!=null,b=Y.vertices,U=W?b.length/3*2:b.length,d=new s.DeformTimeline(p.length);d.slotIndex=o,d.attachment=Y;for(var m=0,O=0;O<p.length;O++){var y=p[O],P=void 0,G=this.getValue(y,"vertices",null);if(G==null)P=W?s.Utils.newFloatArray(U):b;else{P=s.Utils.newFloatArray(U);var z=this.getValue(y,"offset",0);if(s.Utils.arrayCopy(G,0,P,z,G.length),i!=1)for(var g=z,X=g+G.length;g<X;g++)P[g]*=i;if(!W)for(var g=0;g<U;g++)P[g]+=b[g]}d.setFrame(m,this.getValue(y,"time",0),P),this.readCurve(y,d,m),m++}u.push(d),h=Math.max(h,d.frames[d.getFrameCount()-1])}}}var J=t.drawOrder;if(J==null&&(J=t.draworder),J!=null){for(var d=new s.DrawOrderTimeline(J.length),Q=n.slots.length,m=0,O=0;O<J.length;O++){var nt=J[O],K=null,ht=this.getValue(nt,"offsets",null);if(ht!=null){K=s.Utils.newArray(Q,-1);for(var ot=s.Utils.newArray(Q-ht.length,0),vt=0,pt=0,g=0;g<ht.length;g++){var ct=ht[g],o=n.findSlotIndex(ct.slot);if(o==-1)throw new Error("Slot not found: "+ct.slot);for(;vt!=o;)ot[pt++]=vt++;K[vt+ct.offset]=vt++}for(;vt<Q;)ot[pt++]=vt++;for(var g=Q-1;g>=0;g--)K[g]==-1&&(K[g]=ot[--pt])}d.setFrame(m++,this.getValue(nt,"time",0),K)}u.push(d),h=Math.max(h,d.frames[d.getFrameCount()-1])}if(t.events){for(var d=new s.EventTimeline(t.events.length),m=0,g=0;g<t.events.length;g++){var mt=t.events[g],st=n.findEvent(mt.name);if(st==null)throw new Error("Event not found: "+mt.name);var at=new s.Event(s.Utils.toSinglePrecision(this.getValue(mt,"time",0)),st);at.intValue=this.getValue(mt,"int",st.intValue),at.floatValue=this.getValue(mt,"float",st.floatValue),at.stringValue=this.getValue(mt,"string",st.stringValue),at.data.audioPath!=null&&(at.volume=this.getValue(mt,"volume",1),at.balance=this.getValue(mt,"balance",0)),d.setFrame(m++,at)}u.push(d),h=Math.max(h,d.frames[d.getFrameCount()-1])}if(isNaN(h))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new s.Animation(r,u,h))},a.prototype.readCurve=function(t,r,n){if(t.hasOwnProperty("curve"))if(t.curve=="stepped")r.setStepped(n);else{var i=t.curve;r.setCurve(n,i,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},a.prototype.getValue=function(t,r,n){return t[r]!==void 0?t[r]:n},a.blendModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return s.BlendMode.Normal;if(t=="additive")return s.BlendMode.Additive;if(t=="multiply")return s.BlendMode.Multiply;if(t=="screen")return s.BlendMode.Screen;throw new Error("Unknown blend mode: ".concat(t))},a.positionModeFromString=function(t){if(t=t.toLowerCase(),t=="fixed")return s.PositionMode.Fixed;if(t=="percent")return s.PositionMode.Percent;throw new Error("Unknown position mode: ".concat(t))},a.spacingModeFromString=function(t){if(t=t.toLowerCase(),t=="length")return s.SpacingMode.Length;if(t=="fixed")return s.SpacingMode.Fixed;if(t=="percent")return s.SpacingMode.Percent;throw new Error("Unknown position mode: ".concat(t))},a.rotateModeFromString=function(t){if(t=t.toLowerCase(),t=="tangent")return s.RotateMode.Tangent;if(t=="chain")return s.RotateMode.Chain;if(t=="chainscale")return s.RotateMode.ChainScale;throw new Error("Unknown rotate mode: ".concat(t))},a.transformModeFromString=function(t){if(t=t.toLowerCase(),t=="normal")return s.TransformMode.Normal;if(t=="onlytranslation")return s.TransformMode.OnlyTranslation;if(t=="norotationorreflection")return s.TransformMode.NoRotationOrReflection;if(t=="noscale")return s.TransformMode.NoScale;if(t=="noscaleorreflection")return s.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(t))},a}();s.SkeletonJson=e;var v=function(){function a(t,r,n,i,u){this.mesh=t,this.skin=r,this.slotIndex=n,this.parent=i,this.inheritDeform=u}return a}()})(B||(B={}));var B;(function(s){var e=function(){function a(t,r,n){this.slotIndex=t,this.name=r,this.attachment=n}return a}();s.SkinEntry=e;var v=function(){function a(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,t==null)throw new Error("name cannot be null.");this.name=t}return a.prototype.setAttachment=function(t,r,n){if(n==null)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][r]=n},a.prototype.addSkin=function(t){for(var r=0;r<t.bones.length;r++){for(var n=t.bones[r],i=!1,u=0;u<this.bones.length;u++)if(this.bones[u]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<t.constraints.length;r++){for(var h=t.constraints[r],i=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==h){i=!0;break}i||this.constraints.push(h)}for(var f=t.getAttachments(),r=0;r<f.length;r++){var c=f[r];this.setAttachment(c.slotIndex,c.name,c.attachment)}},a.prototype.copySkin=function(t){for(var r=0;r<t.bones.length;r++){for(var n=t.bones[r],i=!1,u=0;u<this.bones.length;u++)if(this.bones[u]==n){i=!0;break}i||this.bones.push(n)}for(var r=0;r<t.constraints.length;r++){for(var h=t.constraints[r],i=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==h){i=!0;break}i||this.constraints.push(h)}for(var f=t.getAttachments(),r=0;r<f.length;r++){var c=f[r];c.attachment!=null&&(c.attachment instanceof s.MeshAttachment?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}},a.prototype.getAttachment=function(t,r){var n=this.attachments[t];return n?n[r]:null},a.prototype.removeAttachment=function(t,r){var n=this.attachments[t];n&&(n[r]=null)},a.prototype.getAttachments=function(){for(var t=new Array,r=0;r<this.attachments.length;r++){var n=this.attachments[r];if(n)for(var i in n){var u=n[i];u&&t.push(new e(r,i,u))}}return t},a.prototype.getAttachmentsForSlot=function(t,r){var n=this.attachments[t];if(n)for(var i in n){var u=n[i];u&&r.push(new e(t,i,u))}},a.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},a.prototype.attachAll=function(t,r){for(var n=0,i=0;i<t.slots.length;i++){var u=t.slots[i],h=u.getAttachment();if(h&&n<r.attachments.length){var f=r.attachments[n];for(var c in f){var o=f[c];if(h==o){var l=this.getAttachment(n,c);l!=null&&u.setAttachment(l);break}}}n++}},a}();s.Skin=v})(B||(B={}));var B;(function(s){var e=function(){function v(a,t){if(this.deform=new Array,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("bone cannot be null.");this.data=a,this.bone=t,this.color=new s.Color,this.darkColor=a.darkColor==null?null:new s.Color,this.setToSetupPose()}return v.prototype.getSkeleton=function(){return this.bone.skeleton},v.prototype.getAttachment=function(){return this.attachment},v.prototype.setAttachment=function(a){this.attachment!=a&&(this.attachment=a,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},v.prototype.setAttachmentTime=function(a){this.attachmentTime=this.bone.skeleton.time-a},v.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},v.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},v}();s.Slot=e})(B||(B={}));var B;(function(s){var e=function(){function v(a,t,r){if(this.color=new s.Color(1,1,1,1),a<0)throw new Error("index must be >= 0.");if(t==null)throw new Error("name cannot be null.");if(r==null)throw new Error("boneData cannot be null.");this.index=a,this.name=t,this.boneData=r}return v}();s.SlotData=e})(B||(B={}));var B;(function(s){var e=function(){function n(i){this._image=i}return n.prototype.getImage=function(){return this._image},n.filterFromString=function(i){switch(i.toLowerCase()){case"nearest":return v.Nearest;case"linear":return v.Linear;case"mipmap":return v.MipMap;case"mipmapnearestnearest":return v.MipMapNearestNearest;case"mipmaplinearnearest":return v.MipMapLinearNearest;case"mipmapnearestlinear":return v.MipMapNearestLinear;case"mipmaplinearlinear":return v.MipMapLinearLinear;default:throw new Error("Unknown texture filter ".concat(i))}},n.wrapFromString=function(i){switch(i.toLowerCase()){case"mirroredtepeat":return a.MirroredRepeat;case"clamptoedge":return a.ClampToEdge;case"repeat":return a.Repeat;default:throw new Error("Unknown texture wrap ".concat(i))}},n}();s.Texture=e;var v;(function(n){n[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear"})(v=s.TextureFilter||(s.TextureFilter={}));var a;(function(n){n[n.MirroredRepeat=33648]="MirroredRepeat",n[n.ClampToEdge=33071]="ClampToEdge",n[n.Repeat=10497]="Repeat"})(a=s.TextureWrap||(s.TextureWrap={}));var t=function(){function n(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}return n}();s.TextureRegion=t;var r=function(n){rt(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.prototype.setFilters=function(u,h){},i.prototype.setWraps=function(u,h){},i.prototype.dispose=function(){},i}(e);s.FakeTexture=r})(B||(B={}));var B;(function(s){var e=function(){function r(n,i){this.pages=new Array,this.regions=new Array,this.load(n,i)}return r.prototype.load=function(n,i){if(i==null)throw new Error("textureLoader cannot be null.");for(var u=new v(n),h=new Array(4),f=null;;){var c=u.readLine();if(c==null)break;if(c=c.trim(),c.length==0)f=null;else if(f){var l=new t;l.name=c,l.page=f;var p=u.readValue();p.toLocaleLowerCase()=="true"?l.degrees=90:p.toLocaleLowerCase()=="false"?l.degrees=0:l.degrees=parseFloat(p),l.rotate=l.degrees==90,u.readTuple(h);var d=parseInt(h[0]),m=parseInt(h[1]);u.readTuple(h);var g=parseInt(h[0]),y=parseInt(h[1]);l.u=d/f.width,l.v=m/f.height,l.rotate?(l.u2=(d+y)/f.width,l.v2=(m+g)/f.height):(l.u2=(d+g)/f.width,l.v2=(m+y)/f.height),l.x=d,l.y=m,l.width=Math.abs(g),l.height=Math.abs(y),u.readTuple(h)==4&&u.readTuple(h)==4&&u.readTuple(h),l.originalWidth=parseInt(h[0]),l.originalHeight=parseInt(h[1]),u.readTuple(h),l.offsetX=parseInt(h[0]),l.offsetY=parseInt(h[1]),l.index=parseInt(u.readValue()),l.texture=f.texture,this.regions.push(l)}else{f=new a,f.name=c,u.readTuple(h)==2&&(f.width=parseInt(h[0]),f.height=parseInt(h[1]),u.readTuple(h)),u.readTuple(h),f.minFilter=s.Texture.filterFromString(h[0]),f.magFilter=s.Texture.filterFromString(h[1]);var o=u.readValue();f.uWrap=s.TextureWrap.ClampToEdge,f.vWrap=s.TextureWrap.ClampToEdge,o=="x"?f.uWrap=s.TextureWrap.Repeat:o=="y"?f.vWrap=s.TextureWrap.Repeat:o=="xy"&&(f.uWrap=f.vWrap=s.TextureWrap.Repeat),f.texture=i(c),f.texture.setFilters(f.minFilter,f.magFilter),f.texture.setWraps(f.uWrap,f.vWrap),f.width=f.texture.getImage().width,f.height=f.texture.getImage().height,this.pages.push(f)}}},r.prototype.findRegion=function(n){for(var i=0;i<this.regions.length;i++)if(this.regions[i].name==n)return this.regions[i];return null},r.prototype.dispose=function(){for(var n=0;n<this.pages.length;n++)this.pages[n].texture.dispose()},r}();s.TextureAtlas=e;var v=function(){function r(n){this.index=0,this.lines=n.split(/\r\n|\r|\n/)}return r.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},r.prototype.readValue=function(){var n=this.readLine(),i=n.indexOf(":");if(i==-1)throw new Error("Invalid line: "+n);return n.substring(i+1).trim()},r.prototype.readTuple=function(n){var i=this.readLine(),u=i.indexOf(":");if(u==-1)throw new Error("Invalid line: "+i);for(var h=0,f=u+1;h<3;h++){var c=i.indexOf(",",f);if(c==-1)break;n[h]=i.substr(f,c-f).trim(),f=c+1}return n[h]=i.substring(f).trim(),h+1},r}(),a=function(){function r(){}return r}();s.TextureAtlasPage=a;var t=function(r){rt(n,r);function n(){return r!==null&&r.apply(this,arguments)||this}return n}(s.TextureRegion);s.TextureAtlasRegion=t})(B||(B={}));var B;(function(s){var e=function(){function v(a,t){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new s.Vector2,this.active=!1,a==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=a,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix,this.scaleMix=a.scaleMix,this.shearMix=a.shearMix,this.bones=new Array;for(var r=0;r<a.bones.length;r++)this.bones.push(t.findBone(a.bones[r].name));this.target=t.findBone(a.target.name)}return v.prototype.isActive=function(){return this.active},v.prototype.apply=function(){this.update()},v.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},v.prototype.applyAbsoluteWorld=function(){for(var a=this.rotateMix,t=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,u=i.a,h=i.b,f=i.c,c=i.d,o=u*c-h*f>0?s.MathUtils.degRad:-s.MathUtils.degRad,l=this.data.offsetRotation*o,p=this.data.offsetShearY*o,d=this.bones,m=0,g=d.length;m<g;m++){var y=d[m],k=!1;if(a!=0){var S=y.a,T=y.b,x=y.c,M=y.d,A=Math.atan2(f,u)-Math.atan2(x,S)+l;A>s.MathUtils.PI?A-=s.MathUtils.PI2:A<-s.MathUtils.PI&&(A+=s.MathUtils.PI2),A*=a;var L=Math.cos(A),R=Math.sin(A);y.a=L*S-R*x,y.b=L*T-R*M,y.c=R*S+L*x,y.d=R*T+L*M,k=!0}if(t!=0){var F=this.temp;i.localToWorld(F.set(this.data.offsetX,this.data.offsetY)),y.worldX+=(F.x-y.worldX)*t,y.worldY+=(F.y-y.worldY)*t,k=!0}if(r>0){var I=Math.sqrt(y.a*y.a+y.c*y.c),_=Math.sqrt(u*u+f*f);I>1e-5&&(I=(I+(_-I+this.data.offsetScaleX)*r)/I),y.a*=I,y.c*=I,I=Math.sqrt(y.b*y.b+y.d*y.d),_=Math.sqrt(h*h+c*c),I>1e-5&&(I=(I+(_-I+this.data.offsetScaleY)*r)/I),y.b*=I,y.d*=I,k=!0}if(n>0){var T=y.b,M=y.d,N=Math.atan2(M,T),A=Math.atan2(c,h)-Math.atan2(f,u)-(N-Math.atan2(y.c,y.a));A>s.MathUtils.PI?A-=s.MathUtils.PI2:A<-s.MathUtils.PI&&(A+=s.MathUtils.PI2),A=N+(A+p)*n;var I=Math.sqrt(T*T+M*M);y.b=Math.cos(A)*I,y.d=Math.sin(A)*I,k=!0}k&&(y.appliedValid=!1)}},v.prototype.applyRelativeWorld=function(){for(var a=this.rotateMix,t=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,u=i.a,h=i.b,f=i.c,c=i.d,o=u*c-h*f>0?s.MathUtils.degRad:-s.MathUtils.degRad,l=this.data.offsetRotation*o,p=this.data.offsetShearY*o,d=this.bones,m=0,g=d.length;m<g;m++){var y=d[m],k=!1;if(a!=0){var S=y.a,T=y.b,x=y.c,M=y.d,A=Math.atan2(f,u)+l;A>s.MathUtils.PI?A-=s.MathUtils.PI2:A<-s.MathUtils.PI&&(A+=s.MathUtils.PI2),A*=a;var L=Math.cos(A),R=Math.sin(A);y.a=L*S-R*x,y.b=L*T-R*M,y.c=R*S+L*x,y.d=R*T+L*M,k=!0}if(t!=0){var F=this.temp;i.localToWorld(F.set(this.data.offsetX,this.data.offsetY)),y.worldX+=F.x*t,y.worldY+=F.y*t,k=!0}if(r>0){var I=(Math.sqrt(u*u+f*f)-1+this.data.offsetScaleX)*r+1;y.a*=I,y.c*=I,I=(Math.sqrt(h*h+c*c)-1+this.data.offsetScaleY)*r+1,y.b*=I,y.d*=I,k=!0}if(n>0){var A=Math.atan2(c,h)-Math.atan2(f,u);A>s.MathUtils.PI?A-=s.MathUtils.PI2:A<-s.MathUtils.PI&&(A+=s.MathUtils.PI2);var T=y.b,M=y.d;A=Math.atan2(M,T)+(A-s.MathUtils.PI/2+p)*n;var I=Math.sqrt(T*T+M*M);y.b=Math.cos(A)*I,y.d=Math.sin(A)*I,k=!0}k&&(y.appliedValid=!1)}},v.prototype.applyAbsoluteLocal=function(){var a=this.rotateMix,t=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var u=this.bones,h=0,f=u.length;h<f;h++){var c=u[h];c.appliedValid||c.updateAppliedTransform();var o=c.arotation;if(a!=0){var l=i.arotation-o+this.data.offsetRotation;l-=(16384-(16384.499999999996-l/360|0))*360,o+=l*a}var p=c.ax,d=c.ay;t!=0&&(p+=(i.ax-p+this.data.offsetX)*t,d+=(i.ay-d+this.data.offsetY)*t);var m=c.ascaleX,g=c.ascaleY;r!=0&&(m>1e-5&&(m=(m+(i.ascaleX-m+this.data.offsetScaleX)*r)/m),g>1e-5&&(g=(g+(i.ascaleY-g+this.data.offsetScaleY)*r)/g));var y=c.ashearY;if(n!=0){var l=i.ashearY-y+this.data.offsetShearY;l-=(16384-(16384.499999999996-l/360|0))*360,c.shearY+=l*n}c.updateWorldTransformWith(p,d,o,m,g,c.ashearX,y)}},v.prototype.applyRelativeLocal=function(){var a=this.rotateMix,t=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var u=this.bones,h=0,f=u.length;h<f;h++){var c=u[h];c.appliedValid||c.updateAppliedTransform();var o=c.arotation;a!=0&&(o+=(i.arotation+this.data.offsetRotation)*a);var l=c.ax,p=c.ay;t!=0&&(l+=(i.ax+this.data.offsetX)*t,p+=(i.ay+this.data.offsetY)*t);var d=c.ascaleX,m=c.ascaleY;r!=0&&(d>1e-5&&(d*=(i.ascaleX-1+this.data.offsetScaleX)*r+1),m>1e-5&&(m*=(i.ascaleY-1+this.data.offsetScaleY)*r+1));var g=c.ashearY;n!=0&&(g+=(i.ashearY+this.data.offsetShearY)*n),c.updateWorldTransformWith(l,p,o,d,m,c.ashearX,g)}},v}();s.TransformConstraint=e})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t,0,!1)||this;return r.bones=new Array,r.rotateMix=0,r.translateMix=0,r.scaleMix=0,r.shearMix=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return a}(s.ConstraintData);s.TransformConstraintData=e})(B||(B={}));var B;(function(s){var e=function(){function v(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new s.Pool(function(){return new Array}),this.polygonIndicesPool=new s.Pool(function(){return new Array})}return v.prototype.triangulate=function(a){var t=a,r=a.length>>1,n=this.indicesArray;n.length=0;for(var i=0;i<r;i++)n[i]=i;var u=this.isConcaveArray;u.length=0;for(var i=0,h=r;i<h;++i)u[i]=v.isConcave(i,r,t,n);var f=this.triangles;for(f.length=0;r>3;){for(var c=r-1,i=0,o=1;;){t:if(!u[i]){for(var l=n[c]<<1,p=n[i]<<1,d=n[o]<<1,m=t[l],g=t[l+1],y=t[p],k=t[p+1],S=t[d],T=t[d+1],x=(o+1)%r;x!=c;x=(x+1)%r)if(u[x]){var M=n[x]<<1,A=t[M],L=t[M+1];if(v.positiveArea(S,T,m,g,A,L)&&v.positiveArea(m,g,y,k,A,L)&&v.positiveArea(y,k,S,T,A,L))break t}break}if(o==0){do{if(!u[i])break;i--}while(i>0);break}c=i,i=o,o=(o+1)%r}f.push(n[(r+i-1)%r]),f.push(n[i]),f.push(n[(i+1)%r]),n.splice(i,1),u.splice(i,1),r--;var R=(r+i-1)%r,F=i==r?0:i;u[R]=v.isConcave(R,r,t,n),u[F]=v.isConcave(F,r,t,n)}return r==3&&(f.push(n[2]),f.push(n[0]),f.push(n[1])),f},v.prototype.decompose=function(a,t){var r=a,n=this.convexPolygons;this.polygonPool.freeAll(n),n.length=0;var i=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(i),i.length=0;var u=this.polygonIndicesPool.obtain();u.length=0;var h=this.polygonPool.obtain();h.length=0;for(var f=-1,c=0,o=0,l=t.length;o<l;o+=3){var p=t[o]<<1,d=t[o+1]<<1,m=t[o+2]<<1,g=r[p],y=r[p+1],k=r[d],S=r[d+1],T=r[m],x=r[m+1],M=!1;if(f==p){var A=h.length-4,L=v.winding(h[A],h[A+1],h[A+2],h[A+3],T,x),R=v.winding(T,x,h[0],h[1],h[2],h[3]);L==c&&R==c&&(h.push(T),h.push(x),u.push(m),M=!0)}M||(h.length>0?(n.push(h),i.push(u)):(this.polygonPool.free(h),this.polygonIndicesPool.free(u)),h=this.polygonPool.obtain(),h.length=0,h.push(g),h.push(y),h.push(k),h.push(S),h.push(T),h.push(x),u=this.polygonIndicesPool.obtain(),u.length=0,u.push(p),u.push(d),u.push(m),c=v.winding(g,y,k,S,T,x),f=p)}h.length>0&&(n.push(h),i.push(u));for(var o=0,l=n.length;o<l;o++)if(u=i[o],u.length!=0){var F=u[0],I=u[u.length-1];h=n[o];for(var A=h.length-4,_=h[A],N=h[A+1],w=h[A+2],C=h[A+3],E=h[0],V=h[1],D=h[2],H=h[3],Y=v.winding(_,N,w,C,E,V),W=0;W<l;W++)if(W!=o){var b=i[W];if(b.length==3){var U=b[0],O=b[1],P=b[2],G=n[W],T=G[G.length-2],x=G[G.length-1];if(!(U!=F||O!=I)){var L=v.winding(_,N,w,C,T,x),R=v.winding(T,x,E,V,D,H);L==Y&&R==Y&&(G.length=0,b.length=0,h.push(T),h.push(x),u.push(P),_=w,N=C,w=T,C=x,W=0)}}}}for(var o=n.length-1;o>=0;o--)h=n[o],h.length==0&&(n.splice(o,1),this.polygonPool.free(h),u=i[o],i.splice(o,1),this.polygonIndicesPool.free(u));return n},v.isConcave=function(a,t,r,n){var i=n[(t+a-1)%t]<<1,u=n[a]<<1,h=n[(a+1)%t]<<1;return!this.positiveArea(r[i],r[i+1],r[u],r[u+1],r[h],r[h+1])},v.positiveArea=function(a,t,r,n,i,u){return a*(u-n)+r*(t-u)+i*(n-t)>=0},v.winding=function(a,t,r,n,i,u){var h=r-a,f=n-t;return i*f-u*h+h*t-a*f>=0?1:-1},v}();s.Triangulator=e})(B||(B={}));var B;(function(s){var e=function(){function l(){this.array=new Array}return l.prototype.add=function(p){var d=this.contains(p);return this.array[p|0]=p|0,!d},l.prototype.contains=function(p){return this.array[p|0]!=null},l.prototype.remove=function(p){this.array[p|0]=void 0},l.prototype.clear=function(){this.array.length=0},l}();s.IntSet=e;var v=function(){function l(p,d,m,g){p===void 0&&(p=0),d===void 0&&(d=0),m===void 0&&(m=0),g===void 0&&(g=0),this.r=p,this.g=d,this.b=m,this.a=g}return l.prototype.set=function(p,d,m,g){return this.r=p,this.g=d,this.b=m,this.a=g,this.clamp(),this},l.prototype.setFromColor=function(p){return this.r=p.r,this.g=p.g,this.b=p.b,this.a=p.a,this},l.prototype.setFromString=function(p){return p=p.charAt(0)=="#"?p.substr(1):p,this.r=parseInt(p.substr(0,2),16)/255,this.g=parseInt(p.substr(2,2),16)/255,this.b=parseInt(p.substr(4,2),16)/255,this.a=(p.length!=8?255:parseInt(p.substr(6,2),16))/255,this},l.prototype.add=function(p,d,m,g){return this.r+=p,this.g+=d,this.b+=m,this.a+=g,this.clamp(),this},l.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},l.rgba8888ToColor=function(p,d){p.r=((d&4278190080)>>>24)/255,p.g=((d&16711680)>>>16)/255,p.b=((d&65280)>>>8)/255,p.a=(d&255)/255},l.rgb888ToColor=function(p,d){p.r=((d&16711680)>>>16)/255,p.g=((d&65280)>>>8)/255,p.b=(d&255)/255},l.WHITE=new l(1,1,1,1),l.RED=new l(1,0,0,1),l.GREEN=new l(0,1,0,1),l.BLUE=new l(0,0,1,1),l.MAGENTA=new l(1,0,1,1),l}();s.Color=v;var a=function(){function l(){}return l.clamp=function(p,d,m){return p<d?d:p>m?m:p},l.cosDeg=function(p){return Math.cos(p*l.degRad)},l.sinDeg=function(p){return Math.sin(p*l.degRad)},l.signum=function(p){return p>0?1:p<0?-1:0},l.toInt=function(p){return p>0?Math.floor(p):Math.ceil(p)},l.cbrt=function(p){var d=Math.pow(Math.abs(p),.3333333333333333);return p<0?-d:d},l.randomTriangular=function(p,d){return l.randomTriangularWith(p,d,(p+d)*.5)},l.randomTriangularWith=function(p,d,m){var g=Math.random(),y=d-p;return g<=(m-p)/y?p+Math.sqrt(g*y*(m-p)):d-Math.sqrt((1-g)*y*(d-m))},l.PI=3.1415927,l.PI2=l.PI*2,l.radiansToDegrees=180/l.PI,l.radDeg=l.radiansToDegrees,l.degreesToRadians=l.PI/180,l.degRad=l.degreesToRadians,l}();s.MathUtils=a;var t=function(){function l(){}return l.prototype.apply=function(p,d,m){return p+(d-p)*this.applyInternal(m)},l}();s.Interpolation=t;var r=function(l){rt(p,l);function p(d){var m=l.call(this)||this;return m.power=2,m.power=d,m}return p.prototype.applyInternal=function(d){return d<=.5?Math.pow(d*2,this.power)/2:Math.pow((d-1)*2,this.power)/(this.power%2==0?-2:2)+1},p}(t);s.Pow=r;var n=function(l){rt(p,l);function p(d){return l.call(this,d)||this}return p.prototype.applyInternal=function(d){return Math.pow(d-1,this.power)*(this.power%2==0?-1:1)+1},p}(r);s.PowOut=n;var i=function(){function l(){}return l.arrayCopy=function(p,d,m,g,y){for(var k=d,S=g;k<d+y;k++,S++)m[S]=p[k]},l.setArraySize=function(p,d,m){m===void 0&&(m=0);var g=p.length;if(g==d)return p;if(p.length=d,g<d)for(var y=g;y<d;y++)p[y]=m;return p},l.ensureArrayCapacity=function(p,d,m){return m===void 0&&(m=0),p.length>=d?p:l.setArraySize(p,d,m)},l.newArray=function(p,d){for(var m=new Array(p),g=0;g<p;g++)m[g]=d;return m},l.newFloatArray=function(p){if(l.SUPPORTS_TYPED_ARRAYS)return new Float32Array(p);for(var d=new Array(p),m=0;m<d.length;m++)d[m]=0;return d},l.newShortArray=function(p){if(l.SUPPORTS_TYPED_ARRAYS)return new Int16Array(p);for(var d=new Array(p),m=0;m<d.length;m++)d[m]=0;return d},l.toFloatArray=function(p){return l.SUPPORTS_TYPED_ARRAYS?new Float32Array(p):p},l.toSinglePrecision=function(p){return l.SUPPORTS_TYPED_ARRAYS?Math.fround(p):p},l.webkit602BugfixHelper=function(p,d){},l.contains=function(p,d,m){for(var g=0;g<p.length;g++)if(p[g]==d)return!0;return!1},l.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u",l}();s.Utils=i;var u=function(){function l(){}return l.logBones=function(p){for(var d=0;d<p.bones.length;d++){var m=p.bones[d];console.log(m.data.name+", "+m.a+", "+m.b+", "+m.c+", "+m.d+", "+m.worldX+", "+m.worldY)}},l}();s.DebugUtils=u;var h=function(){function l(p){this.items=new Array,this.instantiator=p}return l.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},l.prototype.free=function(p){p.reset&&p.reset(),this.items.push(p)},l.prototype.freeAll=function(p){for(var d=0;d<p.length;d++)this.free(p[d])},l.prototype.clear=function(){this.items.length=0},l}();s.Pool=h;var f=function(){function l(p,d){p===void 0&&(p=0),d===void 0&&(d=0),this.x=p,this.y=d}return l.prototype.set=function(p,d){return this.x=p,this.y=d,this},l.prototype.length=function(){var p=this.x,d=this.y;return Math.sqrt(p*p+d*d)},l.prototype.normalize=function(){var p=this.length();return p!=0&&(this.x/=p,this.y/=p),this},l}();s.Vector2=f;var c=function(){function l(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return l.prototype.update=function(){var p=Date.now()/1e3;this.delta=p-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=p,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},l}();s.TimeKeeper=c;var o=function(){function l(p){p===void 0&&(p=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(p)}return l.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},l.prototype.addValue=function(p){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=p,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},l.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var p=0,d=0;d<this.values.length;d++)p+=this.values[d];this.mean=p/this.values.length,this.dirty=!1}return this.mean}else return 0},l}();s.WindowedMean=o})(B||(B={}));(function(){Math.fround||(Math.fround=function(s){return function(e){return s[0]=e,s[0]}}(new Float32Array(1)))})();var B;(function(s){var e=function(){function a(t){if(t==null)throw new Error("name cannot be null.");this.name=t}return a}();s.Attachment=e;var v=function(a){rt(t,a);function t(r){var n=a.call(this,r)||this;return n.id=(t.nextID++&65535)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return t.prototype.computeWorldVertices=function(r,n,i,u,h,f){i=h+(i>>1)*f;var c=r.bone.skeleton,o=r.deform,l=this.vertices,p=this.bones;if(p==null){o.length>0&&(l=o);for(var d=r.bone,m=d.worldX,g=d.worldY,y=d.a,k=d.b,S=d.c,T=d.d,x=n,M=h;M<i;x+=2,M+=f){var A=l[x],L=l[x+1];u[M]=A*y+L*k+m,u[M+1]=A*S+L*T+g}return}for(var R=0,F=0,I=0;I<n;I+=2){var _=p[R];R+=_+1,F+=_}var N=c.bones;if(o.length==0)for(var M=h,k=F*3;M<i;M+=f){var w=0,C=0,_=p[R++];for(_+=R;R<_;R++,k+=3){var d=N[p[R]],A=l[k],L=l[k+1],E=l[k+2];w+=(A*d.a+L*d.b+d.worldX)*E,C+=(A*d.c+L*d.d+d.worldY)*E}u[M]=w,u[M+1]=C}else for(var V=o,M=h,k=F*3,D=F<<1;M<i;M+=f){var w=0,C=0,_=p[R++];for(_+=R;R<_;R++,k+=3,D+=2){var d=N[p[R]],A=l[k]+V[D],L=l[k+1]+V[D+1],E=l[k+2];w+=(A*d.a+L*d.b+d.worldX)*E,C+=(A*d.c+L*d.d+d.worldY)*E}u[M]=w,u[M+1]=C}},t.prototype.copyTo=function(r){this.bones!=null?(r.bones=new Array(this.bones.length),s.Utils.arrayCopy(this.bones,0,r.bones,0,this.bones.length)):r.bones=null,this.vertices!=null?(r.vertices=s.Utils.newFloatArray(this.vertices.length),s.Utils.arrayCopy(this.vertices,0,r.vertices,0,this.vertices.length)):r.vertices=null,r.worldVerticesLength=this.worldVerticesLength,r.deformAttachment=this.deformAttachment},t.nextID=0,t}(e);s.VertexAttachment=v})(B||(B={}));var B;(function(s){(function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"})(s.AttachmentType||(s.AttachmentType={}))})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t)||this;return r.color=new s.Color(1,1,1,1),r}return a.prototype.copy=function(){var t=new a(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},a}(s.VertexAttachment);s.BoundingBoxAttachment=e})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t)||this;return r.color=new s.Color(.2275,.2275,.8078,1),r}return a.prototype.copy=function(){var t=new a(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},a}(s.VertexAttachment);s.ClippingAttachment=e})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t)||this;return r.color=new s.Color(1,1,1,1),r.tempColor=new s.Color(0,0,0,0),r}return a.prototype.updateUVs=function(){var t=this.regionUVs;(this.uvs==null||this.uvs.length!=t.length)&&(this.uvs=s.Utils.newFloatArray(t.length));var r=this.uvs,n=this.uvs.length,i=this.region.u,u=this.region.v,h=0,f=0;if(this.region instanceof s.TextureAtlasRegion){var c=this.region,o=c.texture.getImage().width,l=c.texture.getImage().height;switch(c.degrees){case 90:i-=(c.originalHeight-c.offsetY-c.height)/o,u-=(c.originalWidth-c.offsetX-c.width)/l,h=c.originalHeight/o,f=c.originalWidth/l;for(var p=0;p<n;p+=2)r[p]=i+t[p+1]*h,r[p+1]=u+(1-t[p])*f;return;case 180:i-=(c.originalWidth-c.offsetX-c.width)/o,u-=c.offsetY/l,h=c.originalWidth/o,f=c.originalHeight/l;for(var p=0;p<n;p+=2)r[p]=i+(1-t[p])*h,r[p+1]=u+(1-t[p+1])*f;return;case 270:i-=c.offsetY/o,u-=c.offsetX/l,h=c.originalHeight/o,f=c.originalWidth/l;for(var p=0;p<n;p+=2)r[p]=i+(1-t[p+1])*h,r[p+1]=u+t[p]*f;return}i-=c.offsetX/o,u-=(c.originalHeight-c.offsetY-c.height)/l,h=c.originalWidth/o,f=c.originalHeight/l}else this.region==null?(i=u=0,h=f=1):(h=this.region.u2-i,f=this.region.v2-u);for(var p=0;p<n;p+=2)r[p]=i+t[p]*h,r[p+1]=u+t[p+1]*f},a.prototype.getParentMesh=function(){return this.parentMesh},a.prototype.setParentMesh=function(t){this.parentMesh=t,t!=null&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},a.prototype.copy=function(){if(this.parentMesh!=null)return this.newLinkedMesh();var t=new a(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),s.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),s.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),s.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,this.edges!=null&&(t.edges=new Array(this.edges.length),s.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},a.prototype.newLinkedMesh=function(){var t=new a(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(this.parentMesh!=null?this.parentMesh:this),t.updateUVs(),t},a}(s.VertexAttachment);s.MeshAttachment=e})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t)||this;return r.closed=!1,r.constantSpeed=!1,r.color=new s.Color(1,1,1,1),r}return a.prototype.copy=function(){var t=new a(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),s.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},a}(s.VertexAttachment);s.PathAttachment=e})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t)||this;return r.color=new s.Color(.38,.94,0,1),r}return a.prototype.computeWorldPosition=function(t,r){return r.x=this.x*t.a+this.y*t.b+t.worldX,r.y=this.x*t.c+this.y*t.d+t.worldY,r},a.prototype.computeWorldRotation=function(t){var r=s.MathUtils.cosDeg(this.rotation),n=s.MathUtils.sinDeg(this.rotation),i=r*t.a+n*t.b,u=r*t.c+n*t.d;return Math.atan2(u,i)*s.MathUtils.radDeg},a.prototype.copy=function(){var t=new a(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},a}(s.VertexAttachment);s.PointAttachment=e})(B||(B={}));var B;(function(s){var e=function(v){rt(a,v);function a(t){var r=v.call(this,t)||this;return r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new s.Color(1,1,1,1),r.offset=s.Utils.newFloatArray(8),r.uvs=s.Utils.newFloatArray(8),r.tempColor=new s.Color(1,1,1,1),r}return a.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,r=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*r,u=n+this.region.width*t,h=i+this.region.height*r,f=this.rotation*Math.PI/180,c=Math.cos(f),o=Math.sin(f),l=n*c+this.x,p=n*o,d=i*c+this.y,m=i*o,g=u*c+this.x,y=u*o,k=h*c+this.y,S=h*o,T=this.offset;T[a.OX1]=l-m,T[a.OY1]=d+p,T[a.OX2]=l-S,T[a.OY2]=k+p,T[a.OX3]=g-S,T[a.OY3]=k+y,T[a.OX4]=g-m,T[a.OY4]=d+y},a.prototype.setRegion=function(t){this.region=t;var r=this.uvs;t.rotate?(r[2]=t.u,r[3]=t.v2,r[4]=t.u,r[5]=t.v,r[6]=t.u2,r[7]=t.v,r[0]=t.u2,r[1]=t.v2):(r[0]=t.u,r[1]=t.v2,r[2]=t.u,r[3]=t.v,r[4]=t.u2,r[5]=t.v,r[6]=t.u2,r[7]=t.v2)},a.prototype.computeWorldVertices=function(t,r,n,i){var u=this.offset,h=t.worldX,f=t.worldY,c=t.a,o=t.b,l=t.c,p=t.d,d=0,m=0;d=u[a.OX1],m=u[a.OY1],r[n]=d*c+m*o+h,r[n+1]=d*l+m*p+f,n+=i,d=u[a.OX2],m=u[a.OY2],r[n]=d*c+m*o+h,r[n+1]=d*l+m*p+f,n+=i,d=u[a.OX3],m=u[a.OY3],r[n]=d*c+m*o+h,r[n+1]=d*l+m*p+f,n+=i,d=u[a.OX4],m=u[a.OY4],r[n]=d*c+m*o+h,r[n+1]=d*l+m*p+f},a.prototype.copy=function(){var t=new a(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,s.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),s.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},a.OX1=0,a.OY1=1,a.OX2=2,a.OY2=3,a.OX3=4,a.OY3=5,a.OX4=6,a.OY4=7,a.X1=0,a.Y1=1,a.C1R=2,a.C1G=3,a.C1B=4,a.C1A=5,a.U1=6,a.V1=7,a.X2=8,a.Y2=9,a.C2R=10,a.C2G=11,a.C2B=12,a.C2A=13,a.U2=14,a.V2=15,a.X3=16,a.Y3=17,a.C3R=18,a.C3G=19,a.C3B=20,a.C3A=21,a.U3=22,a.V3=23,a.X4=24,a.Y4=25,a.C4R=26,a.C4G=27,a.C4B=28,a.C4A=29,a.U4=30,a.V4=31,a}(s.Attachment);s.RegionAttachment=e})(B||(B={}));var B;(function(s){var e=function(){function v(a,t){this.jitterX=0,this.jitterY=0,this.jitterX=a,this.jitterY=t}return v.prototype.begin=function(a){},v.prototype.transform=function(a,t,r,n){a.x+=s.MathUtils.randomTriangular(-this.jitterX,this.jitterY),a.y+=s.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},v.prototype.end=function(){},v}();s.JitterEffect=e})(B||(B={}));var B;(function(s){var e=function(){function v(a){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=a}return v.prototype.begin=function(a){this.worldX=a.x+this.centerX,this.worldY=a.y+this.centerY},v.prototype.transform=function(a,t,r,n){var i=this.angle*s.MathUtils.degreesToRadians,u=a.x-this.worldX,h=a.y-this.worldY,f=Math.sqrt(u*u+h*h);if(f<this.radius){var c=v.interpolation.apply(0,i,(this.radius-f)/this.radius),o=Math.cos(c),l=Math.sin(c);a.x=o*u-l*h+this.worldX,a.y=l*u+o*h+this.worldY}},v.prototype.end=function(){},v.interpolation=new s.PowOut(2),v}();s.SwirlEffect=e})(B||(B={}));var B;(function(s){(function(e){var v=function(a){rt(t,a);function t(r,n){return n===void 0&&(n=""),a.call(this,function(i){return new s.webgl.GLTexture(r,i)},n)||this}return t}(s.AssetManager);e.AssetManager=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function a(t,r){this.position=new e.Vector3(0,0,0),this.direction=new e.Vector3(0,0,-1),this.up=new e.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new e.Matrix4,this.inverseProjectionView=new e.Matrix4,this.projection=new e.Matrix4,this.view=new e.Matrix4,this.tmp=new e.Vector3,this.viewportWidth=t,this.viewportHeight=r,this.update()}return a.prototype.update=function(){var t=this.projection,r=this.view,n=this.projectionView,i=this.inverseProjectionView,u=this.zoom,h=this.viewportWidth,f=this.viewportHeight;t.ortho(u*(-h/2),u*(h/2),u*(-f/2),u*(f/2),this.near,this.far),r.lookAt(this.position,this.direction,this.up),n.set(t.values),n.multiply(r),i.set(n.values).invert()},a.prototype.screenToWorld=function(t,r,n){var i=t.x,u=n-t.y-1,h=this.tmp;return h.x=2*i/r-1,h.y=2*u/n-1,h.z=2*t.z-1,h.project(this.inverseProjectionView),t.set(h.x,h.y,h.z),t},a.prototype.setViewport=function(t,r){this.viewportWidth=t,this.viewportHeight=r},a}();e.OrthoCamera=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(a){rt(t,a);function t(r,n,i){i===void 0&&(i=!1);var u=a.call(this,n)||this;return u.texture=null,u.boundUnit=0,u.useMipMaps=!1,u.context=r instanceof e.ManagedWebGLRenderingContext?r:new e.ManagedWebGLRenderingContext(r),u.useMipMaps=i,u.restore(),u.context.addRestorable(u),u}return t.prototype.setFilters=function(r,n){var i=this.context.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t.validateMagFilter(n))},t.validateMagFilter=function(r){switch(r){case s.TextureFilter.MipMap:case s.TextureFilter.MipMapLinearLinear:case s.TextureFilter.MipMapLinearNearest:case s.TextureFilter.MipMapNearestLinear:case s.TextureFilter.MipMapNearestNearest:return s.TextureFilter.Linear;default:return r}},t.prototype.setWraps=function(r,n){var i=this.context.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,n)},t.prototype.update=function(r){var n=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),t.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,this._image),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r?n.LINEAR_MIPMAP_LINEAR:n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),r&&n.generateMipmap(n.TEXTURE_2D)},t.prototype.restore=function(){this.texture=null,this.update(this.useMipMaps)},t.prototype.bind=function(r){r===void 0&&(r=0);var n=this.context.gl;this.boundUnit=r,n.activeTexture(n.TEXTURE0+r),n.bindTexture(n.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var r=this.context.gl;r.activeTexture(r.TEXTURE0+this.boundUnit),r.bindTexture(r.TEXTURE_2D,null)},t.prototype.dispose=function(){this.context.removeRestorable(this);var r=this.context.gl;r.deleteTexture(this.texture)},t.DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL=!1,t}(s.Texture);e.GLTexture=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function t(r){this.lastX=0,this.lastY=0,this.buttonDown=!1,this.currTouch=null,this.touchesPool=new s.Pool(function(){return new s.webgl.Touch(0,0,0)}),this.listeners=new Array,this.element=r,this.setupCallbacks(r)}return t.prototype.setupCallbacks=function(r){var n=this,i=function(f){if(f instanceof MouseEvent){for(var c=r.getBoundingClientRect(),o=f.clientX-c.left,l=f.clientY-c.top,p=n.listeners,d=0;d<p.length;d++)p[d].down&&p[d].down(o,l);n.lastX=o,n.lastY=l,n.buttonDown=!0,document.addEventListener("mousemove",u),document.addEventListener("mouseup",h)}},u=function(f){if(f instanceof MouseEvent){for(var c=r.getBoundingClientRect(),o=f.clientX-c.left,l=f.clientY-c.top,p=n.listeners,d=0;d<p.length;d++)n.buttonDown?p[d].dragged&&p[d].dragged(o,l):p[d].moved&&p[d].moved(o,l);n.lastX=o,n.lastY=l}},h=function(f){if(f instanceof MouseEvent){for(var c=r.getBoundingClientRect(),o=f.clientX-c.left,l=f.clientY-c.top,p=n.listeners,d=0;d<p.length;d++)p[d].up&&p[d].up(o,l);n.lastX=o,n.lastY=l,n.buttonDown=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h)}};r.addEventListener("mousedown",i,!0),r.addEventListener("mousemove",u,!0),r.addEventListener("mouseup",h,!0),r.addEventListener("touchstart",function(f){if(n.currTouch==null){for(var c=f.changedTouches,o=0;o<c.length;o++){var l=c[o],p=r.getBoundingClientRect(),d=l.clientX-p.left,m=l.clientY-p.top;n.currTouch=n.touchesPool.obtain(),n.currTouch.identifier=l.identifier,n.currTouch.x=d,n.currTouch.y=m;break}for(var g=n.listeners,y=0;y<g.length;y++)g[y].down&&g[y].down(n.currTouch.x,n.currTouch.y);n.lastX=n.currTouch.x,n.lastY=n.currTouch.y,n.buttonDown=!0,f.preventDefault()}},!1),r.addEventListener("touchend",function(f){for(var c=f.changedTouches,o=0;o<c.length;o++){var l=c[o];if(n.currTouch.identifier===l.identifier){var p=r.getBoundingClientRect(),d=n.currTouch.x=l.clientX-p.left,m=n.currTouch.y=l.clientY-p.top;n.touchesPool.free(n.currTouch);for(var g=n.listeners,y=0;y<g.length;y++)g[y].up&&g[y].up(d,m);n.lastX=d,n.lastY=m,n.buttonDown=!1,n.currTouch=null;break}}f.preventDefault()},!1),r.addEventListener("touchcancel",function(f){for(var c=f.changedTouches,o=0;o<c.length;o++){var l=c[o];if(n.currTouch.identifier===l.identifier){var p=r.getBoundingClientRect(),d=n.currTouch.x=l.clientX-p.left,m=n.currTouch.y=l.clientY-p.top;n.touchesPool.free(n.currTouch);for(var g=n.listeners,y=0;y<g.length;y++)g[y].up&&g[y].up(d,m);n.lastX=d,n.lastY=m,n.buttonDown=!1,n.currTouch=null;break}}f.preventDefault()},!1),r.addEventListener("touchmove",function(f){if(n.currTouch!=null){for(var c=f.changedTouches,o=0;o<c.length;o++){var l=c[o];if(n.currTouch.identifier===l.identifier){for(var p=r.getBoundingClientRect(),d=l.clientX-p.left,m=l.clientY-p.top,g=n.listeners,y=0;y<g.length;y++)g[y].dragged&&g[y].dragged(d,m);n.lastX=n.currTouch.x=d,n.lastY=n.currTouch.y=m;break}}f.preventDefault()}},!1)},t.prototype.addListener=function(r){this.listeners.push(r)},t.prototype.removeListener=function(r){var n=this.listeners.indexOf(r);n>-1&&this.listeners.splice(n,1)},t}();e.Input=v;var a=function(){function t(r,n,i){this.identifier=r,this.x=n,this.y=i}return t}();e.Touch=a})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function a(t){if(this.logo=null,this.spinner=null,this.angle=0,this.fadeOut=0,this.timeKeeper=new s.TimeKeeper,this.backgroundColor=new s.Color(.135,.135,.135,1),this.tempColor=new s.Color,this.firstDraw=0,this.renderer=t,this.timeKeeper.maxDelta=9,a.logoImg===null){var r=navigator.userAgent.indexOf("Safari")>-1;a.logoImg=new Image,a.logoImg.src=a.SPINE_LOGO_DATA,r||(a.logoImg.crossOrigin="anonymous"),a.logoImg.onload=function(n){a.loaded++},a.spinnerImg=new Image,a.spinnerImg.src=a.SPINNER_DATA,r||(a.spinnerImg.crossOrigin="anonymous"),a.spinnerImg.onload=function(n){a.loaded++}}}return a.prototype.draw=function(t){if(t===void 0&&(t=!1),!(t&&this.fadeOut>a.FADE_SECONDS)){this.timeKeeper.update();var r=Math.abs(Math.sin(this.timeKeeper.totalTime+.75));this.angle-=this.timeKeeper.delta/1.4*360*(1+1.5*Math.pow(r,5));var n=this.renderer,i=n.canvas,u=n.context.gl;n.resize(e.ResizeMode.Stretch);var h=n.camera.position.x,f=n.camera.position.y;if(n.camera.position.set(i.width/2,i.height/2,0),n.camera.viewportWidth=i.width,n.camera.viewportHeight=i.height,!t)u.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),u.clear(u.COLOR_BUFFER_BIT),this.tempColor.a=1;else{if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>a.FADE_SECONDS){n.camera.position.set(h,f,0);return}r=1-this.fadeOut/a.FADE_SECONDS,this.tempColor.setFromColor(this.backgroundColor),this.tempColor.a=1-(r-1)*(r-1),n.begin(),n.quad(!0,0,0,i.width,0,i.width,i.height,0,i.height,this.tempColor,this.tempColor,this.tempColor,this.tempColor),n.end()}if(this.tempColor.set(1,1,1,this.tempColor.a),a.loaded==2){this.logo===null&&(this.logo=new e.GLTexture(n.context,a.logoImg),this.spinner=new e.GLTexture(n.context,a.spinnerImg)),this.logo.update(!1),this.spinner.update(!1);var c=this.logo.getImage().width,o=this.logo.getImage().height,l=this.spinner.getImage().width,p=this.spinner.getImage().height;n.batcher.setBlendMode(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),n.begin(),n.drawTexture(this.logo,(i.width-c)/2,(i.height-o)/2,c,o,this.tempColor),n.drawTextureRotated(this.spinner,(i.width-l)/2,(i.height-p)/2,l,p,l/2,p/2,this.angle,this.tempColor),n.end(),n.camera.position.set(h,f,0)}}},a.FADE_SECONDS=1,a.loaded=0,a.spinnerImg=null,a.logoImg=null,a.SPINNER_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmZDhlNTljMC02NGJjLTIxNGQtODAyZi1jZDlhODJjM2ZjMGMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmYmNmZWJlYS03MjY2LWE0NGQtOTI4NS0wOTJmNGNhYzk4ZWEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3YzYzYzIwLWJkYjgtYzM0YS1hYzMyLWQ5MDdjOWEyOTA0MCIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmQ4ZTU5YzAtNjRiYy0yMTRkLTgwMmYtY2Q5YTgyYzNmYzBjIiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0N2M2M2MyMC1iZGI4LWMzNGEtYWMzMi1kOTA3YzlhMjkwNDAiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+eG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2U8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7qS4aQAAAKZElEQVR42u2de4xVxR3HP8dd3rQryPKo4dGNbtVAQRa1YB93E1tTS7VYqCBiSWhsqGltSx+0xD60tKBorYnNkkBtFUt9xJaGNGlty6EqRAK1KlalshK2C8tzpcIigpz+MbPr5e5y987dM2fv4/tJbjC7v3P2+JvPnTMzZ85MEEURQhQClUpB7gRBAECUYiYwH6gDqoEKoA1oBDYCy4OQJgB92R3yq2S5yRilWASs6CZ0DzA5CNmn/ObOOUpB7kQpRgNLcwj9AHCnMiYZfXIT0C/H2DlRSs0gyeiPaQ6xg4FapUwy+mKUY/wwpUwy+uK4Y/xhpUwy+mKfY3yTUiYZfdHiENsahBxRyiSjL5odYncpXZLRJ3sdYhuVLslYKDKqZpSMBXObVs0oGQumA6OaUTL6Iwg5CBzNMXy7MiYZffNCDjH7g5DdSpVk9M36mGKEZOwxq4Fj3cT8UmmSjEm0Gw8At2UJaQhCtilTeeRWM5EdkmVfOwCIUtQBE4AqILC1ZQuwPgjpSKryWwgy1gfZfjsQ886IKFY2xO9N0jOR69srDOAtzCyYFuCUSrcg6AOcBIYCY4C3gVeT+uNJyvg94GPAxzFjcDuBl4C/AP+UBwXBR4AaYDYwDvgr8Drwi1KScRnwXfut6wNcYT+7Ma97LgX+JRd6jfOAucAXgCvTfl4DvAuMtJVJ0cu41IoYWRHTGWM/1TZmq/2fF8nR14r4U2BQF7+LgMW2k7bY54X4Htr5EvD99s5SlriPArcAY+VGsh1YYDpwMzAgSwy2svhWscpYA/wkx9gKm5S5wBA5kgjnAJcDX7NNpVxcWAZMLUYZJwHDHeKrgXnAdWjZlSS4BLgVuMzRlxt9eeNTxsG2veFyy7gQWAR8Sq54byfeYDssAx3LqLabJldBytgMHMjjuPHAQvTOsU++aJtE/fI4dpevTqZPGV+2veN8+DTwIHCBr29hmVJhJXwA+GAex7cBjxZjm7EFWAL8DfeX39s7NPOy9PKEO7XAV+k8xJYLrcDPgL8Xo4xgJqIuA7bkeXw9ZsBVxMMMYEqex64FfuO7e++bTcAPgD8Bpx2PvRSYKIdi61DOs3edXImAV4Cv2zJsKnYZ24B/AJ+xteRrwAmHBF4mj2JhEnCRg4QnrYh3YZ5NH/J9gUmP5zXYtsdsW+Pl8vffkEex8I5D7HHgGeBhe0dLhKRlbMJM298NXI8Z68rGk8AGeRQLu4DHMGOL2dgJPA78AXguyQvsjScdrTYp2zBDPzfbXl7mmNc64B7MFCbRc/bbfPYHrs343WnbZHsG+BXwZ8y65JS6jOnfwPuBg8BnMQtxjsWsh/0IsNJ2fkR8bAHutbfhG2x7vp9tDzZiFs5/Non2YaHJ2N6OWQf8BxiBeRx4EDPZ9nm544WNVsLtwFWYJ2Wh/fmO3ryw3noHpiv6YyZ5NsuXROhrRypeAv7nfHQJvAOTjbclYuJ3pWcL6YL03rSQjEJIRiEZhZCMQjIKIRmFZBRCMgrJKIRkFJJRCMkoJKMQklFIRiEkoxCSUUhGISSjkIxCSEYhGYWQjEIyCiEZhWQUQjIKySiEZBSSUQjJKCSjEAVCJUAQmCWPoxSjgZuAaZgF348D+zD7ADYDe+2nGWgJQg52dVJvSzOLgqHdmU5ln2IYZou9861Do+x/j8Ss2z7AOrQJWBOEZtetKIrMmt5BEBClWAQsxW3b16OY/QHXA6uD0GzpG0VRPmt6i2KSMeyQrxpYgNl4dCJmV7NcOQEsCULu6ZCR+mAmZiOannAMuC0IWS0Zy0PGKMUCzFZug3p4ullsiJ5obzPOj+H6BgGrohR1KqrSx5bzqhhE7PCvXcY4BZqgoioL4iznunQZq2M8cZXKqSyIs5yr02WsiPHEaiyWSbMxxnNVpMvYFuOJj6mcyoI4y7ktXcbGGE/conIqC+Is58Z0GTfGdNIGzJijKH3W2/KOg43pMi4n//2F92P2KJ4ShCwMQvT4pRwajCFRELIQmGLLf3+ep9pj/TvjCcwI4E5gDp1H0VsxO7k3Zvy7PQjZnXl2DXqXhYydiFKMAcYD44CajH+HZIQfBdYCtwch+854HJh2wkqgFhgGHAaagpAjLhcqGctTxqxOpKgCRgNDMXuK7whCTqU7U9khz3ucAv59xomUe9FVhePGEfs5q1eaQiYKBskoJKMQklFIRiEko5CMQkhGIRmFkIxCMgohGYVkFEIyCskohGQUklEIySiEZBSSUQjJKCSjEJJRSEYhJKOQjEJIRiEZhZCMQjIKIRmFZBSijGXMvIZ+KpZEaF8qeygwHOjb2xdUWQBJqQL6ADOBi4GHMGuGH5Iv3hiG2SJtIWaV4mZgB/AadF6jvVxkvAKzv3UdMNX+bDJm9fx10PV+1qLHIl4P3GLzfh3QBLwKbAZ+DJwuFxkDm5CZmN0Vzsv4/TTMyviVwGOYnRZEPAwBZgDfAC5K+/lo+5kKXAjcBzwPnCz1NuP77LfxO12I2M7FNmFXE+++huVOPfDNDBEz25FzgHuBa4Bzk8x/0jJeCiwCFmP2BsnGh4BbgYFyKDZmZRExnTpbGcywHZySuk0PsbeAG4HZDt+2C6yMb8mjWHgXs+NFd5v09Ac+AYzC7An0EPBKqdSM1wDfBqY7Vvubk263lDhPYHamypVa4MvAHUCq2GvGgcB8YAEwKQ/5nwa33blEVrYDLwJXOhxzLvBJzDhkK/BCMdaMA4C5wF2Y4RrXv7UF+KO9tYh42A08msfoRxVwLfBDYGwxyliLGUMclMexL9rOy075EyvvAKuBlcCbeTa3Pl+MMk7GbP/qyiHg18BWueOFNnu3ymeP8X62h11dbDKm7K3a9Zv7e+BJOeOVRmCNvQO5cgmdt4AueBkH5zCE0FWHpQH4r3zxzlPAw3kcdxg4VmwybnaMfx1YAWxTpyURjtj24wpHuZ7C0yNanzL+FnjZIX4lsEGOJEorcDewKcf4vTb+ZLHJuAeYBxzvJm4/8CPg58AJ+ZE4BzBDNk93k//jwOeAN4qxNw1m5sdV9jZwtlvv48ADujX3GpFtUt0OhPZnJzN63wdtOW7xeSFJPJvehBnBv8/2ricAp2wb8UHgETRvsRDYCiy3IrbPCWi0Mt4BPOf7AoIoivycub5TR/rDmBkjs4Df2fbHJjlQcLwfuNyW13rMXILOkyQ2REUtI5jnnG+mNRFOF3Gh1dlavgozhHUMaLEFGJWImBVnbT4VlYwlSBCYL1iUYgGw6ixhDUHIwo4GmfIrGX3JGKWotj3KbM/cpwQh2yRjYfWmS5EFdD/54ytKk2RMgukxxQjJ2GMm5hAzPEoxRqmSjN6IUgwj9xkr45UxyeiTkQ6x45QuyeiT8x1ia5QuyeiTUaoZJWMxyqiaUTIWzG1aNaNkLJgOzJAoRZVSJhl9McIxfrRSJhl94fq241ClTDL6Yq9jvCYNS0ZvuEwGPopZmlhIRi+sIfeXxtYGIaeUMsnohSCkCViSQ+gezAtOwiW/mvzpkKz3ZnrPxCz1V4dZd6YC8+JSI2YNm+VWXE2ulYyiGPk/nslB8d6ayMkAAAAASUVORK5CYII=",a.SPINE_LOGO_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMTdhZGQ3Ni04OTZlLThlNGUtYmM5MS00ZjEyNjI1YjA3MjgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDplMTViNGE2ZS1hMDg3LWEzNDktODdhOS1mNDYzYjE2MzQ0Y2MiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJlNjJiMWM2LWIxYzQtNDk0MC04MDMxLWU4ZDkyNTBmODJjNSIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDE3YWRkNzYtODk2ZS04ZTRlLWJjOTEtNGYxMjYyNWIwNzI4IiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyZTYyYjFjNi1iMWM0LTQ5NDAtODAzMS1lOGQ5MjUwZjgyYzUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+eG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2U8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5ayrctAAATYUlEQVR42u2dfVQV553Hv88AXq5uAAlJ0CBem912jQh60kZ8y0tdC5soJnoaXzC4Tdz4cjya1GN206Zqsu3Jpm6yeM5uTG3iaYGoJNFdEY3GaFGD0p4mqS9AXpoV0OZFUOHS3usFuc/+Idde8M7M8zr3gsw5HOCZZ2aemecz39/LPPMMMLAMLDG2kIFzjqmFDiDZP6AkN3gf0gEob8x2kj4MCx2AMnbb1BcVld6IwJJ+0oYb2YTT/gYq6WPHJP3gmtA+Biztr1CSKLevLytprCkh7ctQkj4KsK590hiGlsbSOcVCR5I+BC7pA6BEAzQaq1DqhFFH3Vg16TSG4KHRgNPpyFd1XdIHAyrdCkhjADgaTSiJw/VIP1BSp6GhUQSOOgmlkzASxSqq2zpQB+ClGiGlUb65tAUZOmDUAa5u5XRSgajibVRCR3VCSRyoQwSBE/EvYy3YkYGESuwrpuAkDgPJCg4RhFVUNUkMw6hK6agDcFInoSQxAqNqWHVdD6fUhQqUsfiaVCN41IlOUBEx88JIJCCU8T+tttOR6pEFUgRQXoCVrydRAJJw/G+2jig6llN+p0wnsZpYXsAoxzGognYzryeagBRRR8L5t4iCRsvflDHnIopINcCpGkzlUOoCkqWcKABdlznXZa5lTK7Z/6zlvMeXXqdTCVWoI696ygZN0YZSp/KxQCijmiJgUp3gyQBpVy4Kq4gPqhpWlQrCCxgPeLz70wqmyqcksgELS5kKQEWCIBn1FEn7qFBKKgmnajCloZQtlwWSZR0PoCJBkJMDMnT4iSxlsQCmFJQidVUASQS3ZSlXadqhWDVkTCoLiDKw8t40XOU6oFQBJMtvkSBJ1ITLqKaOgIbVF+y9jd3/omAqVUtViigTTfMAyKqqKnxOlWZcFEzVZjrSb11gaodSRiVVAikCo4hKyjzpkh3No8tf1AUmrxnXCmW0gSSCcIqki4hipbTqGNU+IwuMqsAUfSLVoywezi46gGSFU8Sk86bBKOd1oJzrwuuEQLIbBU8sfiPC37DYhuW8pEfex3NcQBUqyVrO+7edeZdNIfFCSi22oZwdSkzUk1jAaQcrGMA0O34kUJXAaAYl0aSMkRQMjODxAArGct6onPf68CgLbGCkNv4r4axrp4wwUUc7CAnDdkzXJ14SNFHVEQFNRjHtbg7ZoMfuOlHGDiG9/DPCCDgLjDBROFgon50ZV6mQ1/YVzwmgSniJhFryAMpybB4TLjJLRqTOZPUbZYIrwmiqZYC02lboXOIV0C3qm5nVZQGSSCiuaETOe5PygEg4AbXyM1lhJIxqqiWYUQklUaiShMGc2gFpBbDdcXl9StHXka38KVZ/i8V35DXzZibcClIWtRS90ZQpJa/ysZhtHiBV+pk8imm2TjTFwxsQWIHL42PaRd4iroW0ksZLKAFv5MoKbyQQVZl1mShc5LxYOo4Fxt4KyZPysXMhrOrwqKWyHGa8wiCHVSXtzDaxgYSA36xDEk4V5lvGpxRVIZb8pZ0Z571x7My6Up9S17SBhMGvjASfocCUi0TkvOaZMJh11vSPGVSEcT0s1JYyKKnu1BABQOMloeJ9ssMCg53phoKUkVDQs2MMcvNSsZICwfYufPZVB+o/86HxbAAXP/ah9Z2LuPSnAK5wqB1PLlIkmGEBkzVbwKuWolkE6ddXeYeb2akfEfwRTRnZRf89/r84Bf81NB73WtDQ+VUHKocfw1ob35J3QAXrYApq8X94edBmvVUZS9si/Qbr/wacWXgeN/LCCAHAQ+sNhvqhOiQOcNucZMKwQXh42XCkM95AELjZRFNjRCAPSxSmAbXlKXlNOlF0wj2WoqKi5Hnz5mdTGiQA8OCDDx4T6aiNGzeOufnmm5MBoKysrHbfvn3tVhf40hX8MSked1u1LUhx+e1mXGBIz1znC77xxtaJhmFQwzDo3LmPHBdJ6ezZs2cqIVf3UVt7unH16tWNsB4gwpItsPKdlSfTZd4EZH1MKKJkEX8WLfqnlPXr1/8oNTV1QQ8QgsG2pqamX+TkZG+OtP/y8jcn5efnb+nq6vKmpg7NfeONrZOmT5++3uVyZYTvp76+vjg3d8IWs2vy2DDcsunvUDrIQLrZBT3fgXduO4ZnrEx1aWlpbkHBrM0AkJyclFVZWZl3990TngpvT1dXl7e29vRLU6dOLTcxmT3+P3Hi5NLMzMwlhmEkh7fH7/cfraqqemHevLknTMy10yZci/mO2rR5GzZs2JaamrogGAy2Xbx4cWtTU9OLXq93r2EYyR6P52kLdQQAxMXFJR05cvSRGTNmvOZyuTJ8Pl+d1+utCa0fPXr0kydOnHzSzFRu+RLNM09j7qc+vHY5iIbe7Wu7gt8t+wwbGG9YAEBV1eHvT516z0uh9vj9/tpQW7Ozc54rL39zkt1Dh6+/Pl/h8XieNgwjORAInGpqanqxvb19TzAYbHO73VPz8vK2vfXW29kKUnuOLIZitYWFryjlq1RXV890uVxjAWD37oqFo0Z5fjR2bNYvRozIWLFx48b7zpw5s8EmqgYA5OTkrA8EAud2767452HD0ueOGJHxxLp16x7w+Xx1AODxeB5buXLlCDOf9d2L8H7rd3jFfQSzv/MBpjx7BrP/4yzmP1qP76W8j6U7m3HJzpoEg8Fr5ePHj1/n8/nqtmx5fe6wYemPpKffNreysnJxaP2999672sqi/eEPJ5YkJiZmAcDhw1WP3nrrLQVjx2Ztysi4ffmqVSunBAKBU4ZhJE+bNu1VDj81qosRZfVjyU0CABk6dGgmAHR2djYVFRWdCl+3du1Pzo0bl7PZDPxwCHw+X11R0aOPLFy4sCa0vrj4P8+9++7+jaE6P/jBY3NYgrTft8P3s0Y0rPkcn5R9jRaGtNR159zdnieeeuqpulBZYeGCmsbGxtcBwO12jzFT3Iceejh55MiRTwBAQ0PDzwsKCqrDj1NSUuL98MMPX+hW3pHvvXdwqoK+1jELs3KlVGHmbZPVgUBHGwAkJCRklpSUjBW9MB988PvXwwKaa3UWLVpUEwgEzgFAamrqnWYppZ+Owt8eHoeCfdmY/vYYTH43B9/76Nt4tP5uLHlrDCbyntd77x0oPnDggLd3nbNnz9aG/i4vf3NipG1XrFgxKeRD7tq1a2+k4+Tn570fDAbbAOD222/P5uwTJ9/41BJ9izaOKXVQXFxcWVxc/IxhGMmzZj20+5NPPn21vLx8+9q1Pzlrd/xwpWxtbfWawev3+//kcrkyUlJSJpi1618z8cs4guRIx/mmG34Aky2i0+si1bC29VgX1s4e7Q+vl5aWNiJUmJ2dnVlRUTGiWxUpAISi8M7OzqaQ66O4r7UM4HDyxTEpn+XXv/5V2/Tp/1CYn/+PryQkJGSmp6cvXbVq1dLFixdX19TUbJ49++Fjsvm1L774oqYbSMtcpOk6YrqOuwND6S7W/dx///0l6CdLfBQVkntZuHDhqfnz58/84Q9XP5iZmbkgMTExa8iQIZOnTZs2+fPP/2/7HXd8Y63uNrR04vitgzAt0rqvOnAADgyCjbScOXNmAyGEAoBhGNd+E4Jrqrl//77KGwlK6hSY27Zta922bdtWANsrKiomT5iQ+y+JiYlZaWlp83bs2LlvzpzZx0X3PXz48Nyr/utV3zLS8vgn+Onr3wK9ZRDuI93X7wpFW9Nl7J51GpsQpY+4jxuX8yqsHy9SxMAH5p1KCfGAq3R/BQUF1cuXLy8KOfKjRo3KipDQ7bGkpKQkmbXrpptuGg0AXq+33uyglRfQdtsxPJ15HJOL6pE/4xS+m3AY373jt3j59F/gtzn369oUUrXedQn5a3lYnR7n5fP5rvmdW7ZsyXKYHW1fVjMcbqjyLyjs2PF2W0dHx1nWHdx117cfz8vLS+q9r4MHD82Ji4tLAoDm5uY6WM/6gHMBdJZ+jfN7LqAVzn0cqceyb9871X/NZ9433+6GjCXwoqWUvJ1hCUFjY9O/19XVLSssLOwR+R469JsHQsnjy5cvtyHSY6swNRo8ePCdpaVl5WVlZbmhstLS0gnjx49fBVx9vPfssz/eEaFN17VrrQee34zDA59OwIrWKdjsvwf/uysL90TYhjKCyzPvOH3++efPtrS0bO+OxOedOHFyaaR9VldXz2hsbHpRQf9R8E05I8RFvNM+oY1Pavpik8vlykxJSSl85ZVNz7z00svvB4NBEhcXlxwG5OlJkyZuh/mLUSGTVzd48OA7Z84s+OX5883nuvd97Znz0aNH/u3gwYPeCBexRwDzq7/HXYvS8VrvE5mSjO8DOGzRCT0nc+oOTnp3bASzHrFD16xZs2HTpk1ZiYmJWR6P5+lLl1qXBAKBU6H1brd7Snh1sD2rjqqJNxw6sOzkobSqquoFv99/NHShhwwZMjkEZEtLy/Zly5YtMrubwzv40KFDL3/00UfPdXV1eV0uV0YIyEAgcK6iYtcTs2bN2m+iCD3KvuyAN1LDr1D8xSSwuFYW3p7m5mavHRQXLlxoM1FdunPnjtbly5cXNTQ0/DwYDLYZhpHsdrunhH6Aq4MyPv744yWM6kwZ1VFr7tDub7P/HR8lBIAUFRWlRBi2Fn6DXXec0CghAKisrFxcWLjgOABSVlY2MQRG92M+rhfHGnKxZmQiFgAgXRTeLzuwf+Vn+O//aUErg2ljnemMdZQOBUBLSkrGpqXdkhQCPz8/7wjYBveKjBLinenN1nIAoCpHnvNOEGD2zo0RATKrdbZvPJaXvzk5BOXevXsfnz9/Xg3jednlYsnEJAz5hhvuPRdwsfUKuhhUHzYdZjWvJAuwlBE8ltHoVnDa3UDCUKp8omM3QwPrdlb7sVuHSD5luLns/ttquhIzGCP6eMe9aD/uRTtnMAfoeSXCDkie9rGabuX+qFOPGSMFHdREgVjA6w0N7xt2PLNWUCur8ZwHnu8kYWTbFfiS4zHY3wX/nFr8llEZRGG0U1Fq4xebKR+PD6kN1mg80bEC1Awyq1dCbUG0UEpWv9sUrCcz8OOkePR4Xp79N7jr5J8RsIFSdo5yW//SQkV5VZIKmmKhaDxeEkKr90/AYM5Z1NIOFtuX4ktLS08TQhZRSklpaWkt+N+tNl28XfhjOJS+LtSf/DMuC4Aoo5i8QFKbDIFTSfbIT7M4Ah2WYEck+FH9Zh/AN+EVU6RtBuo3B2PQ1tGYlZYAT3sXvljXgMqdzWiTMN0qfEuegEVHlC38eq1IR7BOJgAOIKEATqt9mKWw7CJuFZPx83x+xA5Klq8+iAIJsL8kZrdOGso4zo5gnQhV9qsOVuMheYbYs3yvmmc9lagn+iUGarMPVsW0y5FSAUXXYuLjBXZMBLdhmU02UtBjFQzx+ps850EtoLfzpbnVgUN5VOQxWdVR9MtmUiki1Skhq3wiTIBkgRMCKR/CWM6bV+W581kHL7DkMXk+1sQKJK9VcWQEEq/5FjXhIsGF7Ddt7MDhufAqTBYFlHzuWORLYpRBSXnNtowvKaWULDN42W3D+hkNMOQhAfNEN8/stay5U5nv3/AGPLI5TFa/kgrUlb05uW7gOEF1UqWWdhOk8kS9Ks0uT3BDGbbn8Sl54VTla1qZZ542Sy9xnGkgcAAkOoMukQBT1L+TMfci7gGvOecxsSzmXTaYYTk/nuvODSVLmchH5cH5t+hMuyyjuFmdedFXGyij/waoiXhlHlOyHgsMbY5q9G3le/LOu83ywSHRNBXLY1GRtA9vwMPaqU59wVZFG6DoWkkppajS8XyHW8V3t4lEekP09VS7kTp2Ebmsvyli0kWyBSqsyHVlcYIAyviWsmASThhVBjY84wtZ9suaK5RJy4iaaNa8pVKVNINSRi11gSkSheu4o82UkAVmnhymKIgi0TnA/8hRNPKmqqHkVUsnwBR91Meqjiocd5ZASgQKFT4nT1DDA6TUdSOaymXAFEkniZp7FSOBdAU9LOkVqgBQp4BkLieKgLUqkzXvVuDx7EMEQl35URHoIAmODMAqFJIZyjjNKqriE8a8yXynAxsIdgRrp/KabxkYow6kjFKIqqjKZDnhvAFELYNO8w3Jjuc15yLmmjWoUQZlnIT5UgGmjGqyjLtUrXy6oGRRTl2QivqwrJaJG2KZ5DQvsKwmmccHZVVD2fSSLmXk6XxRSHgVU5U6iqqnFJSyYKqAU+QGiJVAh2oClUdhqeLjSgOpSjFkTbwOVRXNGEDB9aCSwFIFHa3DFZBRfi1Q6gBTFk4Rs63zGijrFIg/ylRt7lW3m6kOUagQqiJ5orFONKJtHR0ok/vUAaPKOrbRt2owZZVTJmhRDaKOYW26I1st06yoBFKmk4jD61UCShSfq1OdpTLgUDW6R8t87rqcfZ1BlMr6uq6Vjhf2owGvozDKmG9dyiQCeTSAiwXVdNIP1A2uls7QkYhW/fgzVgIeXVOe6ISFOnSOjjn+uuHsK5F2NM1hLG/jSGfpjoSdjLSJg7Cp7FjaR7ZzXEGcinBJDF8DnZ1Ho7wPrYNadHdINGCLdVMdrU6nMdimqHYgiaF2kn4IXJ8FMJY6iPRxsPqTksbc55ZJP2vHgOnuYwD2tU4k/eycaT891g0F5YDZ7qfQ3SidTAZgG4By4FwHgBtYBpYbZ/l/2EJnC9N0gaQAAAAASUVORK5CYII=",a}();e.LoadingScreen=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){e.M00=0,e.M01=4,e.M02=8,e.M03=12,e.M10=1,e.M11=5,e.M12=9,e.M13=13,e.M20=2,e.M21=6,e.M22=10,e.M23=14,e.M30=3,e.M31=7,e.M32=11,e.M33=15;var v=function(){function a(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[e.M00]=1,t[e.M11]=1,t[e.M22]=1,t[e.M33]=1}return a.prototype.set=function(t){return this.values.set(t),this},a.prototype.transpose=function(){var t=this.temp,r=this.values;return t[e.M00]=r[e.M00],t[e.M01]=r[e.M10],t[e.M02]=r[e.M20],t[e.M03]=r[e.M30],t[e.M10]=r[e.M01],t[e.M11]=r[e.M11],t[e.M12]=r[e.M21],t[e.M13]=r[e.M31],t[e.M20]=r[e.M02],t[e.M21]=r[e.M12],t[e.M22]=r[e.M22],t[e.M23]=r[e.M32],t[e.M30]=r[e.M03],t[e.M31]=r[e.M13],t[e.M32]=r[e.M23],t[e.M33]=r[e.M33],this.set(t)},a.prototype.identity=function(){var t=this.values;return t[e.M00]=1,t[e.M01]=0,t[e.M02]=0,t[e.M03]=0,t[e.M10]=0,t[e.M11]=1,t[e.M12]=0,t[e.M13]=0,t[e.M20]=0,t[e.M21]=0,t[e.M22]=1,t[e.M23]=0,t[e.M30]=0,t[e.M31]=0,t[e.M32]=0,t[e.M33]=1,this},a.prototype.invert=function(){var t=this.values,r=this.temp,n=t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33];if(n==0)throw new Error("non-invertible matrix");var i=1/n;return r[e.M00]=t[e.M12]*t[e.M23]*t[e.M31]-t[e.M13]*t[e.M22]*t[e.M31]+t[e.M13]*t[e.M21]*t[e.M32]-t[e.M11]*t[e.M23]*t[e.M32]-t[e.M12]*t[e.M21]*t[e.M33]+t[e.M11]*t[e.M22]*t[e.M33],r[e.M01]=t[e.M03]*t[e.M22]*t[e.M31]-t[e.M02]*t[e.M23]*t[e.M31]-t[e.M03]*t[e.M21]*t[e.M32]+t[e.M01]*t[e.M23]*t[e.M32]+t[e.M02]*t[e.M21]*t[e.M33]-t[e.M01]*t[e.M22]*t[e.M33],r[e.M02]=t[e.M02]*t[e.M13]*t[e.M31]-t[e.M03]*t[e.M12]*t[e.M31]+t[e.M03]*t[e.M11]*t[e.M32]-t[e.M01]*t[e.M13]*t[e.M32]-t[e.M02]*t[e.M11]*t[e.M33]+t[e.M01]*t[e.M12]*t[e.M33],r[e.M03]=t[e.M03]*t[e.M12]*t[e.M21]-t[e.M02]*t[e.M13]*t[e.M21]-t[e.M03]*t[e.M11]*t[e.M22]+t[e.M01]*t[e.M13]*t[e.M22]+t[e.M02]*t[e.M11]*t[e.M23]-t[e.M01]*t[e.M12]*t[e.M23],r[e.M10]=t[e.M13]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M20]*t[e.M32]+t[e.M10]*t[e.M23]*t[e.M32]+t[e.M12]*t[e.M20]*t[e.M33]-t[e.M10]*t[e.M22]*t[e.M33],r[e.M11]=t[e.M02]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M22]*t[e.M30]+t[e.M03]*t[e.M20]*t[e.M32]-t[e.M00]*t[e.M23]*t[e.M32]-t[e.M02]*t[e.M20]*t[e.M33]+t[e.M00]*t[e.M22]*t[e.M33],r[e.M12]=t[e.M03]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M10]*t[e.M32]+t[e.M00]*t[e.M13]*t[e.M32]+t[e.M02]*t[e.M10]*t[e.M33]-t[e.M00]*t[e.M12]*t[e.M33],r[e.M13]=t[e.M02]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M12]*t[e.M20]+t[e.M03]*t[e.M10]*t[e.M22]-t[e.M00]*t[e.M13]*t[e.M22]-t[e.M02]*t[e.M10]*t[e.M23]+t[e.M00]*t[e.M12]*t[e.M23],r[e.M20]=t[e.M11]*t[e.M23]*t[e.M30]-t[e.M13]*t[e.M21]*t[e.M30]+t[e.M13]*t[e.M20]*t[e.M31]-t[e.M10]*t[e.M23]*t[e.M31]-t[e.M11]*t[e.M20]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M33],r[e.M21]=t[e.M03]*t[e.M21]*t[e.M30]-t[e.M01]*t[e.M23]*t[e.M30]-t[e.M03]*t[e.M20]*t[e.M31]+t[e.M00]*t[e.M23]*t[e.M31]+t[e.M01]*t[e.M20]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M33],r[e.M22]=t[e.M01]*t[e.M13]*t[e.M30]-t[e.M03]*t[e.M11]*t[e.M30]+t[e.M03]*t[e.M10]*t[e.M31]-t[e.M00]*t[e.M13]*t[e.M31]-t[e.M01]*t[e.M10]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M33],r[e.M23]=t[e.M03]*t[e.M11]*t[e.M20]-t[e.M01]*t[e.M13]*t[e.M20]-t[e.M03]*t[e.M10]*t[e.M21]+t[e.M00]*t[e.M13]*t[e.M21]+t[e.M01]*t[e.M10]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M23],r[e.M30]=t[e.M12]*t[e.M21]*t[e.M30]-t[e.M11]*t[e.M22]*t[e.M30]-t[e.M12]*t[e.M20]*t[e.M31]+t[e.M10]*t[e.M22]*t[e.M31]+t[e.M11]*t[e.M20]*t[e.M32]-t[e.M10]*t[e.M21]*t[e.M32],r[e.M31]=t[e.M01]*t[e.M22]*t[e.M30]-t[e.M02]*t[e.M21]*t[e.M30]+t[e.M02]*t[e.M20]*t[e.M31]-t[e.M00]*t[e.M22]*t[e.M31]-t[e.M01]*t[e.M20]*t[e.M32]+t[e.M00]*t[e.M21]*t[e.M32],r[e.M32]=t[e.M02]*t[e.M11]*t[e.M30]-t[e.M01]*t[e.M12]*t[e.M30]-t[e.M02]*t[e.M10]*t[e.M31]+t[e.M00]*t[e.M12]*t[e.M31]+t[e.M01]*t[e.M10]*t[e.M32]-t[e.M00]*t[e.M11]*t[e.M32],r[e.M33]=t[e.M01]*t[e.M12]*t[e.M20]-t[e.M02]*t[e.M11]*t[e.M20]+t[e.M02]*t[e.M10]*t[e.M21]-t[e.M00]*t[e.M12]*t[e.M21]-t[e.M01]*t[e.M10]*t[e.M22]+t[e.M00]*t[e.M11]*t[e.M22],t[e.M00]=r[e.M00]*i,t[e.M01]=r[e.M01]*i,t[e.M02]=r[e.M02]*i,t[e.M03]=r[e.M03]*i,t[e.M10]=r[e.M10]*i,t[e.M11]=r[e.M11]*i,t[e.M12]=r[e.M12]*i,t[e.M13]=r[e.M13]*i,t[e.M20]=r[e.M20]*i,t[e.M21]=r[e.M21]*i,t[e.M22]=r[e.M22]*i,t[e.M23]=r[e.M23]*i,t[e.M30]=r[e.M30]*i,t[e.M31]=r[e.M31]*i,t[e.M32]=r[e.M32]*i,t[e.M33]=r[e.M33]*i,this},a.prototype.determinant=function(){var t=this.values;return t[e.M30]*t[e.M21]*t[e.M12]*t[e.M03]-t[e.M20]*t[e.M31]*t[e.M12]*t[e.M03]-t[e.M30]*t[e.M11]*t[e.M22]*t[e.M03]+t[e.M10]*t[e.M31]*t[e.M22]*t[e.M03]+t[e.M20]*t[e.M11]*t[e.M32]*t[e.M03]-t[e.M10]*t[e.M21]*t[e.M32]*t[e.M03]-t[e.M30]*t[e.M21]*t[e.M02]*t[e.M13]+t[e.M20]*t[e.M31]*t[e.M02]*t[e.M13]+t[e.M30]*t[e.M01]*t[e.M22]*t[e.M13]-t[e.M00]*t[e.M31]*t[e.M22]*t[e.M13]-t[e.M20]*t[e.M01]*t[e.M32]*t[e.M13]+t[e.M00]*t[e.M21]*t[e.M32]*t[e.M13]+t[e.M30]*t[e.M11]*t[e.M02]*t[e.M23]-t[e.M10]*t[e.M31]*t[e.M02]*t[e.M23]-t[e.M30]*t[e.M01]*t[e.M12]*t[e.M23]+t[e.M00]*t[e.M31]*t[e.M12]*t[e.M23]+t[e.M10]*t[e.M01]*t[e.M32]*t[e.M23]-t[e.M00]*t[e.M11]*t[e.M32]*t[e.M23]-t[e.M20]*t[e.M11]*t[e.M02]*t[e.M33]+t[e.M10]*t[e.M21]*t[e.M02]*t[e.M33]+t[e.M20]*t[e.M01]*t[e.M12]*t[e.M33]-t[e.M00]*t[e.M21]*t[e.M12]*t[e.M33]-t[e.M10]*t[e.M01]*t[e.M22]*t[e.M33]+t[e.M00]*t[e.M11]*t[e.M22]*t[e.M33]},a.prototype.translate=function(t,r,n){var i=this.values;return i[e.M03]+=t,i[e.M13]+=r,i[e.M23]+=n,this},a.prototype.copy=function(){return new a().set(this.values)},a.prototype.projection=function(t,r,n,i){this.identity();var u=1/Math.tan(n*(Math.PI/180)/2),h=(r+t)/(t-r),f=2*r*t/(t-r),c=this.values;return c[e.M00]=u/i,c[e.M10]=0,c[e.M20]=0,c[e.M30]=0,c[e.M01]=0,c[e.M11]=u,c[e.M21]=0,c[e.M31]=0,c[e.M02]=0,c[e.M12]=0,c[e.M22]=h,c[e.M32]=-1,c[e.M03]=0,c[e.M13]=0,c[e.M23]=f,c[e.M33]=0,this},a.prototype.ortho2d=function(t,r,n,i){return this.ortho(t,t+n,r,r+i,0,1)},a.prototype.ortho=function(t,r,n,i,u,h){this.identity();var f=2/(r-t),c=2/(i-n),o=-2/(h-u),l=-(r+t)/(r-t),p=-(i+n)/(i-n),d=-(h+u)/(h-u),m=this.values;return m[e.M00]=f,m[e.M10]=0,m[e.M20]=0,m[e.M30]=0,m[e.M01]=0,m[e.M11]=c,m[e.M21]=0,m[e.M31]=0,m[e.M02]=0,m[e.M12]=0,m[e.M22]=o,m[e.M32]=0,m[e.M03]=l,m[e.M13]=p,m[e.M23]=d,m[e.M33]=1,this},a.prototype.multiply=function(t){var r=this.temp,n=this.values,i=t.values;return r[e.M00]=n[e.M00]*i[e.M00]+n[e.M01]*i[e.M10]+n[e.M02]*i[e.M20]+n[e.M03]*i[e.M30],r[e.M01]=n[e.M00]*i[e.M01]+n[e.M01]*i[e.M11]+n[e.M02]*i[e.M21]+n[e.M03]*i[e.M31],r[e.M02]=n[e.M00]*i[e.M02]+n[e.M01]*i[e.M12]+n[e.M02]*i[e.M22]+n[e.M03]*i[e.M32],r[e.M03]=n[e.M00]*i[e.M03]+n[e.M01]*i[e.M13]+n[e.M02]*i[e.M23]+n[e.M03]*i[e.M33],r[e.M10]=n[e.M10]*i[e.M00]+n[e.M11]*i[e.M10]+n[e.M12]*i[e.M20]+n[e.M13]*i[e.M30],r[e.M11]=n[e.M10]*i[e.M01]+n[e.M11]*i[e.M11]+n[e.M12]*i[e.M21]+n[e.M13]*i[e.M31],r[e.M12]=n[e.M10]*i[e.M02]+n[e.M11]*i[e.M12]+n[e.M12]*i[e.M22]+n[e.M13]*i[e.M32],r[e.M13]=n[e.M10]*i[e.M03]+n[e.M11]*i[e.M13]+n[e.M12]*i[e.M23]+n[e.M13]*i[e.M33],r[e.M20]=n[e.M20]*i[e.M00]+n[e.M21]*i[e.M10]+n[e.M22]*i[e.M20]+n[e.M23]*i[e.M30],r[e.M21]=n[e.M20]*i[e.M01]+n[e.M21]*i[e.M11]+n[e.M22]*i[e.M21]+n[e.M23]*i[e.M31],r[e.M22]=n[e.M20]*i[e.M02]+n[e.M21]*i[e.M12]+n[e.M22]*i[e.M22]+n[e.M23]*i[e.M32],r[e.M23]=n[e.M20]*i[e.M03]+n[e.M21]*i[e.M13]+n[e.M22]*i[e.M23]+n[e.M23]*i[e.M33],r[e.M30]=n[e.M30]*i[e.M00]+n[e.M31]*i[e.M10]+n[e.M32]*i[e.M20]+n[e.M33]*i[e.M30],r[e.M31]=n[e.M30]*i[e.M01]+n[e.M31]*i[e.M11]+n[e.M32]*i[e.M21]+n[e.M33]*i[e.M31],r[e.M32]=n[e.M30]*i[e.M02]+n[e.M31]*i[e.M12]+n[e.M32]*i[e.M22]+n[e.M33]*i[e.M32],r[e.M33]=n[e.M30]*i[e.M03]+n[e.M31]*i[e.M13]+n[e.M32]*i[e.M23]+n[e.M33]*i[e.M33],this.set(this.temp)},a.prototype.multiplyLeft=function(t){var r=this.temp,n=this.values,i=t.values;return r[e.M00]=i[e.M00]*n[e.M00]+i[e.M01]*n[e.M10]+i[e.M02]*n[e.M20]+i[e.M03]*n[e.M30],r[e.M01]=i[e.M00]*n[e.M01]+i[e.M01]*n[e.M11]+i[e.M02]*n[e.M21]+i[e.M03]*n[e.M31],r[e.M02]=i[e.M00]*n[e.M02]+i[e.M01]*n[e.M12]+i[e.M02]*n[e.M22]+i[e.M03]*n[e.M32],r[e.M03]=i[e.M00]*n[e.M03]+i[e.M01]*n[e.M13]+i[e.M02]*n[e.M23]+i[e.M03]*n[e.M33],r[e.M10]=i[e.M10]*n[e.M00]+i[e.M11]*n[e.M10]+i[e.M12]*n[e.M20]+i[e.M13]*n[e.M30],r[e.M11]=i[e.M10]*n[e.M01]+i[e.M11]*n[e.M11]+i[e.M12]*n[e.M21]+i[e.M13]*n[e.M31],r[e.M12]=i[e.M10]*n[e.M02]+i[e.M11]*n[e.M12]+i[e.M12]*n[e.M22]+i[e.M13]*n[e.M32],r[e.M13]=i[e.M10]*n[e.M03]+i[e.M11]*n[e.M13]+i[e.M12]*n[e.M23]+i[e.M13]*n[e.M33],r[e.M20]=i[e.M20]*n[e.M00]+i[e.M21]*n[e.M10]+i[e.M22]*n[e.M20]+i[e.M23]*n[e.M30],r[e.M21]=i[e.M20]*n[e.M01]+i[e.M21]*n[e.M11]+i[e.M22]*n[e.M21]+i[e.M23]*n[e.M31],r[e.M22]=i[e.M20]*n[e.M02]+i[e.M21]*n[e.M12]+i[e.M22]*n[e.M22]+i[e.M23]*n[e.M32],r[e.M23]=i[e.M20]*n[e.M03]+i[e.M21]*n[e.M13]+i[e.M22]*n[e.M23]+i[e.M23]*n[e.M33],r[e.M30]=i[e.M30]*n[e.M00]+i[e.M31]*n[e.M10]+i[e.M32]*n[e.M20]+i[e.M33]*n[e.M30],r[e.M31]=i[e.M30]*n[e.M01]+i[e.M31]*n[e.M11]+i[e.M32]*n[e.M21]+i[e.M33]*n[e.M31],r[e.M32]=i[e.M30]*n[e.M02]+i[e.M31]*n[e.M12]+i[e.M32]*n[e.M22]+i[e.M33]*n[e.M32],r[e.M33]=i[e.M30]*n[e.M03]+i[e.M31]*n[e.M13]+i[e.M32]*n[e.M23]+i[e.M33]*n[e.M33],this.set(this.temp)},a.prototype.lookAt=function(t,r,n){a.initTemps();var i=a.xAxis,u=a.yAxis,h=a.zAxis;h.setFrom(r).normalize(),i.setFrom(r).normalize(),i.cross(n).normalize(),u.setFrom(i).cross(h).normalize(),this.identity();var f=this.values;return f[e.M00]=i.x,f[e.M01]=i.y,f[e.M02]=i.z,f[e.M10]=u.x,f[e.M11]=u.y,f[e.M12]=u.z,f[e.M20]=-h.x,f[e.M21]=-h.y,f[e.M22]=-h.z,a.tmpMatrix.identity(),a.tmpMatrix.values[e.M03]=-t.x,a.tmpMatrix.values[e.M13]=-t.y,a.tmpMatrix.values[e.M23]=-t.z,this.multiply(a.tmpMatrix),this},a.initTemps=function(){a.xAxis===null&&(a.xAxis=new e.Vector3),a.yAxis===null&&(a.yAxis=new e.Vector3),a.zAxis===null&&(a.zAxis=new e.Vector3)},a.xAxis=null,a.yAxis=null,a.zAxis=null,a.tmpMatrix=new a,a}();e.Matrix4=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function f(c,o,l,p){this.attributes=o,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=c instanceof e.ManagedWebGLRenderingContext?c:new e.ManagedWebGLRenderingContext(c),this.elementsPerVertex=0;for(var d=0;d<o.length;d++)this.elementsPerVertex+=o[d].numElements;this.vertices=new Float32Array(l*this.elementsPerVertex),this.indices=new Uint16Array(p),this.context.addRestorable(this)}return f.prototype.getAttributes=function(){return this.attributes},f.prototype.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},f.prototype.numVertices=function(){return this.verticesLength/this.elementsPerVertex},f.prototype.setVerticesLength=function(c){this.dirtyVertices=!0,this.verticesLength=c},f.prototype.getVertices=function(){return this.vertices},f.prototype.maxIndices=function(){return this.indices.length},f.prototype.numIndices=function(){return this.indicesLength},f.prototype.setIndicesLength=function(c){this.dirtyIndices=!0,this.indicesLength=c},f.prototype.getIndices=function(){return this.indices},f.prototype.getVertexSizeInFloats=function(){for(var c=0,o=0;o<this.attributes.length;o++){var l=this.attributes[o];c+=l.numElements}return c},f.prototype.setVertices=function(c){if(this.dirtyVertices=!0,c.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(c,0),this.verticesLength=c.length},f.prototype.setIndices=function(c){if(this.dirtyIndices=!0,c.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(c,0),this.indicesLength=c.length},f.prototype.draw=function(c,o){this.drawWithOffset(c,o,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)},f.prototype.drawWithOffset=function(c,o,l,p){var d=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(c),this.indicesLength>0?d.drawElements(o,p,d.UNSIGNED_SHORT,l*2):d.drawArrays(o,l,p),this.unbind(c)},f.prototype.bind=function(c){var o=this.context.gl;o.bindBuffer(o.ARRAY_BUFFER,this.verticesBuffer);for(var l=0,p=0;p<this.attributes.length;p++){var d=this.attributes[p],m=c.getAttributeLocation(d.name);o.enableVertexAttribArray(m),o.vertexAttribPointer(m,d.numElements,o.FLOAT,!1,this.elementsPerVertex*4,l*4),l+=d.numElements}this.indicesLength>0&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},f.prototype.unbind=function(c){for(var o=this.context.gl,l=0;l<this.attributes.length;l++){var p=this.attributes[l],d=c.getAttributeLocation(p.name);o.disableVertexAttribArray(d)}o.bindBuffer(o.ARRAY_BUFFER,null),this.indicesLength>0&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null)},f.prototype.update=function(){var c=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,this.verticesBuffer),c.bufferData(c.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),c.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=c.createBuffer()),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),c.DYNAMIC_DRAW),this.dirtyIndices=!1)},f.prototype.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},f.prototype.dispose=function(){this.context.removeRestorable(this);var c=this.context.gl;c.deleteBuffer(this.verticesBuffer),c.deleteBuffer(this.indicesBuffer)},f}();e.Mesh=v;var a=function(){function f(c,o,l){this.name=c,this.type=o,this.numElements=l}return f}();e.VertexAttribute=a;var t=function(f){rt(c,f);function c(){return f.call(this,e.Shader.POSITION,h.Float,2)||this}return c}(a);e.Position2Attribute=t;var r=function(f){rt(c,f);function c(){return f.call(this,e.Shader.POSITION,h.Float,3)||this}return c}(a);e.Position3Attribute=r;var n=function(f){rt(c,f);function c(o){return o===void 0&&(o=0),f.call(this,e.Shader.TEXCOORDS+(o==0?"":o),h.Float,2)||this}return c}(a);e.TexCoordAttribute=n;var i=function(f){rt(c,f);function c(){return f.call(this,e.Shader.COLOR,h.Float,4)||this}return c}(a);e.ColorAttribute=i;var u=function(f){rt(c,f);function c(){return f.call(this,e.Shader.COLOR2,h.Float,4)||this}return c}(a);e.Color2Attribute=u;var h;(function(f){f[f.Float=0]="Float"})(h=e.VertexAttributeType||(e.VertexAttributeType={}))})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function a(t,r,n){if(r===void 0&&(r=!0),n===void 0&&(n=10920),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t);var i=r?[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute,new e.Color2Attribute]:[new e.Position2Attribute,new e.ColorAttribute,new e.TexCoordAttribute];this.mesh=new e.Mesh(t,i,n,n*3),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return a.prototype.begin=function(t){var r=this.context.gl;if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=t,this.lastTexture=null,this.isDrawing=!0,r.enable(r.BLEND),r.blendFunc(this.srcBlend,this.dstBlend)},a.prototype.setBlendMode=function(t,r){var n=this.context.gl;this.srcBlend=t,this.dstBlend=r,this.isDrawing&&(this.flush(),n.blendFunc(this.srcBlend,this.dstBlend))},a.prototype.draw=function(t,r,n){t!=this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+r.length>this.mesh.getVertices().length||this.indicesLength+n.length>this.mesh.getIndices().length)&&this.flush();var i=this.mesh.numVertices();this.mesh.getVertices().set(r,this.verticesLength),this.verticesLength+=r.length,this.mesh.setVerticesLength(this.verticesLength);for(var u=this.mesh.getIndices(),h=this.indicesLength,f=0;f<n.length;h++,f++)u[h]=n[f]+i;this.indicesLength+=n.length,this.mesh.setIndicesLength(this.indicesLength)},a.prototype.flush=function(){var t=this.context.gl;this.verticesLength!=0&&(this.lastTexture.bind(),this.mesh.draw(this.shader,t.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)},a.prototype.end=function(){var t=this.context.gl;if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1,t.disable(t.BLEND)},a.prototype.getDrawCalls=function(){return this.drawCalls},a.prototype.dispose=function(){this.mesh.dispose()},a}();e.PolygonBatcher=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function t(r,n,i){i===void 0&&(i=!0),this.twoColorTint=!1,this.activeRenderer=null,this.QUAD=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],this.QUAD_TRIANGLES=[0,1,2,2,3,0],this.WHITE=new s.Color(1,1,1,1),this.canvas=r,this.context=n instanceof e.ManagedWebGLRenderingContext?n:new e.ManagedWebGLRenderingContext(n),this.twoColorTint=i,this.camera=new e.OrthoCamera(r.width,r.height),this.batcherShader=i?e.Shader.newTwoColoredTextured(this.context):e.Shader.newColoredTextured(this.context),this.batcher=new e.PolygonBatcher(this.context,i),this.shapesShader=e.Shader.newColored(this.context),this.shapes=new e.ShapeRenderer(this.context),this.skeletonRenderer=new e.SkeletonRenderer(this.context,i),this.skeletonDebugRenderer=new e.SkeletonDebugRenderer(this.context)}return t.prototype.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},t.prototype.drawSkeleton=function(r,n,i,u){n===void 0&&(n=!1),i===void 0&&(i=-1),u===void 0&&(u=-1),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=n,this.skeletonRenderer.draw(this.batcher,r,i,u)},t.prototype.drawSkeletonDebug=function(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=null),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=n,this.skeletonDebugRenderer.draw(this.shapes,r,i)},t.prototype.drawTexture=function(r,n,i,u,h,f){f===void 0&&(f=null),this.enableRenderer(this.batcher),f===null&&(f=this.WHITE);var c=this.QUAD,o=0;c[o++]=n,c[o++]=i,c[o++]=f.r,c[o++]=f.g,c[o++]=f.b,c[o++]=f.a,c[o++]=0,c[o++]=1,this.twoColorTint&&(c[o++]=0,c[o++]=0,c[o++]=0,c[o++]=0),c[o++]=n+u,c[o++]=i,c[o++]=f.r,c[o++]=f.g,c[o++]=f.b,c[o++]=f.a,c[o++]=1,c[o++]=1,this.twoColorTint&&(c[o++]=0,c[o++]=0,c[o++]=0,c[o++]=0),c[o++]=n+u,c[o++]=i+h,c[o++]=f.r,c[o++]=f.g,c[o++]=f.b,c[o++]=f.a,c[o++]=1,c[o++]=0,this.twoColorTint&&(c[o++]=0,c[o++]=0,c[o++]=0,c[o++]=0),c[o++]=n,c[o++]=i+h,c[o++]=f.r,c[o++]=f.g,c[o++]=f.b,c[o++]=f.a,c[o++]=0,c[o++]=0,this.twoColorTint&&(c[o++]=0,c[o++]=0,c[o++]=0,c[o++]=0),this.batcher.draw(r,c,this.QUAD_TRIANGLES)},t.prototype.drawTextureUV=function(r,n,i,u,h,f,c,o,l,p){p===void 0&&(p=null),this.enableRenderer(this.batcher),p===null&&(p=this.WHITE);var d=this.QUAD,m=0;d[m++]=n,d[m++]=i,d[m++]=p.r,d[m++]=p.g,d[m++]=p.b,d[m++]=p.a,d[m++]=f,d[m++]=c,this.twoColorTint&&(d[m++]=0,d[m++]=0,d[m++]=0,d[m++]=0),d[m++]=n+u,d[m++]=i,d[m++]=p.r,d[m++]=p.g,d[m++]=p.b,d[m++]=p.a,d[m++]=o,d[m++]=c,this.twoColorTint&&(d[m++]=0,d[m++]=0,d[m++]=0,d[m++]=0),d[m++]=n+u,d[m++]=i+h,d[m++]=p.r,d[m++]=p.g,d[m++]=p.b,d[m++]=p.a,d[m++]=o,d[m++]=l,this.twoColorTint&&(d[m++]=0,d[m++]=0,d[m++]=0,d[m++]=0),d[m++]=n,d[m++]=i+h,d[m++]=p.r,d[m++]=p.g,d[m++]=p.b,d[m++]=p.a,d[m++]=f,d[m++]=l,this.twoColorTint&&(d[m++]=0,d[m++]=0,d[m++]=0,d[m++]=0),this.batcher.draw(r,d,this.QUAD_TRIANGLES)},t.prototype.drawTextureRotated=function(r,n,i,u,h,f,c,o,l,p){l===void 0&&(l=null),this.enableRenderer(this.batcher),l===null&&(l=this.WHITE);var d=this.QUAD,m=n+f,g=i+c,y=-f,k=-c,S=u-f,T=h-c,x=y,M=k,A=y,L=T,R=S,F=T,I=S,_=k,N=0,w=0,C=0,E=0,V=0,D=0,H=0,Y=0;if(o!=0){var W=s.MathUtils.cosDeg(o),b=s.MathUtils.sinDeg(o);N=W*x-b*M,w=b*x+W*M,H=W*A-b*L,Y=b*A+W*L,V=W*R-b*F,D=b*R+W*F,C=V+(N-H),E=D+(w-Y)}else N=x,w=M,H=A,Y=L,V=R,D=F,C=I,E=_;N+=m,w+=g,C+=m,E+=g,V+=m,D+=g,H+=m,Y+=g;var U=0;d[U++]=N,d[U++]=w,d[U++]=l.r,d[U++]=l.g,d[U++]=l.b,d[U++]=l.a,d[U++]=0,d[U++]=1,this.twoColorTint&&(d[U++]=0,d[U++]=0,d[U++]=0,d[U++]=0),d[U++]=C,d[U++]=E,d[U++]=l.r,d[U++]=l.g,d[U++]=l.b,d[U++]=l.a,d[U++]=1,d[U++]=1,this.twoColorTint&&(d[U++]=0,d[U++]=0,d[U++]=0,d[U++]=0),d[U++]=V,d[U++]=D,d[U++]=l.r,d[U++]=l.g,d[U++]=l.b,d[U++]=l.a,d[U++]=1,d[U++]=0,this.twoColorTint&&(d[U++]=0,d[U++]=0,d[U++]=0,d[U++]=0),d[U++]=H,d[U++]=Y,d[U++]=l.r,d[U++]=l.g,d[U++]=l.b,d[U++]=l.a,d[U++]=0,d[U++]=0,this.twoColorTint&&(d[U++]=0,d[U++]=0,d[U++]=0,d[U++]=0),this.batcher.draw(r,d,this.QUAD_TRIANGLES)},t.prototype.drawRegion=function(r,n,i,u,h,f,c){f===void 0&&(f=null),this.enableRenderer(this.batcher),f===null&&(f=this.WHITE);var o=this.QUAD,l=0;o[l++]=n,o[l++]=i,o[l++]=f.r,o[l++]=f.g,o[l++]=f.b,o[l++]=f.a,o[l++]=r.u,o[l++]=r.v2,this.twoColorTint&&(o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0),o[l++]=n+u,o[l++]=i,o[l++]=f.r,o[l++]=f.g,o[l++]=f.b,o[l++]=f.a,o[l++]=r.u2,o[l++]=r.v2,this.twoColorTint&&(o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0),o[l++]=n+u,o[l++]=i+h,o[l++]=f.r,o[l++]=f.g,o[l++]=f.b,o[l++]=f.a,o[l++]=r.u2,o[l++]=r.v,this.twoColorTint&&(o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0),o[l++]=n,o[l++]=i+h,o[l++]=f.r,o[l++]=f.g,o[l++]=f.b,o[l++]=f.a,o[l++]=r.u,o[l++]=r.v,this.twoColorTint&&(o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0),this.batcher.draw(r.texture,o,this.QUAD_TRIANGLES)},t.prototype.line=function(r,n,i,u,h,f){h===void 0&&(h=null),this.enableRenderer(this.shapes),this.shapes.line(r,n,i,u,h)},t.prototype.triangle=function(r,n,i,u,h,f,c,o,l,p){o===void 0&&(o=null),l===void 0&&(l=null),p===void 0&&(p=null),this.enableRenderer(this.shapes),this.shapes.triangle(r,n,i,u,h,f,c,o,l,p)},t.prototype.quad=function(r,n,i,u,h,f,c,o,l,p,d,m,g){p===void 0&&(p=null),d===void 0&&(d=null),m===void 0&&(m=null),g===void 0&&(g=null),this.enableRenderer(this.shapes),this.shapes.quad(r,n,i,u,h,f,c,o,l,p,d,m,g)},t.prototype.rect=function(r,n,i,u,h,f){f===void 0&&(f=null),this.enableRenderer(this.shapes),this.shapes.rect(r,n,i,u,h,f)},t.prototype.rectLine=function(r,n,i,u,h,f,c){c===void 0&&(c=null),this.enableRenderer(this.shapes),this.shapes.rectLine(r,n,i,u,h,f,c)},t.prototype.polygon=function(r,n,i,u){u===void 0&&(u=null),this.enableRenderer(this.shapes),this.shapes.polygon(r,n,i,u)},t.prototype.circle=function(r,n,i,u,h,f){h===void 0&&(h=null),f===void 0&&(f=0),this.enableRenderer(this.shapes),this.shapes.circle(r,n,i,u,h,f)},t.prototype.curve=function(r,n,i,u,h,f,c,o,l,p){p===void 0&&(p=null),this.enableRenderer(this.shapes),this.shapes.curve(r,n,i,u,h,f,c,o,l,p)},t.prototype.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},t.prototype.resize=function(r){var n=this.canvas,i=n.clientWidth,u=n.clientHeight;let h=window.devicePixelRatio<=2?2:Math.ceil(window.devicePixelRatio);if((n.width!=i*h||n.height!=u*h)&&(n.width=i*h,n.height=u*h),this.context.gl.viewport(0,0,n.width,n.height),r!==a.Stretch){if(r===a.Expand)this.camera.setViewport(n.width,n.height);else if(r===a.Fit){var f=n.width,c=n.height,o=this.camera.viewportWidth,l=this.camera.viewportHeight,p=l/o,d=c/f,m=p<d?o/f:l/c;this.camera.viewportWidth=f*m,this.camera.viewportHeight=c*m}}this.camera.update()},t.prototype.enableRenderer=function(r){this.activeRenderer!==r&&(this.end(),r instanceof e.PolygonBatcher?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(e.Shader.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):r instanceof e.ShapeRenderer?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(e.Shader.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},t.prototype.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},t}();e.SceneRenderer=v;var a;(function(t){t[t.Stretch=0]="Stretch",t[t.Expand=1]="Expand",t[t.Fit=2]="Fit"})(a=e.ResizeMode||(e.ResizeMode={}))})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function a(t,r,n){this.vertexShader=r,this.fragmentShader=n,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vsSource=r,this.fsSource=n,this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t),this.context.addRestorable(this),this.compile()}return a.prototype.getProgram=function(){return this.program},a.prototype.getVertexShader=function(){return this.vertexShader},a.prototype.getFragmentShader=function(){return this.fragmentShader},a.prototype.getVertexShaderSource=function(){return this.vsSource},a.prototype.getFragmentSource=function(){return this.fsSource},a.prototype.compile=function(){var t=this.context.gl;try{this.vs=this.compileShader(t.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(t.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(r){throw this.dispose(),r}},a.prototype.compileShader=function(t,r){var n=this.context.gl,i=n.createShader(t);if(n.shaderSource(i,r),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS)){var u="Couldn't compile shader: "+n.getShaderInfoLog(i);if(n.deleteShader(i),!n.isContextLost())throw new Error(u)}return i},a.prototype.compileProgram=function(t,r){var n=this.context.gl,i=n.createProgram();if(n.attachShader(i,t),n.attachShader(i,r),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS)){var u="Couldn't compile shader program: "+n.getProgramInfoLog(i);if(n.deleteProgram(i),!n.isContextLost())throw new Error(u)}return i},a.prototype.restore=function(){this.compile()},a.prototype.bind=function(){this.context.gl.useProgram(this.program)},a.prototype.unbind=function(){this.context.gl.useProgram(null)},a.prototype.setUniformi=function(t,r){this.context.gl.uniform1i(this.getUniformLocation(t),r)},a.prototype.setUniformf=function(t,r){this.context.gl.uniform1f(this.getUniformLocation(t),r)},a.prototype.setUniform2f=function(t,r,n){this.context.gl.uniform2f(this.getUniformLocation(t),r,n)},a.prototype.setUniform3f=function(t,r,n,i){this.context.gl.uniform3f(this.getUniformLocation(t),r,n,i)},a.prototype.setUniform4f=function(t,r,n,i,u){this.context.gl.uniform4f(this.getUniformLocation(t),r,n,i,u)},a.prototype.setUniform2x2f=function(t,r){var n=this.context.gl;this.tmp2x2.set(r),n.uniformMatrix2fv(this.getUniformLocation(t),!1,this.tmp2x2)},a.prototype.setUniform3x3f=function(t,r){var n=this.context.gl;this.tmp3x3.set(r),n.uniformMatrix3fv(this.getUniformLocation(t),!1,this.tmp3x3)},a.prototype.setUniform4x4f=function(t,r){var n=this.context.gl;this.tmp4x4.set(r),n.uniformMatrix4fv(this.getUniformLocation(t),!1,this.tmp4x4)},a.prototype.getUniformLocation=function(t){var r=this.context.gl,n=r.getUniformLocation(this.program,t);if(!n&&!r.isContextLost())throw new Error("Couldn't find location for uniform ".concat(t));return n},a.prototype.getAttributeLocation=function(t){var r=this.context.gl,n=r.getAttribLocation(this.program,t);if(n==-1&&!r.isContextLost())throw new Error("Couldn't find location for attribute ".concat(t));return n},a.prototype.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;this.vs&&(t.deleteShader(this.vs),this.vs=null),this.fs&&(t.deleteShader(this.fs),this.fs=null),this.program&&(t.deleteProgram(this.program),this.program=null)},a.newColoredTextured=function(t){var r=`
				attribute vec4 `.concat(a.POSITION,`;
				attribute vec4 `).concat(a.COLOR,`;
				attribute vec2 `).concat(a.TEXCOORDS,`;
				uniform mat4 `).concat(a.MVP_MATRIX,`;
				varying vec4 v_color;
				varying vec2 v_texCoords;

				void main () {
					v_color = `).concat(a.COLOR,`;
					v_texCoords = `).concat(a.TEXCOORDS,`;
					gl_Position = `).concat(a.MVP_MATRIX," * ").concat(a.POSITION,`;
				}
			`),n=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					gl_FragColor = v_color * texture2D(u_texture, v_texCoords);
				}
			`;return new a(t,r,n)},a.newTwoColoredTextured=function(t){var r=`
				attribute vec4 `.concat(a.POSITION,`;
				attribute vec4 `).concat(a.COLOR,`;
				attribute vec4 `).concat(a.COLOR2,`;
				attribute vec2 `).concat(a.TEXCOORDS,`;
				uniform mat4 `).concat(a.MVP_MATRIX,`;
				varying vec4 v_light;
				varying vec4 v_dark;
				varying vec2 v_texCoords;

				void main () {
					v_light = `).concat(a.COLOR,`;
					v_dark = `).concat(a.COLOR2,`;
					v_texCoords = `).concat(a.TEXCOORDS,`;
					gl_Position = `).concat(a.MVP_MATRIX," * ").concat(a.POSITION,`;
				}
			`),n=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_light;
				varying LOWP vec4 v_dark;
				varying vec2 v_texCoords;
				uniform sampler2D u_texture;

				void main () {
					vec4 texColor = texture2D(u_texture, v_texCoords);
					gl_FragColor.a = texColor.a * v_light.a;
					gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;
				}
			`;return new a(t,r,n)},a.newColored=function(t){var r=`
				attribute vec4 `.concat(a.POSITION,`;
				attribute vec4 `).concat(a.COLOR,`;
				uniform mat4 `).concat(a.MVP_MATRIX,`;
				varying vec4 v_color;

				void main () {
					v_color = `).concat(a.COLOR,`;
					gl_Position = `).concat(a.MVP_MATRIX," * ").concat(a.POSITION,`;
				}
			`),n=`
				#ifdef GL_ES
					#define LOWP lowp
					precision mediump float;
				#else
					#define LOWP
				#endif
				varying LOWP vec4 v_color;

				void main () {
					gl_FragColor = v_color;
				}
			`;return new a(t,r,n)},a.MVP_MATRIX="u_projTrans",a.POSITION="a_position",a.COLOR="a_color",a.COLOR2="a_color2",a.TEXCOORDS="a_texCoords",a.SAMPLER="u_texture",a}();e.Shader=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function t(r,n){if(n===void 0&&(n=10920),this.isDrawing=!1,this.shapeType=a.Filled,this.color=new s.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new s.Vector2,n>10920)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=r instanceof e.ManagedWebGLRenderingContext?r:new e.ManagedWebGLRenderingContext(r),this.mesh=new e.Mesh(r,[new e.Position2Attribute,new e.ColorAttribute],n,0),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}return t.prototype.begin=function(r){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=r,this.vertexIndex=0,this.isDrawing=!0;var n=this.context.gl;n.enable(n.BLEND),n.blendFunc(this.srcBlend,this.dstBlend)},t.prototype.setBlendMode=function(r,n){var i=this.context.gl;this.srcBlend=r,this.dstBlend=n,this.isDrawing&&(this.flush(),i.blendFunc(this.srcBlend,this.dstBlend))},t.prototype.setColor=function(r){this.color.setFromColor(r)},t.prototype.setColorWith=function(r,n,i,u){this.color.set(r,n,i,u)},t.prototype.point=function(r,n,i){i===void 0&&(i=null),this.check(a.Point,1),i===null&&(i=this.color),this.vertex(r,n,i)},t.prototype.line=function(r,n,i,u,h){h===void 0&&(h=null),this.check(a.Line,2),this.mesh.getVertices(),this.vertexIndex,h===null&&(h=this.color),this.vertex(r,n,h),this.vertex(i,u,h)},t.prototype.triangle=function(r,n,i,u,h,f,c,o,l,p){o===void 0&&(o=null),l===void 0&&(l=null),p===void 0&&(p=null),this.check(r?a.Filled:a.Line,3),this.mesh.getVertices(),this.vertexIndex,o===null&&(o=this.color),l===null&&(l=this.color),p===null&&(p=this.color),r?(this.vertex(n,i,o),this.vertex(u,h,l),this.vertex(f,c,p)):(this.vertex(n,i,o),this.vertex(u,h,l),this.vertex(u,h,o),this.vertex(f,c,l),this.vertex(f,c,o),this.vertex(n,i,l))},t.prototype.quad=function(r,n,i,u,h,f,c,o,l,p,d,m,g){p===void 0&&(p=null),d===void 0&&(d=null),m===void 0&&(m=null),g===void 0&&(g=null),this.check(r?a.Filled:a.Line,3),this.mesh.getVertices(),this.vertexIndex,p===null&&(p=this.color),d===null&&(d=this.color),m===null&&(m=this.color),g===null&&(g=this.color),r?(this.vertex(n,i,p),this.vertex(u,h,d),this.vertex(f,c,m),this.vertex(f,c,m),this.vertex(o,l,g),this.vertex(n,i,p)):(this.vertex(n,i,p),this.vertex(u,h,d),this.vertex(u,h,d),this.vertex(f,c,m),this.vertex(f,c,m),this.vertex(o,l,g),this.vertex(o,l,g),this.vertex(n,i,p))},t.prototype.rect=function(r,n,i,u,h,f){f===void 0&&(f=null),this.quad(r,n,i,n+u,i,n+u,i+h,n,i+h,f,f,f,f)},t.prototype.rectLine=function(r,n,i,u,h,f,c){c===void 0&&(c=null),this.check(r?a.Filled:a.Line,8),c===null&&(c=this.color);var o=this.tmp.set(h-i,n-u);o.normalize(),f*=.5;var l=o.x*f,p=o.y*f;r?(this.vertex(n+l,i+p,c),this.vertex(n-l,i-p,c),this.vertex(u+l,h+p,c),this.vertex(u-l,h-p,c),this.vertex(u+l,h+p,c),this.vertex(n-l,i-p,c)):(this.vertex(n+l,i+p,c),this.vertex(n-l,i-p,c),this.vertex(u+l,h+p,c),this.vertex(u-l,h-p,c),this.vertex(u+l,h+p,c),this.vertex(n+l,i+p,c),this.vertex(u-l,h-p,c),this.vertex(n-l,i-p,c))},t.prototype.x=function(r,n,i){this.line(r-i,n-i,r+i,n+i),this.line(r-i,n+i,r+i,n-i)},t.prototype.polygon=function(r,n,i,u){if(u===void 0&&(u=null),i<3)throw new Error("Polygon must contain at least 3 vertices");this.check(a.Line,i*2),u===null&&(u=this.color),this.mesh.getVertices(),this.vertexIndex,n<<=1,i<<=1;for(var h=r[n],f=r[n+1],c=n+i,o=n,l=n+i-2;o<l;o+=2){var p=r[o],d=r[o+1],m=0,g=0;o+2>=c?(m=h,g=f):(m=r[o+2],g=r[o+3]),this.vertex(p,d,u),this.vertex(m,g,u)}},t.prototype.circle=function(r,n,i,u,h,f){if(h===void 0&&(h=null),f===void 0&&(f=0),f===0&&(f=Math.max(1,6*s.MathUtils.cbrt(u)|0)),f<=0)throw new Error("segments must be > 0.");h===null&&(h=this.color);var c=2*s.MathUtils.PI/f,o=Math.cos(c),l=Math.sin(c),p=u,d=0;if(r){this.check(a.Filled,f*3+3),f--;for(var m=0;m<f;m++){this.vertex(n,i,h),this.vertex(n+p,i+d,h);var y=p;p=o*p-l*d,d=l*y+o*d,this.vertex(n+p,i+d,h)}this.vertex(n,i,h),this.vertex(n+p,i+d,h)}else{this.check(a.Line,f*2+2);for(var m=0;m<f;m++){this.vertex(n+p,i+d,h);var g=p;p=o*p-l*d,d=l*g+o*d,this.vertex(n+p,i+d,h)}this.vertex(n+p,i+d,h)}p=u,d=0,this.vertex(n+p,i+d,h)},t.prototype.curve=function(r,n,i,u,h,f,c,o,l,p){p===void 0&&(p=null),this.check(a.Line,l*2+2),p===null&&(p=this.color);for(var d=1/l,m=d*d,g=d*d*d,y=3*d,k=3*m,S=6*m,T=6*g,x=r-i*2+h,M=n-u*2+f,A=(i-h)*3-r+c,L=(u-f)*3-n+o,R=r,F=n,I=(i-r)*y+x*k+A*g,_=(u-n)*y+M*k+L*g,N=x*S+A*T,w=M*S+L*T,C=A*T,E=L*T;l-- >0;)this.vertex(R,F,p),R+=I,F+=_,I+=N,_+=w,N+=C,w+=E,this.vertex(R,F,p);this.vertex(R,F,p),this.vertex(c,o,p)},t.prototype.vertex=function(r,n,i){var u=this.vertexIndex,h=this.mesh.getVertices();h[u++]=r,h[u++]=n,h[u++]=i.r,h[u++]=i.g,h[u++]=i.b,h[u++]=i.a,this.vertexIndex=u},t.prototype.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush(),this.context.gl.disable(this.context.gl.BLEND),this.isDrawing=!1},t.prototype.flush=function(){this.vertexIndex!=0&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)},t.prototype.check=function(r,n){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==r)if(this.mesh.maxVertices()-this.mesh.numVertices()<n)this.flush();else return;else this.flush(),this.shapeType=r},t.prototype.dispose=function(){this.mesh.dispose()},t}();e.ShapeRenderer=v;var a;(function(t){t[t.Point=0]="Point",t[t.Line=1]="Line",t[t.Filled=4]="Filled"})(a=e.ShapeType||(e.ShapeType={}))})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function a(t){this.boneLineColor=new s.Color(1,0,0,1),this.boneOriginColor=new s.Color(0,1,0,1),this.attachmentLineColor=new s.Color(0,0,1,.5),this.triangleLineColor=new s.Color(1,.64,0,.5),this.pathColor=new s.Color().setFromString("FF7F00"),this.clipColor=new s.Color(.8,0,0,2),this.aabbColor=new s.Color(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.bounds=new s.SkeletonBounds,this.temp=new Array,this.vertices=s.Utils.newFloatArray(2048),this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t)}return a.prototype.draw=function(t,r,n){n===void 0&&(n=null);var i=r.x,u=r.y,h=this.context.gl,f=this.premultipliedAlpha?h.ONE:h.SRC_ALPHA;t.setBlendMode(f,h.ONE_MINUS_SRC_ALPHA);var c=r.bones;if(this.drawBones){t.setColor(this.boneLineColor);for(var o=0,l=c.length;o<l;o++){var p=c[o];if(!(n&&n.indexOf(p.data.name)>-1)&&p.parent!=null){var d=i+p.data.length*p.a+p.worldX,m=u+p.data.length*p.c+p.worldY;t.rectLine(!0,i+p.worldX,u+p.worldY,d,m,this.boneWidth*this.scale)}}this.drawSkeletonXY&&t.x(i,u,4*this.scale)}if(this.drawRegionAttachments){t.setColor(this.attachmentLineColor);for(var g=r.slots,o=0,l=g.length;o<l;o++){var y=g[o],k=y.getAttachment();if(k instanceof s.RegionAttachment){var S=k,T=this.vertices;S.computeWorldVertices(y.bone,T,0,2),t.line(T[0],T[1],T[2],T[3]),t.line(T[2],T[3],T[4],T[5]),t.line(T[4],T[5],T[6],T[7]),t.line(T[6],T[7],T[0],T[1])}}}if(this.drawMeshHull||this.drawMeshTriangles)for(var g=r.slots,o=0,l=g.length;o<l;o++){var y=g[o];if(y.bone.active){var k=y.getAttachment();if(k instanceof s.MeshAttachment){var x=k,T=this.vertices;x.computeWorldVertices(y,0,x.worldVerticesLength,T,0,2);var M=x.triangles,A=x.hullLength;if(this.drawMeshTriangles){t.setColor(this.triangleLineColor);for(var L=0,R=M.length;L<R;L+=3){var F=M[L]*2,I=M[L+1]*2,_=M[L+2]*2;t.triangle(!1,T[F],T[F+1],T[I],T[I+1],T[_],T[_+1])}}if(this.drawMeshHull&&A>0){t.setColor(this.attachmentLineColor),A=(A>>1)*2;for(var N=T[A-2],w=T[A-1],L=0,R=A;L<R;L+=2){var d=T[L],m=T[L+1];t.line(d,m,N,w),N=d,w=m}}}}}if(this.drawBoundingBoxes){var C=this.bounds;C.update(r,!0),t.setColor(this.aabbColor),t.rect(!1,C.minX,C.minY,C.getWidth(),C.getHeight());for(var E=C.polygons,V=C.boundingBoxes,o=0,l=E.length;o<l;o++){var D=E[o];t.setColor(V[o].color),t.polygon(D,0,D.length)}}if(this.drawPaths)for(var g=r.slots,o=0,l=g.length;o<l;o++){var y=g[o];if(y.bone.active){var k=y.getAttachment();if(k instanceof s.PathAttachment){var H=k,R=H.worldVerticesLength,Y=this.temp=s.Utils.setArraySize(this.temp,R,0);H.computeWorldVertices(y,0,R,Y,0,2);var W=this.pathColor,b=Y[2],U=Y[3],O=0,P=0;if(H.closed){t.setColor(W);var G=Y[0],z=Y[1],X=Y[R-2],J=Y[R-1];O=Y[R-4],P=Y[R-3],t.curve(b,U,G,z,X,J,O,P,32),t.setColor(a.LIGHT_GRAY),t.line(b,U,G,z),t.line(O,P,X,J)}R-=4;for(var L=4;L<R;L+=6){var G=Y[L],z=Y[L+1],X=Y[L+2],J=Y[L+3];O=Y[L+4],P=Y[L+5],t.setColor(W),t.curve(b,U,G,z,X,J,O,P,32),t.setColor(a.LIGHT_GRAY),t.line(b,U,G,z),t.line(O,P,X,J),b=O,U=P}}}}if(this.drawBones){t.setColor(this.boneOriginColor);for(var o=0,l=c.length;o<l;o++){var p=c[o];n&&n.indexOf(p.data.name)>-1||t.circle(!0,i+p.worldX,u+p.worldY,3*this.scale,a.GREEN,8)}}if(this.drawClipping){var g=r.slots;t.setColor(this.clipColor);for(var o=0,l=g.length;o<l;o++){var y=g[o];if(y.bone.active){var k=y.getAttachment();if(k instanceof s.ClippingAttachment){var Q=k,R=Q.worldVerticesLength,Y=this.temp=s.Utils.setArraySize(this.temp,R,0);Q.computeWorldVertices(y,0,R,Y,0,2);for(var nt=0,K=Y.length;nt<K;nt+=2){var d=Y[nt],m=Y[nt+1],O=Y[(nt+2)%Y.length],P=Y[(nt+3)%Y.length];t.line(d,m,O,P)}}}}}},a.prototype.dispose=function(){},a.LIGHT_GRAY=new s.Color(.7529411764705882,.7529411764705882,.7529411764705882,1),a.GREEN=new s.Color(0,1,0,1),a}();e.SkeletonDebugRenderer=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function t(r,n,i){this.vertices=r,this.numVertices=n,this.numFloats=i}return t}(),a=function(){function t(r,n){n===void 0&&(n=!0),this.premultipliedAlpha=!1,this.vertexEffect=null,this.tempColor=new s.Color,this.tempColor2=new s.Color,this.vertexSize=8,this.twoColorTint=!1,this.renderable=new v(null,0,0),this.clipper=new s.SkeletonClipping,this.temp=new s.Vector2,this.temp2=new s.Vector2,this.temp3=new s.Color,this.temp4=new s.Color,this.twoColorTint=n,n&&(this.vertexSize+=4),this.vertices=s.Utils.newFloatArray(this.vertexSize*1024)}return t.prototype.draw=function(r,n,i,u){i===void 0&&(i=-1),u===void 0&&(u=-1);var h=this.clipper,f=this.premultipliedAlpha,c=this.twoColorTint,o=null,l=this.temp,p=this.temp2,d=this.temp3,m=this.temp4,g=this.renderable,y=null,k=null,S=n.drawOrder,T=null,x=n.color,M=c?12:8,A=!1;i==-1&&(A=!0);for(var L=0,R=S.length;L<R;L++){var F=h.isClipping()?2:M,I=S[L];if(!I.bone.active){h.clipEndWithSlot(I);continue}if(i>=0&&i==I.data.index&&(A=!0),!A){h.clipEndWithSlot(I);continue}u>=0&&u==I.data.index&&(A=!1);var _=I.getAttachment(),N=null;if(_ instanceof s.RegionAttachment){var w=_;g.vertices=this.vertices,g.numVertices=4,g.numFloats=F<<2,w.computeWorldVertices(I.bone,g.vertices,0,F),k=t.QUAD_TRIANGLES,y=w.uvs,N=w.region.renderObject.texture,T=w.color}else if(_ instanceof s.MeshAttachment){var C=_;g.vertices=this.vertices,g.numVertices=C.worldVerticesLength>>1,g.numFloats=g.numVertices*F,g.numFloats>g.vertices.length&&(g.vertices=this.vertices=s.Utils.newFloatArray(g.numFloats)),C.computeWorldVertices(I,0,C.worldVerticesLength,g.vertices,0,F),k=C.triangles,N=C.region.renderObject.texture,y=C.uvs,T=C.color}else if(_ instanceof s.ClippingAttachment){var E=_;h.clipStart(I,E);continue}else{h.clipEndWithSlot(I);continue}if(N!=null){var V=I.color,D=this.tempColor;D.r=x.r*V.r*T.r,D.g=x.g*V.g*T.g,D.b=x.b*V.b*T.b,D.a=x.a*V.a*T.a,f&&(D.r*=D.a,D.g*=D.a,D.b*=D.a);var H=this.tempColor2;I.darkColor==null?H.set(0,0,0,1):(f?(H.r=I.darkColor.r*D.a,H.g=I.darkColor.g*D.a,H.b=I.darkColor.b*D.a):H.setFromColor(I.darkColor),H.a=f?1:0);var Y=I.data.blendMode;if(Y!=o&&(o=Y,r.setBlendMode(e.WebGLBlendModeConverter.getSourceGLBlendMode(o,f),e.WebGLBlendModeConverter.getDestGLBlendMode(o))),h.isClipping()){h.clipTriangles(g.vertices,g.numFloats,k,k.length,y,D,H,c);var W=new Float32Array(h.clippedVertices),b=h.clippedTriangles;if(this.vertexEffect!=null){var U=this.vertexEffect,O=W;if(c)for(var P=0,z=W.length;P<z;P+=M)l.x=O[P],l.y=O[P+1],d.set(O[P+2],O[P+3],O[P+4],O[P+5]),p.x=O[P+6],p.y=O[P+7],m.set(O[P+8],O[P+9],O[P+10],O[P+11]),U.transform(l,p,d,m),O[P]=l.x,O[P+1]=l.y,O[P+2]=d.r,O[P+3]=d.g,O[P+4]=d.b,O[P+5]=d.a,O[P+6]=p.x,O[P+7]=p.y,O[P+8]=m.r,O[P+9]=m.g,O[P+10]=m.b,O[P+11]=m.a;else for(var P=0,G=W.length;P<G;P+=M)l.x=O[P],l.y=O[P+1],d.set(O[P+2],O[P+3],O[P+4],O[P+5]),p.x=O[P+6],p.y=O[P+7],m.set(0,0,0,0),U.transform(l,p,d,m),O[P]=l.x,O[P+1]=l.y,O[P+2]=d.r,O[P+3]=d.g,O[P+4]=d.b,O[P+5]=d.a,O[P+6]=p.x,O[P+7]=p.y}r.draw(N,W,b)}else{var O=g.vertices;if(this.vertexEffect!=null){var U=this.vertexEffect;if(c)for(var P=0,X=0,Q=g.numFloats;P<Q;P+=M,X+=2)l.x=O[P],l.y=O[P+1],p.x=y[X],p.y=y[X+1],d.setFromColor(D),m.setFromColor(H),U.transform(l,p,d,m),O[P]=l.x,O[P+1]=l.y,O[P+2]=d.r,O[P+3]=d.g,O[P+4]=d.b,O[P+5]=d.a,O[P+6]=p.x,O[P+7]=p.y,O[P+8]=m.r,O[P+9]=m.g,O[P+10]=m.b,O[P+11]=m.a;else for(var P=0,X=0,J=g.numFloats;P<J;P+=M,X+=2)l.x=O[P],l.y=O[P+1],p.x=y[X],p.y=y[X+1],d.setFromColor(D),m.set(0,0,0,0),U.transform(l,p,d,m),O[P]=l.x,O[P+1]=l.y,O[P+2]=d.r,O[P+3]=d.g,O[P+4]=d.b,O[P+5]=d.a,O[P+6]=p.x,O[P+7]=p.y}else if(c)for(var P=2,X=0,K=g.numFloats;P<K;P+=M,X+=2)O[P]=D.r,O[P+1]=D.g,O[P+2]=D.b,O[P+3]=D.a,O[P+4]=y[X],O[P+5]=y[X+1],O[P+6]=H.r,O[P+7]=H.g,O[P+8]=H.b,O[P+9]=H.a;else for(var P=2,X=0,nt=g.numFloats;P<nt;P+=M,X+=2)O[P]=D.r,O[P+1]=D.g,O[P+2]=D.b,O[P+3]=D.a,O[P+4]=y[X],O[P+5]=y[X+1];var ht=g.vertices.subarray(0,g.numFloats);r.draw(N,ht,k)}}h.clipEndWithSlot(I)}h.clipEnd()},t.QUAD_TRIANGLES=[0,1,2,2,3,0],t}();e.SkeletonRenderer=a})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function a(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=0,this.y=0,this.z=0,this.x=t,this.y=r,this.z=n}return a.prototype.setFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},a.prototype.set=function(t,r,n){return this.x=t,this.y=r,this.z=n,this},a.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},a.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},a.prototype.scale=function(t){return this.x*=t,this.y*=t,this.z*=t,this},a.prototype.normalize=function(){var t=this.length();return t==0?this:(t=1/t,this.x*=t,this.y*=t,this.z*=t,this)},a.prototype.cross=function(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},a.prototype.multiply=function(t){var r=t.values;return this.set(this.x*r[e.M00]+this.y*r[e.M01]+this.z*r[e.M02]+r[e.M03],this.x*r[e.M10]+this.y*r[e.M11]+this.z*r[e.M12]+r[e.M13],this.x*r[e.M20]+this.y*r[e.M21]+this.z*r[e.M22]+r[e.M23])},a.prototype.project=function(t){var r=t.values,n=1/(this.x*r[e.M30]+this.y*r[e.M31]+this.z*r[e.M32]+r[e.M33]);return this.set((this.x*r[e.M00]+this.y*r[e.M01]+this.z*r[e.M02]+r[e.M03])*n,(this.x*r[e.M10]+this.y*r[e.M11]+this.z*r[e.M12]+r[e.M13])*n,(this.x*r[e.M20]+this.y*r[e.M21]+this.z*r[e.M22]+r[e.M23])*n)},a.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},a.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},a.prototype.distance=function(t){var r=t.x-this.x,n=t.y-this.y,i=t.z-this.z;return Math.sqrt(r*r+n*n+i*i)},a}();e.Vector3=v})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){(function(e){var v=function(){function t(r,n){n===void 0&&(n={alpha:"true"}),this.restorables=new Array,r instanceof WebGLRenderingContext||r instanceof WebGL2RenderingContext?(this.gl=r,this.canvas=this.gl.canvas):this.setupCanvas(r,n)}return t.prototype.setupCanvas=function(r,n){var i=this;this.gl=r.getContext("webgl2",n)||r.getContext("webgl",n),this.canvas=r,r.addEventListener("webglcontextlost",function(u){u&&u.preventDefault()}),r.addEventListener("webglcontextrestored",function(u){for(var h=0,f=i.restorables.length;h<f;h++)i.restorables[h].restore()})},t.prototype.addRestorable=function(r){this.restorables.push(r)},t.prototype.removeRestorable=function(r){var n=this.restorables.indexOf(r);n>-1&&this.restorables.splice(n,1)},t}();e.ManagedWebGLRenderingContext=v;var a=function(){function t(){}return t.getDestGLBlendMode=function(r){switch(r){case s.BlendMode.Normal:return t.ONE_MINUS_SRC_ALPHA;case s.BlendMode.Additive:return t.ONE;case s.BlendMode.Multiply:return t.ONE_MINUS_SRC_ALPHA;case s.BlendMode.Screen:return t.ONE_MINUS_SRC_ALPHA;default:throw new Error("Unknown blend mode: "+r)}},t.getSourceGLBlendMode=function(r,n){switch(n===void 0&&(n=!1),r){case s.BlendMode.Normal:return n?t.ONE:t.SRC_ALPHA;case s.BlendMode.Additive:return n?t.ONE:t.SRC_ALPHA;case s.BlendMode.Multiply:return t.DST_COLOR;case s.BlendMode.Screen:return t.ONE;default:throw new Error("Unknown blend mode: "+r)}},t.ZERO=0,t.ONE=1,t.SRC_COLOR=768,t.ONE_MINUS_SRC_COLOR=769,t.SRC_ALPHA=770,t.ONE_MINUS_SRC_ALPHA=771,t.DST_ALPHA=772,t.ONE_MINUS_DST_ALPHA=773,t.DST_COLOR=774,t}();e.WebGLBlendModeConverter=a})(s.webgl||(s.webgl={}))})(B||(B={}));var B;(function(s){var e=function(){function c(o,l,p){this.player=o,this.dom=u(`
				<div class="spine-player-popup spine-player-hidden">
				</div>
			`),this.dom.innerHTML=p,l.appendChild(this.dom)}return c.prototype.show=function(o){var l=this;this.dom.classList.remove("spine-player-hidden");var p=!1,d=function(){p||requestAnimationFrame(d);var y=Math.abs(l.dom.getBoundingClientRect().bottom-l.player.getBoundingClientRect().bottom),k=Math.abs(l.dom.getBoundingClientRect().right-l.player.getBoundingClientRect().right),S=l.player.clientHeight-y-k;l.dom.style.maxHeight=S+"px"};requestAnimationFrame(d);var m=!0,g=function(y){if(m){m=!1;return}r(l.dom,y.target)||(l.dom.remove(),window.removeEventListener("click",g),o(),p=!0)};window.addEventListener("click",g)},c}(),v=function(){function c(o){this.text=o,this.enabled=!1}return c.prototype.render=function(){var o=this;return this.switch=u(`
				<div class="spine-player-switch">
					<span class="spine-player-switch-text">`.concat(this.text,`</span>
					<div class="spine-player-switch-knob-area">
						<div class="spine-player-switch-knob"></div>
					</div>
				</div>
			`)),this.switch.addEventListener("click",function(){o.setEnabled(!o.enabled),o.change&&o.change(o.enabled)}),this.switch},c.prototype.setEnabled=function(o){o?this.switch.classList.add("active"):this.switch.classList.remove("active"),this.enabled=o},c.prototype.isEnabled=function(){return this.enabled},c}(),a=function(){function c(o,l,p){o===void 0&&(o=0),l===void 0&&(l=.1),p===void 0&&(p=!1),this.snaps=o,this.snapPercentage=l,this.big=p}return c.prototype.render=function(){var o=this;this.slider=u(`
				<div class="spine-player-slider `.concat(this.big?"big":"",`">
					<div class="spine-player-slider-value"></div>
					<!--<div class="spine-player-slider-knob"></div>-->
				</div>
			`)),this.value=i(this.slider,"spine-player-slider-value")[0],this.setValue(0);var l=new s.webgl.Input(this.slider),p=!1;return l.addListener({down:function(d,m){p=!0,o.value.classList.add("hovering")},up:function(d,m){p=!1;var g=d/o.slider.clientWidth;g=g=Math.max(0,Math.min(g,1)),o.setValue(d/o.slider.clientWidth),o.change&&o.change(g),o.value.classList.remove("hovering")},moved:function(d,m){if(p){var g=d/o.slider.clientWidth;g=Math.max(0,Math.min(g,1)),g=o.setValue(d/o.slider.clientWidth),o.change&&o.change(g)}},dragged:function(d,m){var g=d/o.slider.clientWidth;g=Math.max(0,Math.min(g,1)),g=o.setValue(d/o.slider.clientWidth),o.change&&o.change(g)}}),this.slider},c.prototype.setValue=function(o){if(o=Math.max(0,Math.min(1,o)),this.snaps>0){var l=o%(1/this.snaps);l<1/this.snaps*this.snapPercentage?o=o-l:l>1/this.snaps-1/this.snaps*this.snapPercentage&&(o=o-l+1/this.snaps),o=Math.max(0,Math.min(1,o))}return this.value.style.width=""+o*100+"%",o},c}(),t=function(){function c(o,l){this.config=l,this.paused=!0,this.playTime=0,this.speed=1,this.time=new s.TimeKeeper,this.animationViewports={},this.currentViewport=null,this.previousViewport=null,this.viewportTransitionStart=0,this.stopRequestAnimationFrame=!1,this.cancelId=0,typeof o=="string"?this.parent=document.getElementById(o):this.parent=o,this.parent.appendChild(this.render())}return c.prototype.validateConfig=function(o){if(!o)throw new Error("Please pass a configuration to new.spine.SpinePlayer().");if(!o.jsonUrl&&!o.skelUrl)throw new Error("Please specify the URL of the skeleton JSON or .skel file.");if(!o.atlasUrl)throw new Error("Please specify the URL of the atlas file.");if(o.alpha||(o.alpha=!1),o.backgroundColor||(o.backgroundColor="#000000"),o.fullScreenBackgroundColor||(o.fullScreenBackgroundColor=o.backgroundColor),typeof o.premultipliedAlpha>"u"&&(o.premultipliedAlpha=!0),o.success||(o.success=function(l){}),o.error||(o.error=function(l,p){}),o.debug||(o.debug={bones:!1,regions:!1,meshes:!1,bounds:!1,clipping:!1,paths:!1,points:!1,hulls:!1}),typeof o.debug.bones>"u"&&(o.debug.bones=!1),typeof o.debug.bounds>"u"&&(o.debug.bounds=!1),typeof o.debug.clipping>"u"&&(o.debug.clipping=!1),typeof o.debug.hulls>"u"&&(o.debug.hulls=!1),typeof o.debug.paths>"u"&&(o.debug.paths=!1),typeof o.debug.points>"u"&&(o.debug.points=!1),typeof o.debug.regions>"u"&&(o.debug.regions=!1),typeof o.debug.meshes>"u"&&(o.debug.meshes=!1),o.animations&&o.animation&&o.animations.indexOf(o.animation)<0)throw new Error("Default animation '"+o.animation+"' is not contained in the list of selectable animations "+f(JSON.stringify(this.config.animations))+".");if(o.skins&&o.skin&&o.skins.indexOf(o.skin)<0)throw new Error("Default skin '"+o.skin+"' is not contained in the list of selectable skins "+f(JSON.stringify(this.config.skins))+".");return o.controlBones||(o.controlBones=[]),typeof o.showControls>"u"&&(o.showControls=!0),typeof o.defaultMix>"u"&&(o.defaultMix=.25),o},c.prototype.showError=function(o){var l=i(this.dom,"spine-player-error")[0];l.classList.remove("spine-player-hidden"),l.innerHTML='<p style="text-align: center; align-self: center;">'.concat(o,"</p>"),this.config.error(this,o)},c.prototype.render=function(){var o=this,l=this.config,p=this.dom=u(`
				<div class="spine-player">
					<canvas class="spine-player-canvas"></canvas>
					<div class="spine-player-error spine-player-hidden"></div>
					<div class="spine-player-controls spine-player-popup-parent spine-player-controls-hidden">
						<div class="spine-player-timeline">
						</div>
						<div class="spine-player-buttons">
							<button id="spine-player-button-play-pause" class="spine-player-button spine-player-button-icon-pause"></button>
							<div class="spine-player-button-spacer"></div>
							<button id="spine-player-button-speed" class="spine-player-button spine-player-button-icon-speed"></button>
							<button id="spine-player-button-animation" class="spine-player-button spine-player-button-icon-animations"></button>
							<button id="spine-player-button-skin" class="spine-player-button spine-player-button-icon-skins"></button>
							<button id="spine-player-button-settings" class="spine-player-button spine-player-button-icon-settings"></button>
							<button id="spine-player-button-fullscreen" class="spine-player-button spine-player-button-icon-fullscreen"></button>
							<img id="spine-player-button-logo" class="spine-player-button-icon-spine-logo" src="data:image/svg+xml,%3Csvg%20id%3D%22Spine_Logo%22%20data-name%3D%22Spine%20Logo%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20104%2031.16%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3A%23fff%3B%7D.cls-2%7Bfill%3A%23ff4000%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Espine-logo-white%3C%2Ftitle%3E%3Cpath%20id%3D%22e%22%20class%3D%22cls-1%22%20d%3D%22M104%2C12.68a1.31%2C1.31%2C0%2C0%2C1-.37%2C1%2C1.28%2C1.28%2C0%2C0%2C1-.85.31H91.57a10.51%2C10.51%2C0%2C0%2C0%2C.29%2C2.55%2C4.92%2C4.92%2C0%2C0%2C0%2C1%2C2A4.27%2C4.27%2C0%2C0%2C0%2C94.5%2C19.8a6.89%2C6.89%2C0%2C0%2C0%2C2.6.44%2C10.66%2C10.66%2C0%2C0%2C0%2C2.17-.2%2C12.81%2C12.81%2C0%2C0%2C0%2C1.64-.44q.69-.25%2C1.14-.44a1.87%2C1.87%2C0%2C0%2C1%2C.68-.2A.44.44%2C0%2C0%2C1%2C103%2C19a.43.43%2C0%2C0%2C1%2C.16.2%2C1.38%2C1.38%2C0%2C0%2C1%2C.09.37%2C4.89%2C4.89%2C0%2C0%2C1%2C0%2C.58%2C4.14%2C4.14%2C0%2C0%2C1%2C0%2C.43v.32a.83.83%2C0%2C0%2C1-.09.26%2C1.1%2C1.1%2C0%2C0%2C1-.17.22%2C2.77%2C2.77%2C0%2C0%2C1-.61.34%2C8.94%2C8.94%2C0%2C0%2C1-1.32.46%2C18.54%2C18.54%2C0%2C0%2C1-1.88.41%2C13.78%2C13.78%2C0%2C0%2C1-2.28.18%2C10.55%2C10.55%2C0%2C0%2C1-3.68-.59%2C6.82%2C6.82%2C0%2C0%2C1-2.66-1.74%2C7.44%2C7.44%2C0%2C0%2C1-1.63-2.89%2C13.48%2C13.48%2C0%2C0%2C1-.55-4%2C12.76%2C12.76%2C0%2C0%2C1%2C.57-3.94%2C8.35%2C8.35%2C0%2C0%2C1%2C1.64-3%2C7.15%2C7.15%2C0%2C0%2C1%2C2.58-1.87%2C8.47%2C8.47%2C0%2C0%2C1%2C3.39-.65%2C8.19%2C8.19%2C0%2C0%2C1%2C3.41.64%2C6.46%2C6.46%2C0%2C0%2C1%2C2.32%2C1.73A7%2C7%2C0%2C0%2C1%2C103.59%2C9a11.17%2C11.17%2C0%2C0%2C1%2C.43%2C3.13Zm-3.14-.93a5.69%2C5.69%2C0%2C0%2C0-1.09-3.86%2C4.17%2C4.17%2C0%2C0%2C0-3.42-1.4%2C4.52%2C4.52%2C0%2C0%2C0-2%2C.44%2C4.41%2C4.41%2C0%2C0%2C0-1.47%2C1.15A5.29%2C5.29%2C0%2C0%2C0%2C92%2C9.75a7%2C7%2C0%2C0%2C0-.36%2C2Z%22%2F%3E%3Cpath%20id%3D%22n%22%20class%3D%22cls-1%22%20d%3D%22M80.68%2C21.94a.42.42%2C0%2C0%2C1-.08.26.59.59%2C0%2C0%2C1-.25.18%2C1.74%2C1.74%2C0%2C0%2C1-.47.11%2C6.31%2C6.31%2C0%2C0%2C1-.76%2C0%2C6.5%2C6.5%2C0%2C0%2C1-.78%2C0%2C1.74%2C1.74%2C0%2C0%2C1-.47-.11.59.59%2C0%2C0%2C1-.25-.18.42.42%2C0%2C0%2C1-.08-.26V12a9.8%2C9.8%2C0%2C0%2C0-.23-2.35%2C4.86%2C4.86%2C0%2C0%2C0-.66-1.53%2C2.88%2C2.88%2C0%2C0%2C0-1.13-1%2C3.57%2C3.57%2C0%2C0%2C0-1.6-.34%2C4%2C4%2C0%2C0%2C0-2.35.83A12.71%2C12.71%2C0%2C0%2C0%2C69.11%2C10v11.9a.42.42%2C0%2C0%2C1-.08.26.59.59%2C0%2C0%2C1-.25.18%2C1.74%2C1.74%2C0%2C0%2C1-.47.11%2C6.51%2C6.51%2C0%2C0%2C1-.78%2C0%2C6.31%2C6.31%2C0%2C0%2C1-.76%2C0%2C1.88%2C1.88%2C0%2C0%2C1-.48-.11.52.52%2C0%2C0%2C1-.25-.18.46.46%2C0%2C0%2C1-.07-.26v-17A.53.53%2C0%2C0%2C1%2C66%2C4.69a.5.5%2C0%2C0%2C1%2C.23-.19%2C1.28%2C1.28%2C0%2C0%2C1%2C.44-.11%2C8.53%2C8.53%2C0%2C0%2C1%2C1.39%2C0%2C1.12%2C1.12%2C0%2C0%2C1%2C.43.11.6.6%2C0%2C0%2C1%2C.22.19.47.47%2C0%2C0%2C1%2C.07.26V7.2a10.46%2C10.46%2C0%2C0%2C1%2C2.87-2.36%2C6.17%2C6.17%2C0%2C0%2C1%2C2.88-.75%2C6.41%2C6.41%2C0%2C0%2C1%2C2.87.58%2C5.16%2C5.16%2C0%2C0%2C1%2C1.88%2C1.54%2C6.15%2C6.15%2C0%2C0%2C1%2C1%2C2.26%2C13.46%2C13.46%2C0%2C0%2C1%2C.31%2C3.11Z%22%2F%3E%3Cg%20id%3D%22i%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M43.35%2C2.86c.09%2C2.6%2C1.89%2C4%2C5.48%2C4.61%2C3%2C.48%2C5.79.24%2C6.69-2.37%2C1.75-5.09-2.4-3.82-6-4.39S43.21-1.32%2C43.35%2C2.86Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M44.43%2C13.55c.33%2C1.94%2C2.14%2C3.06%2C4.91%2C3s4.84-1.16%2C5.13-3.25c.53-3.88-2.53-2.38-5.3-2.3S43.77%2C9.74%2C44.43%2C13.55Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M48%2C22.44c.55%2C1.45%2C2.06%2C2.06%2C4.1%2C1.63s3.45-1.11%2C3.33-2.76c-.21-3.06-2.22-2.1-4.26-1.66S47%2C19.6%2C48%2C22.44Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M49.78%2C29.22c.16%2C1.22%2C1.22%2C2%2C2.88%2C1.93s2.92-.67%2C3.13-2c.4-2.43-1.46-1.53-3.12-1.51S49.5%2C26.82%2C49.78%2C29.22Z%22%2F%3E%3C%2Fg%3E%3Cpath%20id%3D%22p%22%20class%3D%22cls-1%22%20d%3D%22M35.28%2C13.16a15.33%2C15.33%2C0%2C0%2C1-.48%2C4%2C8.75%2C8.75%2C0%2C0%2C1-1.42%2C3%2C6.35%2C6.35%2C0%2C0%2C1-2.32%2C1.91%2C7.14%2C7.14%2C0%2C0%2C1-3.16.67%2C6.1%2C6.1%2C0%2C0%2C1-1.4-.15%2C5.34%2C5.34%2C0%2C0%2C1-1.26-.47A7.29%2C7.29%2C0%2C0%2C1%2C24%2C21.31q-.61-.49-1.29-1.15v8.51a.47.47%2C0%2C0%2C1-.08.26.56.56%2C0%2C0%2C1-.25.19%2C1.74%2C1.74%2C0%2C0%2C1-.47.11%2C6.47%2C6.47%2C0%2C0%2C1-.78%2C0%2C6.26%2C6.26%2C0%2C0%2C1-.76%2C0%2C1.89%2C1.89%2C0%2C0%2C1-.48-.11.49.49%2C0%2C0%2C1-.25-.19.51.51%2C0%2C0%2C1-.07-.26V4.91a.57.57%2C0%2C0%2C1%2C.06-.27.46.46%2C0%2C0%2C1%2C.23-.18%2C1.47%2C1.47%2C0%2C0%2C1%2C.44-.1%2C7.41%2C7.41%2C0%2C0%2C1%2C1.3%2C0%2C1.45%2C1.45%2C0%2C0%2C1%2C.43.1.52.52%2C0%2C0%2C1%2C.24.18.51.51%2C0%2C0%2C1%2C.07.27V7.2a18.06%2C18.06%2C0%2C0%2C1%2C1.49-1.38%2C9%2C9%2C0%2C0%2C1%2C1.45-1%2C6.82%2C6.82%2C0%2C0%2C1%2C1.49-.59%2C7.09%2C7.09%2C0%2C0%2C1%2C4.78.52%2C6%2C6%2C0%2C0%2C1%2C2.13%2C2%2C8.79%2C8.79%2C0%2C0%2C1%2C1.2%2C2.9A15.72%2C15.72%2C0%2C0%2C1%2C35.28%2C13.16ZM32%2C13.52a15.64%2C15.64%2C0%2C0%2C0-.2-2.53%2C7.32%2C7.32%2C0%2C0%2C0-.69-2.17%2C4.06%2C4.06%2C0%2C0%2C0-1.3-1.51%2C3.49%2C3.49%2C0%2C0%2C0-2-.57%2C4.1%2C4.1%2C0%2C0%2C0-1.2.18%2C4.92%2C4.92%2C0%2C0%2C0-1.2.57%2C8.54%2C8.54%2C0%2C0%2C0-1.28%2C1A15.77%2C15.77%2C0%2C0%2C0%2C22.76%2C10v6.77a13.53%2C13.53%2C0%2C0%2C0%2C2.46%2C2.4%2C4.12%2C4.12%2C0%2C0%2C0%2C2.44.83%2C3.56%2C3.56%2C0%2C0%2C0%2C2-.57A4.28%2C4.28%2C0%2C0%2C0%2C31%2C18a7.58%2C7.58%2C0%2C0%2C0%2C.77-2.12A11.43%2C11.43%2C0%2C0%2C0%2C32%2C13.52Z%22%2F%3E%3Cpath%20id%3D%22s%22%20class%3D%22cls-1%22%20d%3D%22M12%2C17.3a5.39%2C5.39%2C0%2C0%2C1-.48%2C2.33%2C4.73%2C4.73%2C0%2C0%2C1-1.37%2C1.72%2C6.19%2C6.19%2C0%2C0%2C1-2.12%2C1.06%2C9.62%2C9.62%2C0%2C0%2C1-2.71.36%2C10.38%2C10.38%2C0%2C0%2C1-3.21-.5%2C7.63%2C7.63%2C0%2C0%2C1-1.11-.45%2C3.25%2C3.25%2C0%2C0%2C1-.66-.43%2C1.09%2C1.09%2C0%2C0%2C1-.3-.53A3.59%2C3.59%2C0%2C0%2C1%2C0%2C19.93a4.06%2C4.06%2C0%2C0%2C1%2C0-.61%2C2%2C2%2C0%2C0%2C1%2C.09-.4.42.42%2C0%2C0%2C1%2C.16-.22.43.43%2C0%2C0%2C1%2C.24-.07%2C1.35%2C1.35%2C0%2C0%2C1%2C.61.26q.41.26%2C1%2C.56A9.22%2C9.22%2C0%2C0%2C0%2C3.51%2C20a6.25%2C6.25%2C0%2C0%2C0%2C1.87.26%2C5.62%2C5.62%2C0%2C0%2C0%2C1.44-.17%2C3.48%2C3.48%2C0%2C0%2C0%2C1.12-.5%2C2.23%2C2.23%2C0%2C0%2C0%2C.73-.84%2C2.68%2C2.68%2C0%2C0%2C0%2C.26-1.21%2C2%2C2%2C0%2C0%2C0-.37-1.21%2C3.55%2C3.55%2C0%2C0%2C0-1-.87A8.09%2C8.09%2C0%2C0%2C0%2C6.2%2C14.8l-1.56-.61a16%2C16%2C0%2C0%2C1-1.57-.73%2C6%2C6%2C0%2C0%2C1-1.37-1%2C4.52%2C4.52%2C0%2C0%2C1-1-1.4%2C4.69%2C4.69%2C0%2C0%2C1-.37-2A4.88%2C4.88%2C0%2C0%2C1%2C.72%2C7.19%2C4.46%2C4.46%2C0%2C0%2C1%2C1.88%2C5.58%2C5.83%2C5.83%2C0%2C0%2C1%2C3.82%2C4.47%2C8.06%2C8.06%2C0%2C0%2C1%2C6.53%2C4a8.28%2C8.28%2C0%2C0%2C1%2C1.36.11%2C9.36%2C9.36%2C0%2C0%2C1%2C1.23.28%2C5.92%2C5.92%2C0%2C0%2C1%2C.94.37%2C4.09%2C4.09%2C0%2C0%2C1%2C.59.35%2C1%2C1%2C0%2C0%2C1%2C.26.26.83.83%2C0%2C0%2C1%2C.09.26%2C1.32%2C1.32%2C0%2C0%2C0%2C.06.35%2C3.87%2C3.87%2C0%2C0%2C1%2C0%2C.51%2C4.76%2C4.76%2C0%2C0%2C1%2C0%2C.56%2C1.39%2C1.39%2C0%2C0%2C1-.09.39.5.5%2C0%2C0%2C1-.16.22.35.35%2C0%2C0%2C1-.21.07%2C1%2C1%2C0%2C0%2C1-.49-.21%2C7%2C7%2C0%2C0%2C0-.83-.44%2C9.26%2C9.26%2C0%2C0%2C0-1.2-.44A5.49%2C5.49%2C0%2C0%2C0%2C6.5%2C6.48a4.93%2C4.93%2C0%2C0%2C0-1.4.18%2C2.69%2C2.69%2C0%2C0%2C0-1%2C.51A2.16%2C2.16%2C0%2C0%2C0%2C3.51%2C8a2.43%2C2.43%2C0%2C0%2C0-.2%2C1%2C2%2C2%2C0%2C0%2C0%2C.38%2C1.24%2C3.6%2C3.6%2C0%2C0%2C0%2C1%2C.88%2C8.25%2C8.25%2C0%2C0%2C0%2C1.38.68l1.58.62q.8.32%2C1.59.72a6%2C6%2C0%2C0%2C1%2C1.39%2C1%2C4.37%2C4.37%2C0%2C0%2C1%2C1%2C1.36A4.46%2C4.46%2C0%2C0%2C1%2C12%2C17.3Z%22%2F%3E%3C%2Fsvg%3E"/>
						</div>
					</div>
				</div>
			`);try{this.config=this.validateConfig(l)}catch(I){return this.showError(I),p}try{this.canvas=i(p,"spine-player-canvas")[0];var d={alpha:l.alpha};this.context=new s.webgl.ManagedWebGLRenderingContext(this.canvas,d),this.sceneRenderer=new s.webgl.SceneRenderer(this.canvas,this.context,!0),this.loadingScreen=new s.webgl.LoadingScreen(this.sceneRenderer)}catch{return this.showError("Sorry, your browser does not support WebGL.<br><br>Please use the latest version of Firefox, Chrome, Edge, or Safari."),p}if(this.assetManager=new s.webgl.AssetManager(this.context),l.rawDataURIs)for(var m in l.rawDataURIs){var g=l.rawDataURIs[m];this.assetManager.setRawDataURI(m,g)}l.jsonUrl?this.assetManager.loadText(l.jsonUrl):this.assetManager.loadBinary(l.skelUrl),this.assetManager.loadTextureAtlas(l.atlasUrl),l.backgroundImage&&l.backgroundImage.url&&this.assetManager.loadTexture(l.backgroundImage.url),requestAnimationFrame(function(){return o.drawFrame()}),this.playerControls=i(p,"spine-player-controls")[0];var y=i(p,"spine-player-timeline")[0];this.timelineSlider=new a,y.appendChild(this.timelineSlider.render()),this.playButton=n(p,"spine-player-button-play-pause")[0];var k=n(p,"spine-player-button-speed")[0];this.animationButton=n(p,"spine-player-button-animation")[0],this.skinButton=n(p,"spine-player-button-skin")[0];var S=n(p,"spine-player-button-settings")[0],T=n(p,"spine-player-button-fullscreen")[0],x=n(p,"spine-player-button-logo")[0];this.playButton.onclick=function(){o.paused?o.play():o.pause()},k.onclick=function(){o.showSpeedDialog(k)},this.animationButton.onclick=function(){o.showAnimationsDialog(o.animationButton)},this.skinButton.onclick=function(){o.showSkinsDialog(o.skinButton)},S.onclick=function(){o.showSettingsDialog(S)};var M=this.canvas.clientWidth,A=this.canvas.clientHeight,L=this.canvas.style.width,R=this.canvas.style.height,F=!1;return T.onclick=function(){var I=function(){F=!F,F||(o.canvas.style.width=""+M+"px",o.canvas.style.height=""+A+"px",o.drawFrame(!1),requestAnimationFrame(function(){o.canvas.style.width=L,o.canvas.style.height=R}))},_=document;if(p.onfullscreenchange=I,p.onwebkitfullscreenchange=I,_.fullscreenElement||_.webkitFullscreenElement||_.mozFullScreenElement||_.msFullscreenElement)_.exitFullscreen?_.exitFullscreen():_.mozCancelFullScreen?_.mozCancelFullScreen():_.webkitExitFullscreen?_.webkitExitFullscreen():_.msExitFullscreen&&_.msExitFullscreen();else{M=o.canvas.clientWidth,A=o.canvas.clientHeight,L=o.canvas.style.width,R=o.canvas.style.height;var N=p;N.requestFullscreen?N.requestFullscreen():N.webkitRequestFullScreen?N.webkitRequestFullScreen():N.mozRequestFullScreen?N.mozRequestFullScreen():N.msRequestFullscreen&&N.msRequestFullscreen()}},x.onclick=function(){window.open("http://esotericsoftware.com")},window.onresize=function(){o.drawFrame(!1)},p},c.prototype.showSpeedDialog=function(o){var l=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&i(this.lastPopup.dom,"spine-player-popup-title")[0].textContent=="Speed"){this.lastPopup=null,o.classList.remove("spine-player-button-icon-speed-selected");return}var p=new e(this.dom,this.playerControls,`
				<div class="spine-player-popup-title">Speed</div>
				<hr>
				<div class="spine-player-row" style="user-select: none; align-items: center; padding: 8px;">
					<div class="spine-player-column">
						<div class="spine-player-speed-slider" style="margin-bottom: 4px;"></div>
						<div class="spine-player-row" style="justify-content: space-between;">
							<div>0.1x</div>
							<div>1x</div>
							<div>2x</div>
						</div>
					</div>
				</div>
			`),d=i(p.dom,"spine-player-speed-slider")[0],m=new a(2,.1,!0);d.appendChild(m.render()),m.setValue(this.speed/2),m.change=function(g){l.speed=g*2},o.classList.add("spine-player-button-icon-speed-selected"),p.show(function(){o.classList.remove("spine-player-button-icon-speed-selected"),p.dom.remove(),l.lastPopup=null}),this.lastPopup=p},c.prototype.showAnimationsDialog=function(o){var l=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&i(this.lastPopup.dom,"spine-player-popup-title")[0].textContent=="Animations"){this.lastPopup=null,o.classList.remove("spine-player-button-icon-animations-selected");return}if(!(!this.skeleton||this.skeleton.data.animations.length==0)){var p=new e(this.dom,this.playerControls,`
				<div class="spine-player-popup-title">Animations</div>
				<hr>
				<ul class="spine-player-list"></ul>
			`),d=i(p.dom,"spine-player-list")[0];this.skeleton.data.animations.forEach(function(m){if(!(l.config.animations&&l.config.animations.indexOf(m.name)<0)){var g=u(`
					<li class="spine-player-list-item selectable">
						<div class="selectable-circle">
						</div>
						<div class="selectable-text">
						</div>
					</li>
				`);m.name==l.config.animation&&g.classList.add("selected"),i(g,"selectable-text")[0].innerText=m.name,d.appendChild(g),g.onclick=function(){h(d.children,"selected"),g.classList.add("selected"),l.config.animation=m.name,l.playTime=0,l.setAnimation(m.name)}}}),o.classList.add("spine-player-button-icon-animations-selected"),p.show(function(){o.classList.remove("spine-player-button-icon-animations-selected"),p.dom.remove(),l.lastPopup=null}),this.lastPopup=p}},c.prototype.showSkinsDialog=function(o){var l=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&i(this.lastPopup.dom,"spine-player-popup-title")[0].textContent=="Skins"){this.lastPopup=null,o.classList.remove("spine-player-button-icon-skins-selected");return}if(!(!this.skeleton||this.skeleton.data.animations.length==0)){var p=new e(this.dom,this.playerControls,`
				<div class="spine-player-popup-title">Skins</div>
				<hr>
				<ul class="spine-player-list"></ul>
			`),d=i(p.dom,"spine-player-list")[0];this.skeleton.data.skins.forEach(function(m){if(!(l.config.skins&&l.config.skins.indexOf(m.name)<0)){var g=u(`
					<li class="spine-player-list-item selectable">
						<div class="selectable-circle">
						</div>
						<div class="selectable-text">
						</div>
					</li>
				`);m.name==l.config.skin&&g.classList.add("selected"),i(g,"selectable-text")[0].innerText=m.name,d.appendChild(g),g.onclick=function(){h(d.children,"selected"),g.classList.add("selected"),l.config.skin=m.name,l.skeleton.setSkinByName(l.config.skin),l.skeleton.setSlotsToSetupPose()}}}),o.classList.add("spine-player-button-icon-skins-selected"),p.show(function(){o.classList.remove("spine-player-button-icon-skins-selected"),p.dom.remove(),l.lastPopup=null}),this.lastPopup=p}},c.prototype.showSettingsDialog=function(o){var l=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&i(this.lastPopup.dom,"spine-player-popup-title")[0].textContent=="Debug"){this.lastPopup=null,o.classList.remove("spine-player-button-icon-settings-selected");return}if(!(!this.skeleton||this.skeleton.data.animations.length==0)){var p=new e(this.dom,this.playerControls,`
				<div class="spine-player-popup-title">Debug</div>
				<hr>
				<ul class="spine-player-list">
				</li>
			`),d=i(p.dom,"spine-player-list")[0],m=function(g,y){var k=u('<li class="spine-player-list-item"></li>'),S=new v(g);k.appendChild(S.render()),S.setEnabled(l.config.debug[y]),S.change=function(T){l.config.debug[y]=T},d.appendChild(k)};m("Bones","bones"),m("Regions","regions"),m("Meshes","meshes"),m("Bounds","bounds"),m("Paths","paths"),m("Clipping","clipping"),m("Points","points"),m("Hulls","hulls"),o.classList.add("spine-player-button-icon-settings-selected"),p.show(function(){o.classList.remove("spine-player-button-icon-settings-selected"),p.dom.remove(),l.lastPopup=null}),this.lastPopup=p}},c.prototype.drawFrame=function(o){var l=this;o===void 0&&(o=!0),o&&!this.stopRequestAnimationFrame&&requestAnimationFrame(function(){return l.drawFrame()});var p=this.context,d=p.gl,m=document,g=m.fullscreenElement||m.webkitFullscreenElement||m.mozFullScreenElement||m.msFullscreenElement,y=new s.Color().setFromString(g?this.config.fullScreenBackgroundColor:this.config.backgroundColor);if(d.clearColor(y.r,y.g,y.b,y.a),d.clear(d.COLOR_BUFFER_BIT),this.loadingScreen.backgroundColor.setFromColor(y),this.loadingScreen.draw(this.assetManager.isLoadingComplete()),this.assetManager.isLoadingComplete()&&this.skeleton==null&&this.loadSkeleton(),this.sceneRenderer.resize(s.webgl.ResizeMode.Expand),this.loaded){if(!this.paused&&this.config.animation){this.time.update();var k=this.time.delta*this.speed,S=this.animationState.getCurrent(0).animation.duration;for(this.playTime+=k;this.playTime>=S&&S!=0;)this.playTime-=S;this.playTime=Math.max(0,Math.min(this.playTime,S)),this.timelineSlider.setValue(this.playTime/S),this.animationState.update(k),this.animationState.apply(this.skeleton)}this.skeleton.updateWorldTransform();var T={x:this.currentViewport.x-this.currentViewport.padLeft,y:this.currentViewport.y-this.currentViewport.padBottom,width:this.currentViewport.width+this.currentViewport.padLeft+this.currentViewport.padRight,height:this.currentViewport.height+this.currentViewport.padBottom+this.currentViewport.padTop},x=(performance.now()-this.viewportTransitionStart)/1e3/this.config.viewport.transitionTime;if(this.previousViewport&&x<1){var M={x:this.previousViewport.x-this.previousViewport.padLeft,y:this.previousViewport.y-this.previousViewport.padBottom,width:this.previousViewport.width+this.previousViewport.padLeft+this.previousViewport.padRight,height:this.previousViewport.height+this.previousViewport.padBottom+this.previousViewport.padTop};T={x:M.x+(T.x-M.x)*x,y:M.y+(T.y-M.y)*x,width:M.width+(T.width-M.width)*x,height:M.height+(T.height-M.height)*x}}var A=this.scale(T.width,T.height,this.canvas.width,this.canvas.height);if(this.sceneRenderer.camera.zoom=T.width/A.x,this.sceneRenderer.camera.position.x=T.x+T.width/2,this.sceneRenderer.camera.position.y=T.y+T.height/2,this.sceneRenderer.begin(),this.config.backgroundImage&&this.config.backgroundImage.url){var L=this.assetManager.get(this.config.backgroundImage.url);this.config.backgroundImage.hasOwnProperty("x")&&this.config.backgroundImage.hasOwnProperty("y")&&this.config.backgroundImage.hasOwnProperty("width")&&this.config.backgroundImage.hasOwnProperty("height")?this.sceneRenderer.drawTexture(L,this.config.backgroundImage.x,this.config.backgroundImage.y,this.config.backgroundImage.width,this.config.backgroundImage.height):this.sceneRenderer.drawTexture(L,T.x,T.y,T.width,T.height)}this.sceneRenderer.drawSkeleton(this.skeleton,this.config.premultipliedAlpha),this.sceneRenderer.skeletonDebugRenderer.drawBones=this.config.debug.bones,this.sceneRenderer.skeletonDebugRenderer.drawBoundingBoxes=this.config.debug.bounds,this.sceneRenderer.skeletonDebugRenderer.drawClipping=this.config.debug.clipping,this.sceneRenderer.skeletonDebugRenderer.drawMeshHull=this.config.debug.hulls,this.sceneRenderer.skeletonDebugRenderer.drawPaths=this.config.debug.paths,this.sceneRenderer.skeletonDebugRenderer.drawRegionAttachments=this.config.debug.regions,this.sceneRenderer.skeletonDebugRenderer.drawMeshTriangles=this.config.debug.meshes,this.sceneRenderer.drawSkeletonDebug(this.skeleton,this.config.premultipliedAlpha);var R=this.config.controlBones,F=this.selectedBones,I=this.skeleton;d.lineWidth(2);for(var _=0;_<R.length;_++){var N=I.findBone(R[_]);if(N){var w=F[_]!==null?c.HOVER_COLOR_INNER:c.NON_HOVER_COLOR_INNER,C=F[_]!==null?c.HOVER_COLOR_OUTER:c.NON_HOVER_COLOR_OUTER;this.sceneRenderer.circle(!0,I.x+N.worldX,I.y+N.worldY,20,w),this.sceneRenderer.circle(!1,I.x+N.worldX,I.y+N.worldY,20,C)}}d.lineWidth(1),this.config.viewport.debugRender&&(this.sceneRenderer.rect(!1,this.currentViewport.x,this.currentViewport.y,this.currentViewport.width,this.currentViewport.height,s.Color.GREEN),this.sceneRenderer.rect(!1,T.x,T.y,T.width,T.height,s.Color.RED)),this.sceneRenderer.end(),this.sceneRenderer.camera.zoom=0}},c.prototype.scale=function(o,l,p,d){var m=d/p,g=l/o,y=m>g?p/o:d/l,k=new s.Vector2;return k.x=o*y,k.y=l*y,k},c.prototype.loadSkeleton=function(){var o=this;if(!this.loaded){if(this.assetManager.hasErrors()){this.showError("Error: assets could not be loaded.<br><br>"+f(JSON.stringify(this.assetManager.getErrors())));return}var l=this.assetManager.get(this.config.atlasUrl),p;if(this.config.jsonUrl){var d=this.assetManager.get(this.config.jsonUrl),m=new s.SkeletonJson(new s.AtlasAttachmentLoader(l));try{p=m.readSkeletonData(d)}catch(S){this.showError("Error: could not load skeleton .json.<br><br>"+S.toString());return}}else{var g=this.assetManager.get(this.config.skelUrl),y=new s.SkeletonBinary(new s.AtlasAttachmentLoader(l));try{p=y.readSkeletonData(g)}catch(S){this.showError("Error: could not load skeleton .skel.<br><br>"+S.toString());return}}this.skeleton=new s.Skeleton(p);var k=new s.AnimationStateData(p);if(k.defaultMix=this.config.defaultMix,this.animationState=new s.AnimationState(k),this.config.controlBones&&this.config.controlBones.forEach(function(S){p.findBone(S)||o.showError("Error: control bone '".concat(S,"' does not exist in skeleton."))}),this.config.skin||p.skins.length>0&&(this.config.skin=p.skins[0].name),this.config.skins&&this.config.skin.length>0&&this.config.skins.forEach(function(S){if(!o.skeleton.data.findSkin(S)){o.showError("Error: skin '".concat(S,"' in selectable skin list does not exist in skeleton."));return}}),this.config.skin){if(!this.skeleton.data.findSkin(this.config.skin)){this.showError("Error: skin '".concat(this.config.skin,"' does not exist in skeleton."));return}this.skeleton.setSkinByName(this.config.skin),this.skeleton.setSlotsToSetupPose()}if(this.config.viewport||(this.config.viewport={animations:{},debugRender:!1,transitionTime:.2}),typeof this.config.viewport.debugRender>"u"&&(this.config.viewport.debugRender=!1),typeof this.config.viewport.transitionTime>"u"&&(this.config.viewport.transitionTime=.2),this.config.viewport.animations?Object.getOwnPropertyNames(this.config.viewport.animations).forEach(function(S){if(!p.findAnimation(S)){o.showError("Error: animation '".concat(S,"' for which a viewport was specified does not exist in skeleton."));return}}):this.config.viewport.animations={},this.config.animations&&this.config.animations.length>0&&(this.config.animations.forEach(function(S){if(!o.skeleton.data.findAnimation(S)){o.showError("Error: animation '".concat(S,"' in selectable animation list does not exist in skeleton."));return}}),this.config.animation||(this.config.animation=this.config.animations[0])),this.config.animation||p.animations.length>0&&(this.config.animation=p.animations[0].name),this.config.animation){if(!p.findAnimation(this.config.animation)){this.showError("Error: animation '".concat(this.config.animation,"' does not exist in skeleton."));return}this.play(),this.timelineSlider.change=function(S){o.pause();var T=o.animationState.getCurrent(0).animation.duration,x=T*S;o.animationState.update(x-o.playTime),o.animationState.apply(o.skeleton),o.skeleton.updateWorldTransform(),o.playTime=x}}this.setupInput(),(p.skins.length==1||this.config.skins&&this.config.skins.length==1)&&this.skinButton.classList.add("spine-player-hidden"),(p.animations.length==1||this.config.animations&&this.config.animations.length==1)&&this.animationButton.classList.add("spine-player-hidden"),this.config.success(this),this.loaded=!0}},c.prototype.setupInput=function(){var o=this,l=this.config.controlBones,p=this.selectedBones=new Array(this.config.controlBones.length),d=this.canvas,m=new s.webgl.Input(d),g=null,y=new s.webgl.Vector3,k=new s.webgl.Vector3,S=new s.Vector2,T=this.skeleton,x=this.sceneRenderer;m.addListener({down:function(F,I){for(var _=0;_<l.length;_++){var N=T.findBone(l[_]);N&&(x.camera.screenToWorld(y.set(F,I,0),d.width,d.height),k.set(T.x+N.worldX,T.y+N.worldY,0).distance(y)<30&&(g=N))}},up:function(F,I){if(g)g=null;else{if(!o.config.showControls)return;o.paused?o.play():o.pause()}},dragged:function(F,I){g!=null&&(x.camera.screenToWorld(y.set(F,I,0),d.width,d.height),g.parent!==null?(g.parent.worldToLocal(S.set(y.x-T.x,y.y-T.y)),g.x=S.x,g.y=S.y):(g.x=y.x-T.x,g.y=y.y-T.y))},moved:function(F,I){for(var _=0;_<l.length;_++){var N=T.findBone(l[_]);N&&(x.camera.screenToWorld(y.set(F,I,0),d.width,d.height),k.set(T.x+N.worldX,T.y+N.worldY,0).distance(y)<30?p[_]=N:p[_]=null)}}});var M=!0,A=!1;document.addEventListener("mousemove",function(F){F instanceof MouseEvent&&L(F.clientX,F.clientY)}),document.addEventListener("touchmove",function(F){if(F instanceof TouchEvent){var I=F.changedTouches;if(I.length>0){var _=I[0];L(_.clientX,_.clientY)}}});var L=function(F,I){if(o.config.showControls){var _=i(o.dom,"spine-player-popup");M=R(F,I,o.playerControls.getBoundingClientRect()),A=R(F,I,o.canvas.getBoundingClientRect()),clearTimeout(o.cancelId);var N=_.length==0&&!M&&!A&&!o.paused;if(N?o.playerControls.classList.add("spine-player-controls-hidden"):o.playerControls.classList.remove("spine-player-controls-hidden"),!M&&_.length==0&&!o.paused){var w=function(){o.paused||o.playerControls.classList.add("spine-player-controls-hidden")};o.cancelId=setTimeout(w,1e3)}}},R=function(F,I,_){var N=F-_.left,w=I-_.top;return N>=0&&N<=_.width&&w>=0&&w<=_.height}},c.prototype.play=function(){var o=this;this.paused=!1;var l=function(){o.paused||o.playerControls.classList.add("spine-player-controls-hidden")};this.cancelId=setTimeout(l,1e3),this.playButton.classList.remove("spine-player-button-icon-play"),this.playButton.classList.add("spine-player-button-icon-pause"),this.config.animation&&(this.animationState.getCurrent(0)||this.setAnimation(this.config.animation))},c.prototype.pause=function(){this.paused=!0,this.playerControls.classList.remove("spine-player-controls-hidden"),clearTimeout(this.cancelId),this.playButton.classList.remove("spine-player-button-icon-pause"),this.playButton.classList.add("spine-player-button-icon-play")},c.prototype.setAnimation=function(o,l){l===void 0&&(l=!0),this.previousViewport=this.currentViewport;var p=this.calculateAnimationViewport(o),d={x:p.x,y:p.y,width:p.width,height:p.height,padLeft:"10%",padRight:"10%",padTop:"10%",padBottom:"10%"},m=this.config.viewport;typeof m.x<"u"&&typeof m.y<"u"&&typeof m.width<"u"&&typeof m.height<"u"&&(d.x=m.x,d.y=m.y,d.width=m.width,d.height=m.height),typeof m.padLeft<"u"&&(d.padLeft=m.padLeft),typeof m.padRight<"u"&&(d.padRight=m.padRight),typeof m.padTop<"u"&&(d.padTop=m.padTop),typeof m.padBottom<"u"&&(d.padBottom=m.padBottom);var g=this.config.viewport.animations[o];g&&(typeof g.x<"u"&&typeof g.y<"u"&&typeof g.width<"u"&&typeof g.height<"u"&&(d.x=g.x,d.y=g.y,d.width=g.width,d.height=g.height),typeof g.padLeft<"u"&&(d.padLeft=g.padLeft),typeof g.padRight<"u"&&(d.padRight=g.padRight),typeof g.padTop<"u"&&(d.padTop=g.padTop),typeof g.padBottom<"u"&&(d.padBottom=g.padBottom)),d.padLeft=this.percentageToWorldUnit(d.width,d.padLeft),d.padRight=this.percentageToWorldUnit(d.width,d.padRight),d.padBottom=this.percentageToWorldUnit(d.height,d.padBottom),d.padTop=this.percentageToWorldUnit(d.height,d.padTop),this.currentViewport=d,this.viewportTransitionStart=performance.now(),this.animationState.clearTracks(),this.skeleton.setToSetupPose(),this.animationState.setAnimation(0,o,l)},c.prototype.percentageToWorldUnit=function(o,l){return typeof l=="string"?o*parseFloat(l.substr(0,l.length-1))/100:l},c.prototype.calculateAnimationViewport=function(o){var l=this.skeleton.data.findAnimation(o);this.animationState.clearTracks(),this.skeleton.setToSetupPose(),this.animationState.setAnimationWith(0,l,!0);for(var p=100,d=l.duration>0?l.duration/p:0,m=1e8,g=-1e8,y=1e8,k=-1e8,S=new s.Vector2,T=new s.Vector2,x=0;x<p;x++)this.animationState.update(d),this.animationState.apply(this.skeleton),this.skeleton.updateWorldTransform(),this.skeleton.getBounds(S,T),!isNaN(S.x)&&!isNaN(S.y)&&!isNaN(T.x)&&!isNaN(T.y)?(m=Math.min(S.x,m),g=Math.max(S.x+T.x,g),y=Math.min(S.y,y),k=Math.max(S.y+T.y,k)):console.log("Bounds of animation "+o+" are NaN");return S.x=m,S.y=y,T.x=g-m,T.y=k-y,{x:S.x,y:S.y,width:T.x,height:T.y}},c.prototype.stopRendering=function(){this.stopRequestAnimationFrame=!0},c.HOVER_COLOR_INNER=new s.Color(.478,0,0,.25),c.HOVER_COLOR_OUTER=new s.Color(1,1,1,1),c.NON_HOVER_COLOR_INNER=new s.Color(.478,0,0,.5),c.NON_HOVER_COLOR_OUTER=new s.Color(1,0,0,.8),c}();s.SpinePlayer=t;function r(c,o){if(c===o)return!0;var l=function(p,d){for(var m=0;m<p.children.length;m++){var g=p.children[m];if(g===d||l(g,d))return!0}return!1};return l(c,o)}function n(c,o){var l=new Array,p=function(d,m,g){for(var y=0;y<d.children.length;y++){var k=d.children[y];k.id===m&&g.push(k),p(k,m,g)}};return p(c,o,l),l}function i(c,o){var l=new Array,p=function(d,m,g){for(var y=0;y<d.children.length;y++){var k=d.children[y];k.classList.contains(m)&&g.push(k),p(k,m,g)}};return p(c,o,l),l}function u(c){var o=document.createElement("div");return o.innerHTML=c,o.children[0]}function h(c,o){for(var l=0;l<c.length;l++)c[l].classList.remove(o)}function f(c){return c?c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;"):""}})(B||(B={}));var B;(function(s){var e=function(){function v(a){this.prefix=`<html>
<head>
<style>
body {
	margin: 0px;
}
</style>
</head>
<body>`.trim(),this.postfix="</body>",this.timerId=0,this.render(a)}return v.prototype.render=function(a){var t=this,r=`
				<div class="spine-player-editor-container">
					<div class="spine-player-editor-code"></div>
					<iframe class="spine-player-editor-player"></iframe>
				</div>
			`;a.innerHTML=r;var n=a.getElementsByClassName("spine-player-editor-code")[0];this.player=a.getElementsByClassName("spine-player-editor-player")[0],requestAnimationFrame(function(){t.code=CodeMirror(n,{lineNumbers:!0,tabSize:3,indentUnit:3,indentWithTabs:!0,scrollBarStyle:"native",mode:"htmlmixed",theme:"monokai"}),t.code.on("change",function(){t.startPlayer()}),t.setCode(v.DEFAULT_CODE)})},v.prototype.setPreAndPostfix=function(a,t){this.prefix=a,this.postfix=t,this.startPlayer()},v.prototype.setCode=function(a){this.code.setValue(a),this.startPlayer()},v.prototype.startPlayer=function(){var a=this;clearTimeout(this.timerId),this.timerId=setTimeout(function(){var t=a.code.getDoc().getValue();t=a.prefix+t+a.postfix,t=window.btoa(t),a.player.src="",a.player.src="data:text/html;base64,"+t},500)},v.DEFAULT_CODE=`
<script src="https://esotericsoftware.com/files/spine-player/3.7/spine-player.js"><\/script>
<link rel="stylesheet" href="https://esotericsoftware.com/files/spine-player/3.7/spine-player.css">

<div id="player-container" style="width: 100%; height: 100vh;"></div>

<script>
new spine.SpinePlayer("player-container", {
	jsonUrl: "https://esotericsoftware.com/files/examples/spineboy/export/spineboy-pro.json",
	atlasUrl: "https://esotericsoftware.com/files/examples/spineboy/export/spineboy-pma.atlas"
});
<\/script>
		`.trim(),v}();s.SpinePlayerEditor=e})(B||(B={}));const ya={key:0,class:"chatdialog-container"},xa={class:"chatdialog"},Aa={__name:"index",setup(s){const{state:e}=wt(),a=xt().theme.value.spineVoiceLang,t={arona:{skelUrl:"/spine_assets/arona/arona_spr.skel",atlasUrl:"/spine_assets/arona/arona_spr.atlas",idleAnimationName:"Idle_01",eyeCloseAnimationName:"Eye_Close_01",rightEyeBone:"R_Eye_01",leftEyeBone:"L_Eye_01",frontHeadBone:"Head_01",backHeadBone:"Head_Back",eyeRotationAngle:76.307,voiceConfig:[{audio:`/spine_assets/arona/audio/${a}/arona_01.ogg`,animation:"12",text:"您回来了？我等您很久啦！"},{audio:`/spine_assets/arona/audio/${a}/arona_02.ogg`,animation:"03",text:"嗯，不错，今天也是个好天气。"},{audio:`/spine_assets/arona/audio/${a}/arona_03.ogg`,animation:"02",text:`天空真是广啊……
另一边会有些什么呢？`},{audio:`/spine_assets/arona/audio/${a}/arona_04.ogg`,animation:"18",text:`偶尔也要为自己的健康着想啊，
老师，我会很担心的。`},{audio:`/spine_assets/arona/audio/${a}/arona_05.ogg`,animation:"25",text:"来，加油吧，老师！"},{audio:`/spine_assets/arona/audio/${a}/arona_06.ogg`,animation:"11",text:"今天又会有什么事情在等着我呢？"}]},plana:{skelUrl:"/spine_assets/plana/plana_spr.skel",atlasUrl:"/spine_assets/plana/plana_spr.atlas",idleAnimationName:"Idle_01",eyeCloseAnimationName:"Eye_Close_01",rightEyeBone:"R_Eye_01",leftEyeBone:"L_Eye_01",frontHeadBone:"Head_Rot",backHeadBone:"Head_Back",eyeRotationAngle:97.331,voiceConfig:[{audio:`/spine_assets/plana/audio/${a}/plana_02.ogg`,animation:"06",text:`我明白了，
老师现在无事可做，很无聊。`},{audio:`/spine_assets/plana/audio/${a}/plana_01.ogg`,animation:"13",text:`混乱，该行动无法理解。
请不要戳我，会出现故障。`},{audio:`/spine_assets/plana/audio/${a}/plana_03.ogg`,animation:"15",text:"确认连接。"},{audio:`/spine_assets/plana/audio/${a}/plana_04.ogg`,animation:"99",text:`正在待命，
需要解决的任务还有很多。`},{audio:`/spine_assets/plana/audio/${a}/plana_05.ogg`,animation:"17",text:"等您很久了。"}]}},r=lt(null);let n=null,i=null,u=lt(!1),h=null,f=lt("arona"),c=[];const o=lt(!1),l={context:null,buffers:new Map,currentSource:null,gainNode:null,initialize(){o.value&&(this.context||(this.context=new(window.AudioContext||window.webkitAudioContext),this.gainNode=this.context.createGain(),this.gainNode.gain.value=.5,this.gainNode.connect(this.context.destination)))},async loadAudioFile(E){if(this.buffers.has(E)){const V=this.buffers.get(E);return V.lastUsed=Date.now(),V.buffer}try{const D=await(await fetch(E)).arrayBuffer(),H=await this.context.decodeAudioData(D);return this.buffers.set(E,{buffer:H,lastUsed:Date.now()}),H}catch(V){return console.error("音频加载失败:",V),null}},async playAudio(E){return this.currentSource&&this.currentSource.stop(),new Promise(V=>{const D=this.context.createBufferSource();D.buffer=E,D.connect(this.gainNode),D.onended=()=>{this.currentSource===D&&(this.currentSource=null),V()},this.currentSource=D,D.start()})},clear(){this.currentSource&&(this.currentSource.stop(),this.currentSource=null),this.buffers.clear()},gc(){const E=Date.now();for(const[V,D]of this.buffers.entries())E-D.lastUsed>3e5&&this.buffers.delete(V)}},p=async()=>{if(!I.value)return!1;l.initialize(),l.gc();const E=I.value.voiceConfig.map(V=>l.loadAudioFile(V.audio));return Promise.all(E).catch(V=>(console.error("音频预加载失败:",V),!1))},d=()=>{if(!o.value||!r.value)return;const E=window.innerHeight+window.scrollY+1>=document.body.offsetHeight,V=document.querySelector(".chatdialog");m()&&(E?(r.value.style.left="-50%",V&&(V.style.left="-50%")):r.value.style.left="0%")},m=()=>o.value?/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent):!1;let g=!1;const y=lt(!1),k=lt("");let S=-1;const T=(E,V)=>{let D=null;return function(...H){D&&clearTimeout(D),D=setTimeout(()=>{E.apply(this,H),D=null},V)}},x=lt(null),M=T(async E=>{var V;if(E.preventDefault(),E.stopPropagation(),!g){g=!0,u.value=!0,(V=x.value)==null||V.call(x);const D=t[f.value].voiceConfig;let H;do H=Math.floor(Math.random()*D.length);while(H===S&&D.length>1);S=H;const Y=D[H];try{const W=await l.loadAudioFile(Y.audio);if(!W)throw new Error("音频加载失败");k.value=Y.text,y.value=!0,h.addAnimation(2,Y.animation,!1,0),await l.playAudio(W),g=!1,u.value=!1,h.setEmptyAnimation(2,0),y.value=!1}catch(W){console.error("音频播放失败:",W),g=!1,u.value=!1,y.value=!1}}},300);let A=null;const L=async E=>{try{i&&clearTimeout(i),r.value&&(r.value.innerHTML=""),n=new B.SpinePlayer(r.value,{skelUrl:E.skelUrl,atlasUrl:E.atlasUrl,premultipliedAlpha:!0,backgroundColor:"#00000000",alpha:!0,showControls:!1,success:function(V){V.setAnimation(E.idleAnimationName,!0);const D=V.skeleton,H=V.animationState;h=H;const Y=D.findBone(E.rightEyeBone),W=D.findBone(E.leftEyeBone),b=D.findBone(E.frontHeadBone),U=D.findBone(E.backHeadBone),O=Y?Y.data.x:0,P=Y?Y.data.y:0,G=W?W.data.x:0,z=W?W.data.y:0,X=b?b.data.x:0,J=b?b.data.y:0,Q=U?U.data.x:0,nt=U?U.data.y:0,K=15,ht=2,ot=1;function vt(st,at,it){const Et=Math.cos(it),yt=Math.sin(it);return{x:st*Et-at*yt,y:st*yt+at*Et}}function pt(st){if(u.value)return;const at=r.value.getBoundingClientRect(),it=st.clientX-(at.right-at.width/2),Et=st.clientY-(at.bottom-at.height*4/5),yt=E.eyeRotationAngle*(Math.PI/180),Ft=vt(it,Et,-yt),Tt=Ft.x,Lt=Ft.y,dt=Math.sqrt(Tt*Tt+Lt*Lt),St=Math.atan2(Lt,Tt),Ut=Math.min(dt,K),_e=-Ut*Math.cos(St),De=Ut*Math.sin(St);Y&&(Y.x=O+_e,Y.y=P+De),W&&(W.x=G+_e,W.y=z+De);const xn=Math.min(dt,ht)*Math.cos(St),An=Math.min(dt,ht)*Math.sin(St),En=Math.min(dt,ot)*Math.cos(St),Tn=Math.min(dt,ot)*Math.sin(St);b&&(b.x=X-xn,b.y=J+An),U&&(U.x=Q+En,U.y=nt-Tn),D.updateWorldTransform()}function ct(){Y&&(Y.x=O,Y.y=P),W&&(W.x=G,W.y=z),b&&(b.x=X,b.y=J),U&&(U.x=Q,U.y=nt),D.updateWorldTransform()}x.value=ct;function mt(){const st=Math.random()*3+3,at=Math.random()>.5;H.setAnimation(1,E.eyeCloseAnimationName,!1),at&&H.addAnimation(1,E.eyeCloseAnimationName,!1,.1),i=setTimeout(mt,st*1e3)}m()||(A=pt,window.addEventListener("mousemove",A)),mt()},error:function(V,D){console.error("Spine加载失败: "+D)}})}catch(V){console.error("Failed to initialize spine player:",V)}},R=_t(()=>e.darkMode==="dark"),F=_t(()=>e.SpinePlayerEnabled),I=_t(()=>t[f.value]),_=E=>{E.type==="scroll"?d():["mousemove","touchmove"].includes(E.type)&&(A==null||A(E))},N=()=>{i&&clearTimeout(i),window.removeEventListener("scroll",_),A&&!m()&&(window.removeEventListener("mousemove",A),A=null),r.value&&(r.value.innerHTML=""),n&&(l.clear(),n=null,h=null),o.value&&window.WeakRef&&(c=c.filter(E=>new WeakRef(E).deref()!==null))},C=T(async()=>{if(N(),!(!F.value||!r.value)){f.value=R.value?"plana":"arona";try{await Promise.all([p(),L(I.value)])}catch(E){console.error("初始化失败:",E)}}},300);return jt([R,F],async([E,V],[D,H])=>{V!==H?V?C():N():V&&E!==D&&C()},{immediate:!0}),At(()=>{o.value=!0;const E={passive:!0};window.addEventListener("scroll",_,E),m()||window.addEventListener("mousemove",_,E),e.SpinePlayerEnabled&&C()}),(E,V)=>tt(e).SpinePlayerEnabled?(j(),$(It,{key:0},[Z("div",{ref_key:"playerContainer",ref:r,class:"playerContainer",onClick:V[0]||(V[0]=(...D)=>tt(M)&&tt(M)(...D)),onTouchstart:V[1]||(V[1]=(...D)=>tt(M)&&tt(M)(...D))},null,544),Mt($t,{name:"fade"},{default:bt(()=>[y.value?(j(),$("div",ya,[V[2]||(V[2]=Z("div",{class:"chatdialog-triangle"},null,-1)),Z("div",xa,ut(k.value),1)])):Rt("",!0)]),_:1})],64)):Rt("",!0)}},Ea=Ct(Aa,[["__scopeId","data-v-07ccf4e1"]]),Ta={style:{"min-height":"100vh"}},Sa=ft({__name:"Layout",setup(s){const{page:e}=xt(),{state:v}=wt();return(a,t)=>{const r=Xe("ClientOnly");return j(),$(It,null,[Mt(dr),tt(e).isNotFound?(j(),Ot(sa,{key:1})):(j(),$(It,{key:0},[Z("main",Ta,[Mt(Qr),Mt(ni,null,{default:bt(()=>[Mt($t,{name:"fade",mode:"out-in"},{default:bt(()=>[!tt(v).splashLoading&&tt(e).filePath==="index.md"?(j(),Ot(li,{key:0})):tt(e).filePath==="tags/index.md"?(j(),Ot(Ui,{key:1})):(j(),Ot(ta,{key:2}))]),_:1})]),_:1}),Mt($t,{name:"fade",mode:"out-in"},{default:bt(()=>[tt(e).filePath==="index.md"||tt(e).filePath==="tags/index.md"?(j(),Ot(Fi,{key:0})):(j(),Ot(qi,{key:1}))]),_:1})]),Mt(Ca),tt(v).fireworksEnabled?(j(),Ot(da,{key:0})):Rt("",!0),Mt(r,null,{default:bt(()=>[Mt(Ea)]),_:1}),Mt(la),t[0]||(t[0]=Z("audio",{id:"background-music",loop:""},[Z("source",{src:Vn,type:"audio/mpeg"})],-1))],64))],64)}}}),Ia={Layout:Sa,enhanceApp({app:s,router:e,siteData:v}){}};export{Ia as R,fa as _};
